- commits:
    - subject: Allow for partitions to enumerate right after provisioning
      hash: 7f1b9f43bbc80a6958053980f66861a3f7f97c20
      body: |
        Starting with 32.7.1 the Xavier AGX needs a delay
        for the partitions to enumerate after rereadpt
        is triggered.
      footer:
        Changelog-entry: Allow for partitions to enumerate right after provisioning
        changelog-entry: Allow for partitions to enumerate right after provisioning
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.98.12+rev2
  title: "'blockdev: Allow for partitions to enumerate right after provisioning'"
  date: 2022-05-10T15:35:03.004Z
- commits:
    - subject: Use SD-CARD or eMMC as boot device on Xavier cboot
      hash: 74b54e48f6d3f7b981870fce4299b15878ce8dce
      body: ""
      footer:
        Changelog-entry: Use SD-CARD or eMMC as boot device on Xavier cboot
        changelog-entry: Use SD-CARD or eMMC as boot device on Xavier cboot
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.98.12+rev1
  title: "'cboot: Use SD-CARD or eMMC as boot device on Xavier'"
  date: 2022-05-09T07:14:56.331Z
- commits:
    - subject: Update layers/meta-balena to 0c96705ba26cda1062eff0b128eccb4f9388f9cc
      hash: b8b4b58650b660f3913a2fb24bb4ea8fd7632123
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 0c96705ba26cda1062eff0b128eccb4f9388f9cc
        changelog-entry: Update layers/meta-balena to 0c96705ba26cda1062eff0b128eccb4f9388f9cc
      author: Renovate Bot
      nested:
        - commits:
            - subject: "tests/hup: Test hostapp-update from current release"
              hash: 2f5b7fd58b11a69f10aea7b4391dba264e454f9b
              body: |
                After HUP from previous release to current under-test release
                we should HUP again to ensure hostapp-update is sane in the
                new release.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.98.12
          title: "'Add \"HUP from this release\" test to ensure hostapp-update is
            functional'"
          date: 2022-05-02T13:38:42.232Z
        - commits:
            - subject: "tests: os: create swap test"
              hash: cb19043d77a68e24e48a96acb2391938acd7cd71
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.98.11
          title: "'tests: os: create swap test'"
          date: 2022-04-29T19:55:50.927Z
  version: 2.98.12
  title: "'Update layers/meta-balena digest to 0c96705'"
  date: 2022-05-03T17:56:39.689Z
- commits:
    - subject: Update layers/meta-balena to 45726c6e1009bd1988071131762c483193a5ef59
      hash: 508ea13cf9369dc86b7ce93651dc0d99e6372847
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 45726c6e1009bd1988071131762c483193a5ef59
        changelog-entry: Update layers/meta-balena to 45726c6e1009bd1988071131762c483193a5ef59
      author: Renovate Bot
      nested:
        - commits:
            - subject: "tests: bump leviathan to 2.13"
              hash: 5dcf43cfcae4a8628c9aca0834205fbe4476edf1
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.98.10
          title: "'tests: bump leviathan to 2.13'"
          date: 2022-04-28T16:57:41.215Z
  version: 2.98.10
  title: "'Update layers/meta-balena digest to 45726c6'"
  date: 2022-04-29T12:20:58.650Z
- commits:
    - subject: Update balena-yocto-scripts to fe688d2bfbb121401830ec804fa423619048a224
      hash: 0491546dc3cd1045d76758d45bbf504a0a778437
      body: Update balena-yocto-scripts
      footer:
        Changelog-entry: Update balena-yocto-scripts to fe688d2bfbb121401830ec804fa423619048a224
        changelog-entry: Update balena-yocto-scripts to fe688d2bfbb121401830ec804fa423619048a224
      author: Renovate Bot
      nested:
        - commits:
            - subject: "balena-api.inc: fix 'fatal: unsafe repository'"
              hash: b467ef7d676d77e1057b1b9a1180075b9b82012e
              body: |
                Git 2.35.2 was released to fix a security issue with multi-user
                machines. Add `device_dir` to the whitelist to avoid this error.

                Also, let's make sure an error is thrown when the hostapp cannot
                be made public.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: balena-yocto-scripts-1.19.4
          title: "'Add dir exceptions for newer git'"
          date: 2022-04-28T11:28:28.873Z
  version: 2.98.9+rev1
  title: "'Update balena-yocto-scripts digest to fe688d2'"
  date: 2022-04-28T14:07:01.584Z
- commits:
    - subject: Update layers/meta-balena to fc45fb36cc79e5b7eab1017f4e5713773aba7ed1
      hash: ddd9caf4e806d79d6b599cd61bad90e2ada60833
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to fc45fb36cc79e5b7eab1017f4e5713773aba7ed1
        changelog-entry: Update layers/meta-balena to fc45fb36cc79e5b7eab1017f4e5713773aba7ed1
      author: Renovate Bot
      nested:
        - commits:
            - subject: "tests: bump leviathan to 2.2.11"
              hash: 617ab26578364b95525c225b3f2066e792b3cf2f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.98.9
          title: "'tests: bump leviathan to 2.2.11'"
          date: 2022-04-28T10:27:03.026Z
        - commits:
            - subject: "tests/cloud: fix ssh test for testbot workers"
              hash: 4d44bb297e015bfaef140d8c92d14de0e412be47
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.98.8
          title: "'tests/cloud: fix ssh test for testbot workers'"
          date: 2022-04-28T09:09:48.983Z
  version: 2.98.9
  title: "'Update layers/meta-balena digest to fc45fb3'"
  date: 2022-04-28T13:51:49.857Z
- commits:
    - subject: Update layers/meta-balena to 9431a0dcafd13d0218b875f40e7e642d042ae4aa
      hash: cae605f9b9f6902d59acc04bea5aeff42c4dc4c1
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 9431a0dcafd13d0218b875f40e7e642d042ae4aa
        changelog-entry: Update layers/meta-balena to 9431a0dcafd13d0218b875f40e7e642d042ae4aa
      author: Renovate Bot
      nested:
        - commits:
            - subject: "linux-firmware: package QuZ-a0-jf-b0 separately"
              hash: 20695e32e0e8b3d60267090530b3cd41a3450d56
              body: |
                This is used by Intel Wireless-AC 9462
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.98.7
          title: "'linux-firmware: package QuZ-a0-jf-b0 separately'"
          date: 2022-04-27T09:22:39.188Z
  version: 2.98.7
  title: "'Update layers/meta-balena digest to 9431a0d'"
  date: 2022-04-27T15:27:16.037Z
- commits:
    - subject: Update layers/meta-balena to 798e236d25380d70e7be09d8d5dbb0349c05f413
      hash: d59dace74940fc67b6e3a1a91723bb99e544226e
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 798e236d25380d70e7be09d8d5dbb0349c05f413
        changelog-entry: Update layers/meta-balena to 798e236d25380d70e7be09d8d5dbb0349c05f413
      author: Renovate Bot
      nested:
        - commits:
            - subject: "timeinit/timesync-https: Update rtc after setting system time"
              hash: f16451b49b77bd7d3f5f82d20e0605a9797832eb
              body: >
                This solves a problem seen on a device on which, although

                timeinit-rtc finishes running before timesync-https, chronyd

                sets the system time to the incorrect rtc time

                as soon as timesync-https finished running and setting the correct date

                from the servers.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.98.6
          title: "'timeinit/timesync-https: Update rtc after setting system time'"
          date: 2022-04-26T19:32:46.066Z
        - commits:
            - subject: "networkmanager: Use default DHCP timeout"
              hash: 6175420731baa349c8d197151189462a23b2f460
              body: >
                This reverts 5047757 where we set the global DHCP timeout for
                ipv4 to

                infinity to mitigate problems with routers that do not respond to DHCP

                requests in time.


                This however causes issues on some routers, which after power cycle fail to

                renew leases after they are expired.


                The same ipv4.dhcp-timeout can be specified on per connection basis. Since

                the case with lease renewal due to router power cycle is a more common case,

                it is better to keep the global dhcp-timeout default unmodified. If the

                setting needs adjustment then it can be overwritten in the particular

                connection profile.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
              nested: []
          version: meta-balena-2.98.5
          title: "'networkmanager: Use default DHCP timeout'"
          date: 2022-04-26T11:36:14.839Z
  version: 2.98.6
  title: "'Update layers/meta-balena digest to 798e236'"
  date: 2022-04-27T09:52:01.913Z
- commits:
    - subject: "linux-tegra: Update dtb files for photon-xavier-nx to 32.7.1"
      hash: 93a310599fabe30f684ccb31b55db55b2e475cfc
      body: ""
      footer:
        Signed-off-by: Pelle van Gils <pelle@hwky.ai>
        signed-off-by: Pelle van Gils <pelle@hwky.ai>
        Changelog-entry: "linux-tegra: Update dtb files for photon-xavier-nx to 32.7.1"
        changelog-entry: "linux-tegra: Update dtb files for photon-xavier-nx to 32.7.1"
      author: Pelle van Gils
      nested: []
    - subject: "linux-tegra: Update dtb files for photon-nano to 32.7.1"
      hash: b0ba738d88dce2a752fb9054361810373877cd11
      body: ""
      footer:
        Signed-off-by: Pelle van Gils <pelle@hwky.ai>
        signed-off-by: Pelle van Gils <pelle@hwky.ai>
        Changelog-entry: "linux-tegra: Update dtb files for photon-nano to 32.7.1"
        changelog-entry: "linux-tegra: Update dtb files for photon-nano to 32.7.1"
      author: Pelle van Gils
      nested: []
  version: 2.98.4+rev2
  title: "'Update DTBs for photon-nano, photon-xavier-nx to 32.7.1'"
  date: 2022-04-26T13:45:45.216Z
- commits:
    - subject: Update balena-yocto-scripts to 13da1d2fd4483ba9a2cf9d3d7146985bbd720c6b
      hash: ee2cae1b8a9434890007fd0cb63d9d1349cb0be9
      body: Update balena-yocto-scripts
      footer:
        Changelog-entry: Update balena-yocto-scripts to 13da1d2fd4483ba9a2cf9d3d7146985bbd720c6b
        changelog-entry: Update balena-yocto-scripts to 13da1d2fd4483ba9a2cf9d3d7146985bbd720c6b
      author: Renovate Bot
      nested:
        - commits:
            - subject: "balena-lib: fix 445d6d1fcfce97f85ffcfedc0083eb658a734321"
              hash: d8a3a47e87dc65b81451e5dd07213577cc9fe82b
              body: |
                Commit 445d6d1fcfce97f85ffcfedc0083eb658a734321 does not fix
                the issue because it is missing the --global arg without which
                the git config command fails.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: balena-yocto-scripts-1.19.3
          title: "'balena-lib: fix 445d6d1fcfce97f85ffcfedc0083eb658a734321'"
          date: 2022-04-26T08:40:52.078Z
  version: 2.98.4+rev1
  title: "'Update balena-yocto-scripts digest to 13da1d2'"
  date: 2022-04-26T10:22:12.175Z
- commits:
    - subject: Update layers/meta-balena to 0d70942b143215aa0c350705d74a71a87d42870a
      hash: f1d6dfef940c27d37d5ab06486ce6114a0c94863
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 0d70942b143215aa0c350705d74a71a87d42870a
        changelog-entry: Update layers/meta-balena to 0d70942b143215aa0c350705d74a71a87d42870a
      author: Renovate Bot
      nested:
        - commits:
            - subject: Disable Engine startup timeouts
              hash: c4ce541526455c8cb891e7c76889e0d4cb2735b1
              body: >
                There are known situations in which balenaEngine times out
                during

                initialization (for example, during aufs to overlayfs migrations, or

                when restarting a device that was running a large number of containers).

                When these time outs occur, Systemd kills the Engine, causing further

                problems.


                To avoid these cases, this commit disables timeouts during the Engine

                initialization.


                This is also aligned with the default Systemd settings distributed with

                the Moby project.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
          version: meta-balena-2.98.4
          title: "'Disable Engine startup timeouts'"
          date: 2022-04-25T22:36:18.725Z
    - subject: Update layers/meta-balena to c71a9ac922091069e6fa736a07213685555ff21c
      hash: 9be07bbc9eb562151932b34cc33fa1927d33900c
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to c71a9ac922091069e6fa736a07213685555ff21c
        changelog-entry: Update layers/meta-balena to c71a9ac922091069e6fa736a07213685555ff21c
      author: Renovate Bot
      nested:
        - commits:
            - subject: Disable Engine startup timeouts
              hash: c4ce541526455c8cb891e7c76889e0d4cb2735b1
              body: >
                There are known situations in which balenaEngine times out
                during

                initialization (for example, during aufs to overlayfs migrations, or

                when restarting a device that was running a large number of containers).

                When these time outs occur, Systemd kills the Engine, causing further

                problems.


                To avoid these cases, this commit disables timeouts during the Engine

                initialization.


                This is also aligned with the default Systemd settings distributed with

                the Moby project.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
          version: meta-balena-2.98.4
          title: "'Disable Engine startup timeouts'"
          date: 2022-04-25T22:36:18.725Z
  version: 2.98.4
  title: "'Update layers/meta-balena digest to 0d70942'"
  date: 2022-04-26T02:16:08.769Z
- commits:
    - subject: Update layers/meta-balena to b6b6fc6c137e42a4184d46432c23cd20a35edd6c
      hash: a6fe0824aa77054002661109cca5a297f49b31cd
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to b6b6fc6c137e42a4184d46432c23cd20a35edd6c
        changelog-entry: Update layers/meta-balena to b6b6fc6c137e42a4184d46432c23cd20a35edd6c
      author: Renovate Bot
      nested:
        - commits:
            - subject: "balena-config-vars: unit-conf: Correct description"
              hash: b1ff3f620ea823239442cfeccd52feef6928f405
              body: |
                The os-networkmanager entry had an incorrect description.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "tests: os: Remove sshKeys test"
              hash: 579aef0199ed91f31bca301f7dc8ebd517594583
              body: >
                This is replaced by an SSH authentication test in the cloud
                suite, which

                is more comprenhensive.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "tests: cloud: Add SSH authentication tests"
              hash: e9f125a67aa61136fe36a5844ca751984ab679aa
              body: >
                This new test validates SSH authentication both in production
                and

                development mode.


                A managed device is always accessible via the configured custom keys.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "os-sshkeys: When ssh keys change, regenerate development
                configuration"
              hash: 0856b6e7acbe41a1bc60afb26906ee5bf9b253a9
              body: >
                The behaviour of the SSH connection depends on whether custom
                keys are

                present or not. This commit calls out to generate the development mode

                configuration file on ssh key change.


                Fixes #2530
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "development-features: use os-helpers-devmode include file"
              hash: afb63f9bfb794fa7af14c6e03bf29e85705dbf7f
              body: >
                The development mode configuration file is now generated on a
                helper

                script.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "os-helpers: Add os-helpers-devmode"
              hash: dfaef0b9c7d07b31f254c2f9592772a58562f9e9
              body: >
                This extracts the generation of the development mode
                configuration file

                so it can be shared.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.98.2
          title: "'Apply sshKeys change on development Mode'"
          date: 2022-04-25T08:16:24.320Z
        - commits:
            - subject: "tests/leviathan: Update leviathan to v2.2.4"
              hash: 162c36be826eb3028a11fca2266407e8d2570d88
              body: |
                Update leviathan from 2.0.4 to 2.2.4
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.98.1
          title: "'tests/leviathan: Update leviathan to v2.2.4'"
          date: 2022-04-23T18:56:56.077Z
  version: 2.98.2
  title: "'Update layers/meta-balena digest to b6b6fc6'"
  date: 2022-04-25T14:58:46.554Z
- commits:
    - subject: Update layers/meta-balena to 5498ce099c7316a58d21c35d970292f1e2443d97
      hash: 9c7a0fca95121ca45317ba12fecacfe86fcadb93
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 5498ce099c7316a58d21c35d970292f1e2443d97
        changelog-entry: Update layers/meta-balena to 5498ce099c7316a58d21c35d970292f1e2443d97
      author: Renovate Bot
      nested:
        - commits:
            - subject: Refresh PKI assets from config endpoint
              hash: 081fca887b36108bc192ee98da6ba088f9e909b9
              body: >
                * Fixes #2569

                * ensure OpenVPN client always starts with the latest CA certificate
                  from API config endpoint as this certificate may have changed and
                  we don't want VPN to be down for ~24 hours until os-config is triggered
                  by systemd timer
              footer:
                Change-type: minor
                change-type: minor
              author: ab77
              nested: []
          version: meta-balena-2.98.0
          title: "'Refresh PKI assets from config endpoint'"
          date: 2022-04-23T10:43:47.657Z
  version: 2.98.0
  title: "'Update layers/meta-balena digest to 5498ce0'"
  date: 2022-04-23T14:48:43.394Z
- commits:
    - subject: Update layers/meta-balena to a06697e55f26a36c296e51a8eddb81c3dbc1ae51
      hash: b2222935d96c2020575a3f8a46e6389e65739241
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to a06697e55f26a36c296e51a8eddb81c3dbc1ae51
        changelog-entry: Update layers/meta-balena to a06697e55f26a36c296e51a8eddb81c3dbc1ae51
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update balena-engine to v20.10.16
              hash: 7affe9d563250d79906ffc26401d8d7beea74114
              body: |
                Update balena-engine from 20.10.12 to 20.10.16
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Changelog-entry: Update balena-engine to v20.10.16
                changelog-entry: Update balena-engine to v20.10.16
              author: Leandro Motta Barros
              nested:
                - commits:
                    - subject: "contrib/init/systemd: update balena-engine.service"
                      hash: 4d3b831bfbe197a68792a3baf33cbea639811763
                      body: |
                        Currently this file is used by Buildroot.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: TIAN Yuanhao <tianyuanhao3@163.com>
                        signed-off-by: TIAN Yuanhao <tianyuanhao3@163.com>
                      author: TIAN Yuanhao
                      nested: []
                  version: balena-engine-20.10.16
                  title: "'update balena-engine.service'"
                  date: 2022-04-07T05:22:26.128Z
                - commits:
                    - subject: Log more info upon when raising errRootFSMismatch
                      hash: ab3db5c03663e0b2ee35213ceebf9038e4af6b62
                      body: >
                        We currently do not log any information to help us
                        understanding the

                        underlying issue -- not even to identify what is the exact point in

                        which the error is raised. This commit improves on this situation.
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                  version: balena-engine-20.10.15
                  title: "'Configure Renovate'"
                  date: 2022-04-05T07:56:50.137Z
                - commits:
                    - subject: Add more integration tests for deltas
                      hash: 59f6cd6dc32ee178532dbf7595933ef606cebf39
                      body: >
                        This adds two new integration tests:


                        * TestDeltaSize: this is meant to catch regressions on delta sizes. It
                          generates deltas and compare their sizes with the delta sizes we get
                          as of now. If the size increases, the test fails.
                        * TestDeltaCorrectness: checks if applying a delta indeed results in the
                          same image as we had originally.

                        A number of different test cases (different images with distinct

                        features) are tested for each of these integration tests.
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                  version: balena-engine-20.10.14
                  title: "'Add more integration tests for deltas'"
                  date: 2022-04-01T13:30:28.649Z
                - commits:
                    - subject: Add link to post to test landr
                      hash: 4688b2395c49dcd350a6107824da61a13a1c4765
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: andrew
                      nested: []
                  version: balena-engine-20.10.13
                  title: "'Add link to post to test landr'"
                  date: 2022-03-09T23:12:06.832Z
          version: meta-balena-2.97.0
          title: "'balena-engine: Update to 20.10.16'"
          date: 2022-04-23T01:23:49.298Z
  version: 2.97.0
  title: "'Update layers/meta-balena digest to a06697e'"
  date: 2022-04-23T06:38:09.602Z
- commits:
    - subject: Update layers/meta-balena to 0a58c6cdfc324e3fca540c48a119084669f99558
      hash: 729e4496da60207c65b3a48c08ce53c36a275fef
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 0a58c6cdfc324e3fca540c48a119084669f99558
        changelog-entry: Update layers/meta-balena to 0a58c6cdfc324e3fca540c48a119084669f99558
      author: Renovate Bot
      nested:
        - commits:
            - subject: "kernel-balena: Mention https protocol for github repository"
              hash: e3ee5b0b70827fa5ae1f70b0721d9125885affe5
              body: |
                Github now requires for the https protocol to be used
                when cloning repositories.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.96.1
          title: "'kernel-balena: Mention https protocol for github repository'"
          date: 2022-04-22T17:25:18.183Z
  version: 2.96.1
  title: "'Update layers/meta-balena digest to 0a58c6c'"
  date: 2022-04-22T22:37:42.316Z
- commits:
    - subject: Update layers/meta-balena to b7490ca45f22591b1e6f7fddc1bf5853f373c125
      hash: a6ab444c6d64f99e5bf2c5cb890f19b2e8bea06e
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to b7490ca45f22591b1e6f7fddc1bf5853f373c125
        changelog-entry: Update layers/meta-balena to b7490ca45f22591b1e6f7fddc1bf5853f373c125
      author: Renovate Bot
      nested:
        - commits:
            - subject: "mobynit: Update to v0.2.0"
              hash: 1a6dbc795aa2546f38bbd4cef30d77f167e60182
              body: |
                Fixes #2589
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.96.0
          title: "'mobynit: Update to v0.2.0'"
          date: 2022-04-22T12:42:16.844Z
  version: 2.96.0
  title: "'Update layers/meta-balena digest to b7490ca'"
  date: 2022-04-22T19:40:34.160Z
- commits:
    - subject: Update balena-yocto-scripts to 63e2b61fa462be4f68a2b7d8ca5084fd2d7d09b2
      hash: 9736b02ac38f459f0db35569872cda52f9781950
      body: Update balena-yocto-scripts
      footer:
        Changelog-entry: Update balena-yocto-scripts to 63e2b61fa462be4f68a2b7d8ca5084fd2d7d09b2
        changelog-entry: Update balena-yocto-scripts to 63e2b61fa462be4f68a2b7d8ca5084fd2d7d09b2
      author: Renovate Bot
      nested:
        - commits:
            - subject: "balena-lib: fix 'fatal: unsafe repository'"
              hash: 445d6d1fcfce97f85ffcfedc0083eb658a734321
              body: |
                Git 2.35.2 was released to fix a security issue with multi-user
                machines. Add `device_dir` to the whitelist to avoid this error.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: balena-yocto-scripts-1.19.2
          title: "'balena-lib: fix 'fatal: unsafe repository''"
          date: 2022-04-21T23:56:18.934Z
  version: 2.95.17+rev1
  title: "'Update balena-yocto-scripts digest to 63e2b61'"
  date: 2022-04-22T13:35:42.322Z
- commits:
    - subject: Update layers/meta-balena to 7730a5a3808f7d154b47831f930adedecde1cbba
      hash: b3e4a54d1a5de2e57f2439c5b1c0a7591579aed2
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 7730a5a3808f7d154b47831f930adedecde1cbba
        changelog-entry: Update layers/meta-balena to 7730a5a3808f7d154b47831f930adedecde1cbba
      author: Renovate Bot
      nested:
        - commits:
            - subject: "resin-device-register: avoid blocking the flasher when not connected"
              hash: b5c521404c14df8a5d14e2789c97eebe79eb7d96
              body: >
                Starting with v2.91.6 device provisioning will not start if the
                device

                was unable to register in the cloud due to lack of internet connectivity.

                To avoid this, we switch to retrying 3 times with the usual 2 second delay

                between attempts, after which the flashing process will start.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.95.17
          title: "'resin-device-register: improve provisioning'"
          date: 2022-04-22T08:33:14.274Z
  version: 2.95.17
  title: "'Update layers/meta-balena digest to 7730a5a'"
  date: 2022-04-22T13:20:40.084Z
- commits:
    - subject: Update layers/meta-balena to 29b972bc69f5ab1778b9b255c0c0554c3407db32
      hash: b7574ae80c1813dcf013b301c69e44b690d6ddb8
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 29b972bc69f5ab1778b9b255c0c0554c3407db32
        changelog-entry: Update layers/meta-balena to 29b972bc69f5ab1778b9b255c0c0554c3407db32
      author: Renovate Bot
      nested:
        - commits:
            - subject: Package iwlwifi-QuZ-a0-hr-b0 firmware separately
              hash: 261534942e5fe5b60680f51b129f33f00363a88e
              body: |
                We add this fw on its own package so that boards can add it to
                rootfs (for Intel NUC 11th generation more specifically)
              footer:
                Changelog-entry: Package iwlwifi-QuZ-a0-hr-b0 firmware separately
                changelog-entry: Package iwlwifi-QuZ-a0-hr-b0 firmware separately
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.95.16
          title: "'linux-firmware: Package iwlwifi-QuZ-a0-hr-b0 firmware'"
          date: 2022-04-19T13:00:33.214Z
  version: 2.95.16
  title: "'Update layers/meta-balena digest to 29b972b'"
  date: 2022-04-21T23:31:48.187Z
- commits:
    - subject: "linux-tegra: Update IMX477 dtb photon-tx2-nx L4T R32.7.1"
      hash: fb200d7057501a31eac1eb7199f134af7314b9f7
      body: |
        The dtb file is renamed by CTI. Also added dtb with old name to boot
        partition for backward compatibility.
      footer:
        Changelog-entry: "linux-tegra: Update IMX477 dtb photon-tx2-nx L4T R32.7.1"
        changelog-entry: "linux-tegra: Update IMX477 dtb photon-tx2-nx L4T R32.7.1"
        Signed-off-by: Clint Haerinck clint.haerinck@citymesh.com
        signed-off-by: Clint Haerinck clint.haerinck@citymesh.com
      author: ClintHaerinck
      nested: []
  version: 2.95.15+rev5
  title: "'linux-tegra: update CTI Photon TX2 NX IMX477 dtb R32.7.1'"
  date: 2022-04-20T18:05:19.237Z
- commits:
    - subject: "linux-tegra: Update dtb's photon-tx2-nx L4T R32.7.1"
      hash: d96cccebfa7fb9e38c8ca873e38d19d000e88bc5
      body: |
        Update CTI Photon TX2 NX dtb's to L4T R32.7.1
        Official dtb with IMX477 will be released soon
      footer:
        Changelog-entry: "linux-tegra: Update dtb's photon-tx2-nx L4T R32.7.1"
        changelog-entry: "linux-tegra: Update dtb's photon-tx2-nx L4T R32.7.1"
        Signed-off-by: Clint Haerinck clint.haerinck@citymesh.com
        signed-off-by: Clint Haerinck clint.haerinck@citymesh.com
      author: ClintHaerinck
      nested: []
  version: 2.95.15+rev4
  title: "'linux-tegra: update CTI Photon TX2 NX dtbs R32.7.1'"
  date: 2022-04-15T18:53:05.397Z
- commits:
    - subject: Update balena-yocto-scripts to ff9465a20e32843b3b01ec3efa0d8a5390e6d66c
      hash: 36f06a4ce28a1f82329f6c52f72e39fc5a654af4
      body: Update balena-yocto-scripts
      footer:
        Changelog-entry: Update balena-yocto-scripts to ff9465a20e32843b3b01ec3efa0d8a5390e6d66c
        changelog-entry: Update balena-yocto-scripts to ff9465a20e32843b3b01ec3efa0d8a5390e6d66c
      author: Renovate Bot
      nested:
        - commits:
            - subject: "deploy: ensure deployRawArtifact is empty instead of null"
              hash: 56edfe62d6ecede3e07b0b51653ca605a2e4ba83
              body: >
                jq returns null by default when a given key isn't found, ensure
                that

                when getting the value of deployRawArtifact, we get an empty variable

                instead, which is checked later on to determine if that file should be

                deployed
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: balena-yocto-scripts-1.19.1
          title: "'deploy: ensure deployRawArtifact is empty instead of null'"
          date: 2022-04-14T16:02:35.647Z
  version: 2.95.15+rev3
  title: "'Update balena-yocto-scripts digest to ff9465a'"
  date: 2022-04-15T09:42:04.672Z
- commits:
    - subject: Update balena-yocto-scripts to 7bd3088484fa06c297e8f6c8abf5d0a1916654f5
      hash: edfee7f7710cd1fa6ac472422492efc540c38662
      body: Update balena-yocto-scripts
      footer:
        Changelog-entry: Update balena-yocto-scripts to 7bd3088484fa06c297e8f6c8abf5d0a1916654f5
        changelog-entry: Update balena-yocto-scripts to 7bd3088484fa06c297e8f6c8abf5d0a1916654f5
      author: Renovate Bot
      nested:
        - commits:
            - subject: "deploy: push image variant artifacts"
              hash: f5b7ae35f2f2996d93ba572919e26e1487a79f79
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: balena-yocto-scripts-1.19.0
          title: "'deploy: push image variant artifacts'"
          date: 2022-04-13T14:36:11.268Z
  version: 2.95.15+rev2
  title: "'Update balena-yocto-scripts digest to 7bd3088'"
  date: 2022-04-13T15:26:01.293Z
- commits:
    - subject: "layers/meta-tegra: Switch to master branch for L4T 32.7.1"
      hash: bffdf58e6d4e9a41f4e08c9fd3fdb5845a9c2c71
      body: |
        meta-balena does not support Kirkstone yet but this is
        not necessary because this layer is compatible with
        Honister, and we override compatiblity in our jetson
        layer
      footer:
        Changelog-entry: "layers/meta-tegra: Switch to master branch for L4T 32.7.1"
        changelog-entry: "layers/meta-tegra: Switch to master branch for L4T 32.7.1"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.95.15+rev1
  title: "'WIP: upgrade all device types to L4T 32.7.1'"
  date: 2022-04-12T08:30:25.511Z
- commits:
    - subject: Update layers/meta-balena to 831819bead130a779bfa204b7d1df483486f0eaf
      hash: 29d8dc7b983e0d6bc5eab22181a79ae20213062d
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 831819bead130a779bfa204b7d1df483486f0eaf
        changelog-entry: Update layers/meta-balena to 831819bead130a779bfa204b7d1df483486f0eaf
      author: Renovate Bot
      nested:
        - commits:
            - subject: "kernel-headers-test: clean tools like fixdep"
              hash: bdc217b2da79349989f32b65454a4e5e2509fa1a
              body: |
                Let's ensure tools like fixdep are built in container
                and not reused from the yocto build, otherwise they
                may not run if they were linked against a different
                version of libc that may not be available in the kernel
                modules build container.

                This fixes the following error encountered when doing
                a Poky Honister build for the balena-intel repository:

                  scripts/basic/fixdep: /lib64/libc.so.6: version `GLIBC_2.34'
                  not found (required by scripts/basic/fixdep)
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.95.15
          title: "'kernel-headers-test: clean tools like fixdep'"
          date: 2022-04-06T12:39:17.305Z
  version: 2.95.15
  title: "'Update layers/meta-balena digest to 831819b'"
  date: 2022-04-06T17:40:45.123Z
- commits:
    - subject: Update layers/meta-balena to e13a2dbf4bee982f03b709d25b172d670fb7f4f1
      hash: 5055de4492d9d0cad66d454ad178292e8c288ec1
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to e13a2dbf4bee982f03b709d25b172d670fb7f4f1
        changelog-entry: Update layers/meta-balena to e13a2dbf4bee982f03b709d25b172d670fb7f4f1
      author: Renovate Bot
      nested:
        - commits:
            - subject: Updates SIM info for soracom and provides docs.
              hash: 4706cc1f52e345e3409cd9580cdc9a1372545164
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Bucknall <alex.bucknall@gmail.com>
                signed-off-by: Alex Bucknall <alex.bucknall@gmail.com>
              author: Alex
              nested: []
          version: meta-balena-2.95.14
          title: "'Updates SIM info for soracom and provides docs.'"
          date: 2022-04-06T08:53:44.650Z
  version: 2.95.14
  title: "'Update layers/meta-balena digest to e13a2db'"
  date: 2022-04-06T13:02:58.238Z
- commits:
    - subject: Update layers/meta-balena to 93481e8aae8a46c292eb6d4dd628992cedbf7757
      hash: c3f3f00b521f1dc02c216f41159ffd327d23247e
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 93481e8aae8a46c292eb6d4dd628992cedbf7757
        changelog-entry: Update layers/meta-balena to 93481e8aae8a46c292eb6d4dd628992cedbf7757
      author: Renovate Bot
      nested:
        - commits:
            - subject: "test/hup: fix unmounting error"
              hash: 3a318468d90632360109aeea994a51819347742a
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.95.13
          title: "'test/hup: fix unmounting error'"
          date: 2022-04-06T07:56:32.752Z
  version: 2.95.13
  title: "'Update layers/meta-balena digest to 93481e8'"
  date: 2022-04-06T10:41:33.174Z
- commits:
    - subject: Update balena-yocto-scripts to a5b7cacc6dd4e3a3e03c77513760b6d3a89a68d0
      hash: 99c3e0883e4c2f3970477d5cace099fb376a9bb3
      body: Update balena-yocto-scripts
      footer:
        Changelog-entry: Update balena-yocto-scripts to a5b7cacc6dd4e3a3e03c77513760b6d3a89a68d0
        changelog-entry: Update balena-yocto-scripts to a5b7cacc6dd4e3a3e03c77513760b6d3a89a68d0
      author: Renovate Bot
      nested:
        - commits:
            - subject: Bump balena-cli to v.Latest
              hash: 6aec14bf20674e62822ba41f56ef2763c4036b6d
              body: |
                * remove SSH key injection
              footer:
                Change-type: minor
                change-type: minor
              author: ab77
              nested: []
          version: balena-yocto-scripts-1.18.0
          title: "'Bump balena-cli to v.Latest'"
          date: 2022-03-31T20:52:47.275Z
  version: 2.95.12+rev1
  title: "'Update balena-yocto-scripts digest to a5b7cac'"
  date: 2022-04-01T03:43:14.155Z
- commits:
    - subject: Update layers/meta-balena to 8797487542bebf28f89bcb5251437f12c117dec7
      hash: e50882c74ae774968c50ce735f0e400b9bd75fe2
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 8797487542bebf28f89bcb5251437f12c117dec7
        changelog-entry: Update layers/meta-balena to 8797487542bebf28f89bcb5251437f12c117dec7
      author: Renovate Bot
      nested:
        - commits:
            - subject: "grub-efi: Remove patch passing secure boot status to the kernel"
              hash: fb171dc507348e11ab2c6ed894289f51689fc874
              body: >
                This was originally introduced in combination with a kernel
                patch backported

                from Red Hat kernel that would enable kernel lockdown when secure boot

                is enabled. We have since changed the approach, dropped the kernel patch

                and when in secure boot mode use a different GRUB config file that enables

                lockdown on kernel command line unconditionally.


                That said, while the patch works fine, we do not really need it and it adds

                extra overhead porting it to newer yocto versions so there is no point keeping

                it at this moment. If in the future there is need for the kernel to know

                whether it is in secure boot mode or not, we can roll this back and rebase.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.95.12
          title: "'grub-efi: Remove patch passing secure boot status to the kernel'"
          date: 2022-03-31T14:45:57.845Z
  version: 2.95.12
  title: "'Update layers/meta-balena digest to 8797487'"
  date: 2022-04-01T00:20:47.948Z
- commits:
    - subject: Update layers/meta-balena to fd040a08031ae9f52a520209cb660474058c3688
      hash: 22e100e498ef5e711517997235102dfcf60acdd9
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to fd040a08031ae9f52a520209cb660474058c3688
        changelog-entry: Update layers/meta-balena to fd040a08031ae9f52a520209cb660474058c3688
      author: Renovate Bot
      nested:
        - commits:
            - subject: "hostapp-update: Mount data partition on target balena/tmp"
              hash: 548c6c08f041f69786f0092eb2397f2fbf8e7e86
              body: >
                In most cases there is not enough space on rootfs to extract

                and load a local hostapp image when the balena-host tmpdir

                is on the same partition.


                This uses a data mount to ensure temporary extracted files of the

                compressed image will not fill the target sysroot.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.95.11
          title: "'hostapp-update: Mount data partition on target balena/tmp'"
          date: 2022-03-30T17:20:46.022Z
  version: 2.95.11
  title: "'Update layers/meta-balena digest to fd040a0'"
  date: 2022-03-31T18:10:41.231Z
- commits:
    - subject: Update layers/meta-balena to f03d6846ff98a70c9367f63041367db9a95efee9
      hash: b39005ba5f39197d80f3234866332135f5ac8f39
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to f03d6846ff98a70c9367f63041367db9a95efee9
        changelog-entry: Update layers/meta-balena to f03d6846ff98a70c9367f63041367db9a95efee9
      author: Renovate Bot
      nested:
        - commits:
            - subject: "tests/os: check supervisor is pulled  after purge"
              hash: 58a645684921797383602311821522604064fd62
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.95.10
          title: "'tests/os: check supervisor is pulled  after purge'"
          date: 2022-03-30T11:28:54.776Z
  version: 2.95.10
  title: "'Update layers/meta-balena digest to f03d684'"
  date: 2022-03-30T17:40:21.575Z
- commits:
    - subject: Update balena-yocto-scripts to 190305d322be4db65c03640eacf5ed21928dcbf9
      hash: f236fa96e662a2254491a2b3eb2689e045b2c93f
      body: Update balena-yocto-scripts
      footer:
        Changelog-entry: Update balena-yocto-scripts to 190305d322be4db65c03640eacf5ed21928dcbf9
        changelog-entry: Update balena-yocto-scripts to 190305d322be4db65c03640eacf5ed21928dcbf9
      author: Renovate Bot
      nested:
        - commits:
            - subject: Remove superfluous preload flag
              hash: a124b525ca058ead27eb43c0a799eb692c79fa80
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: ab77
              nested: []
          version: balena-yocto-scripts-1.17.12
          title: "'Remove superfluous preload flag'"
          date: 2022-03-29T17:38:21.495Z
        - commits:
            - subject: Unattended preload operation
              hash: 1fecbb4d000b1a403f192a63d5e2921ded56647c
              body: >
                * the CLI prompts for input during preload


                Alternatively, the --pin-device-to-release flag may be used to pin only the

                preloaded device to the selected release.


                Would you like to disable automatic updates for this fleet now? No


                * we do not want to set the suggested flag and we do not want to touch the fleet release policy for this use case
              footer:
                Change-type: patch
                change-type: patch
              author: ab77
              nested: []
          version: balena-yocto-scripts-1.17.11
          title: "'Unattended preload operation'"
          date: 2022-03-29T14:36:18.054Z
        - commits:
            - subject: Pass environment to docker
              hash: ac8be68fb073aed53b21b2e66df4fb54adb64e22
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: ab77
              nested: []
          version: balena-yocto-scripts-1.17.10
          title: "'Pass environment to docker'"
          date: 2022-03-28T17:26:04.107Z
        - commits:
            - subject: "automation: ami: make BALENA_PRELOAD_COMMIT optional"
              hash: b365cb9ba359637a3a6a8451b8d83142bb167571
              body: >
                Remove BALENA_PRELOAD_COMMIT from required env vars, as we have
                a

                default if it's not specified.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: balena-yocto-scripts-1.17.9
          title: "'automation: ami: make BALENA_PRELOAD_COMMIT optional'"
          date: 2022-03-25T23:25:09.583Z
        - commits:
            - subject: "balena-deploy: s/resin-flasher/balena-flasher"
              hash: abdae4c86ed213a64bb1fa7498f4837f53d95448
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: balena-yocto-scripts-1.17.8
          title: "'balena-deploy: s/resin-flasher/balena-flasher'"
          date: 2022-03-15T20:11:21.544Z
        - commits:
            - subject: "jenkins_generate_ami: surface preload app commit as variable"
              hash: 7248b344198ba09a219ee227ffea4b6f0a4850d7
              body: >
                Surface the preloaded app commit as a variable that can be
                overridden in

                the build job. Default to "current" to maintain existing behavior when

                the variable isn't set.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: balena-yocto-scripts-1.17.7
          title: "'jenkins_generate_ami: surface preload app commit as variable'"
          date: 2022-03-15T16:36:33.654Z
        - commits:
            - subject: "barys: Remove RESINHUP setting"
              hash: 367f153009928f36de8edcd97a56d6f58b5d6773
              body: |
                This has now been removed from meta-balena.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.17.6
          title: "'barys: Remove RESINHUP setting'"
          date: 2022-03-08T19:00:31.730Z
        - commits:
            - subject: "balena-deploy: Avoid patching test suites config.js during deploy"
              hash: 21c27cd41cda7ee7f5041752cca1f79280c51a7e
              body: >
                This will allow us to make changes to config.js in meta-balena
                without

                breaking the deploy steps. If additional changes are needed at runtime

                the substitutions can be made by the leviathan Jenkins job.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: balena-yocto-scripts-1.17.5
          title: "'balena-deploy: Avoid patching test suites config.js during deploy'"
          date: 2022-03-08T13:38:17.771Z
        - commits:
            - subject: Init and update submodules when switching meta-balena branches
              hash: 5162e7c9fa39498488303caab7d746456fc9abd4
              body: >
                If the submodule was recently added to meta-balena, the checkout

                command will not initialize it without a separate submodule update

                command.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: balena-yocto-scripts-1.17.4
          title: "'Init and update submodules when switching meta-balena branches'"
          date: 2022-03-03T16:46:17.542Z
        - commits:
            - subject: "jenkins_build: Use recurse-submodules when checking out meta-balena"
              hash: 00fb29b9a7a00dc1209be497ef171736e6229954
              body: >
                If meta-balena has submodule updates we want to make sure to use
                them.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: balena-yocto-scripts-1.17.3
          title: "'jenkins_build: Use recurse-submodules when checking out meta-balena'"
          date: 2022-03-02T17:17:21.631Z
  version: 2.95.9+rev1
  title: "'Update balena-yocto-scripts digest to 190305d'"
  date: 2022-03-30T14:41:43.812Z
- commits:
    - subject: Update layers/meta-balena to 0639c82c402b22d3397beb22b88bb97f15597ceb
      hash: 6bc833d82ade0ac36e68f2ea206dd0e2c0d8608e
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 0639c82c402b22d3397beb22b88bb97f15597ceb
        changelog-entry: Update layers/meta-balena to 0639c82c402b22d3397beb22b88bb97f15597ceb
      author: Renovate Bot
      nested:
        - commits:
            - subject: "tests: update leviathan to 2.0.4"
              hash: b90c280d8f08497fcf2ca7b5329bdb7e7dc7c22a
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: "tests: update config for new leviathan version"
              hash: 788cacc8daadf487698e28e2ad308cc54f1d96b4
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.95.9
          title: "'tests: update config for new leviathan version'"
          date: 2022-03-28T12:52:25.738Z
  version: 2.95.9
  title: "'Update layers/meta-balena digest to 0639c82'"
  date: 2022-03-30T14:26:02.427Z
- commits:
    - subject: Specify full path in repo.yml upstreams
      hash: 4639c74253a508b8d35d2d405ca6d4ede98b5c0e
      body: |
        This is required so that versionist can automatically include nested
        changelogs from renovate PRs.
      footer:
        Changelog-entry: Specify full path in repo.yml upstreams
        changelog-entry: Specify full path in repo.yml upstreams
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: Add renovate configuration
      hash: 3a7b6b1956b64abacd8b4a8e0a5155f7d9dabd06
      body: ""
      footer:
        Changelog-entry: Add renovate configuration
        changelog-entry: Add renovate configuration
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.95.8+rev1
  title: "'Add renovate configuration'"
  date: 2022-03-29T13:38:28.744Z
- commits:
    - subject: Update meta-balena from v2.94.4 to v2.95.8
      hash: 50aafad82bc8870d9bd58233458b0135b639298f
      body: |
        Update meta-balena from 2.94.4 to 2.95.8
      footer:
        Changelog-entry: Update meta-balena from v2.94.4 to v2.95.8
        changelog-entry: Update meta-balena from v2.94.4 to v2.95.8
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "resindataexpander: Check and fix end GPT if necessary"
              hash: 5d2435e17851f44f17cfba491b01f766d7930317
              body: >
                Under certain circumstances that we haven't reproduced,

                it is reported that the alternate GPT may become corrupt,

                preventing the device from booting.


                Should this happen, we use sgdisk to check and recover the end gpt

                from the main one.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.95.8
          title: "'Add gpt check'"
          date: 2022-03-25T08:08:23.471Z
        - commits:
            - subject: "hostapp-update-hooks: Always update legacy development variants to
                development mode"
              hash: 8c7bd8d87d0db97851528f97c4853097c63273e4
              body: >
                A legacy development image will update to development mode
                enabled

                independently of whether the newOS is configured for development mode or

                not. The only case when a hostapp has developmentMode set is when locally

                building with `OS_DEVELOPMENT`.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.95.7
          title: "'Always update legacy development variants to development mode'"
          date: 2022-03-23T12:47:07.162Z
        - commits:
            - subject: "balena-supervisor: Use architecture instead of device type to query
                API"
              hash: 419e1eefe64b6e5ffc9ff370e50cd256a319ef2c
              body: >
                This caters for the use case of custom device types that are not

                registered in balena-cloud but still need to fetch the supervisor from

                balena-cloud's registry by querying the `supervisor_version` endpoint,

                for example when using openBalena.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "update-balena-supervisor: Support passing command line image argument"
              hash: 227fea72a17c00bcd7e8ee069414ccc006703072
              body: >
                For balena-cloud managed devices, the supervisor update data is
                managed

                by the API.


                Providing the image name in the command line provides an update path

                for unmanaged devices, manual updates on ESR devices (which currently

                do not allow dashboard based updates) and openBalena use cases.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.95.6
          title: "'Supervisor update enhacements'"
          date: 2022-03-22T15:05:51.376Z
        - commits:
            - subject: "tests/kernel-overlap: Prevent test run failure on older kernels"
              hash: 3d230a9d003988924b6c16720d554c9f48a05c16
              body: >
                The issue that this test is aimed at has been introduced in

                kernel versions above 4.13. On older kernels like for instance

                4.9, the test will not pass.


                Let's run this test on kernel versions where the issue was present.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.95.5
          title: "'tests/kernel-overlap: Prevent test run failure on older kernels'"
          date: 2022-03-21T15:04:59.766Z
        - commits:
            - subject: "tests/os: wait for osconfig service to be inactive"
              hash: da59749c901057a55adaf990643fc235480156aa
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.95.4
          title: "'Fix dns test'"
          date: 2022-03-17T17:38:43.827Z
        - commits:
            - subject: "balena-supervisor: Update balena-supervisor to v12.11.38 Ensure
                preloaded applications are ran when no internet is available on
                first run"
              hash: 08058f8671704f7d925ed97c3202b3620570a95b
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
                signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
              author: 20k-ultra
              nested: []
          version: meta-balena-2.95.3
          title: "'balena-supervisor: Update balena-supervisor to v12.11.38'"
          date: 2022-03-15T23:32:43.991Z
        - commits:
            - subject: "kernel-balena: Disable building gcc plugins"
              hash: bd8d2de9983f47e46ffa0e689be88c5b12e46617
              body: >
                Since
                https://github.com/raspberrypi/linux/commit/1eee36a5520b5a89fb4d0d6af6f9cb0217a3164f

                was merged and included in kernel versions after 5.10.84,

                building the kernel-modules-headers fails due to various missing

                headers from the gmp and mpc packages. This problem is visible

                only after upgrading to a newer kernel, because until now the

                gcc plugins kernel config was not enabled at all, due to the

                failed check in the above mentioned patch.


                Since we are not using the functions provided

                by the gcc plugins anyway, we can disable this

                config.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.95.2
          title: "'kernel-balena: Disable building of gcc plugins'"
          date: 2022-03-11T17:26:05.533Z
        - commits:
            - subject: "tests: Add leviathan v2.0.0 as a submodule"
              hash: 49b6fd8e07edc4facdef13795fa4fe079958977c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "tests/cloud: Cleanup wait until loops in cloud suite"
              hash: 65775fdf08d260ee7a87dbe262038bc9831780f7
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "tests/hup: Remove bluebird and this.context.get references"
              hash: be472ff82d27a0ff5a67fd3202ae15e63aafb685
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "tests/os: Remove bluebird and this.context.get references"
              hash: c3570af3bd58f5fd8a134ffe5d71bce970b3ade8
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "tests/cloud: Remove bluebird and this.context.get references"
              hash: 8c901905dadfb66a157f05ed9fcea2f6499e15bd
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "tests: Cleanup suites config to support both testbot and qemu workers"
              hash: e48e71e0bd2533806e7eff31f74b3e3a243e9493
              body: >
                This avoids having to make perl regex changes in yocto-scripts
                or in Jenkins.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "tests/cloud: Update cloud suite to support core on client"
              hash: 428d9d616edacbaf70df9df0f76bc731af247c98
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "tests/hup: Update hup suite to support core on client"
              hash: 2f386863408f32b0197090e786c46605e2ab7fcb
              body: >
                This also removes the need for a registry and performs hup from
                file.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "tests/os: Update os suite to support core on client"
              hash: fe68f8192c4875b575f86bc41c6e3ff9fb27f587
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.95.1
          title: "'tests: Suite updates for compatiblity with core moved to client'"
          date: 2022-03-08T18:48:12.462Z
        - commits:
            - subject: Adds modem test suite
              hash: c3cc64723e8a8d50aa5c6d4ece52d2c5a3b90e8a
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Alex Bucknall <alex.bucknall@gmail.com>
                signed-off-by: Alex Bucknall <alex.bucknall@gmail.com>
              author: Alex
              nested: []
          version: meta-balena-2.95.0
          title: "'Adds modem test suite'"
          date: 2022-03-04T18:27:18.723Z
        - commits:
            - subject: Use by-state symlink for mounting the EFI partition when split
              hash: 42d8ac8daaee2a67d5666c7220e1b9cd0e013e6e
              body: >
                In the current state the by-state symlink for balena-efi
                partition

                is not generated for two reasons:

                - 60-resin-update-state.rules only react to resin-* partition names

                - the root device is not identified correctly in resin_update_state_probe
                  for LUKS devices

                This patch fixes both the issues and makes use of the by-state symlink

                instead of by-label.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "os-helpers: add TPM2 helpers"
              hash: 78f7da3a3cdf1942861195238a6cea691899a140
              body: >
                This helps with code duplication in flasher and initrd scripts
                using

                the TPM to manipulate LUKS passphrase.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: Add PCR protection policy to TPM operation unlocking LUKS passphrase
              hash: aa76a9b45e18192ecaa67f17ef68f9cfc4d66a66
              body: >
                This patch adds the check for PCRs

                - 0 - firmware/UEFI blob

                - 1 - firmware/UEFI config

                - 2 - Expansion card firmware blobs

                - 3 - Expansion card firmware configs


                The full protection is only applied on first boot after provisioning,

                flasher only locks against PCRs 0, 2 and 3.

                This is because when using flasher, the environment is not in the same

                state as the one we want to lock to. In particular the boot order is

                different (flasher is booted from a different drive than the resulting OS).

                As for now we were not able to find a better solution than fully locking

                only on first boot. This means the device must be booted in a secure

                environment at least once after provisioning.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.94.5
          title: "'Add PCR protection to LUKS/TPM manipulation'"
          date: 2022-03-04T13:12:52.505Z
  version: 2.95.8
  title: "'Release 2.95.8'"
  date: 2022-03-27T09:28:31.378Z
- commits:
    - subject: Update meta-balena from v2.91.1 to v2.94.4
      hash: 084519d442991ddf90671669c81f1eb72f975e07
      body: ""
      footer:
        Changelog-entry: Update meta-balena from v2.91.1 to v2.94.4
        changelog-entry: Update meta-balena from v2.91.1 to v2.94.4
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.94.4
  title: "'Update meta-balena from 2.91.1 to 2.94.4'"
  date: 2022-03-08T09:34:04.004Z
- commits:
    - subject: Ship rtl8822 module and firmware on TX2
      hash: c45765f47e7baca9f497a601e51108744434395f
      body: |
        At this moment this is only shipped for the NX devkit but the M.2 module
        can be plugged to any TX2 board that exposes the slot.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Ship rtl8822 module and firmware on TX2
        changelog-entry: Ship rtl8822 module and firmware on TX2
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.91.1+rev2
  title: "'balena-image.inc: move rtl8822 module and firmware to TX2'"
  date: 2022-02-25T17:35:22.322Z
- commits:
    - subject: Update balena-yocto-scripts to v1.17.2
      hash: bd7f6f1f77bdb9d2c1b92215bcfbd055442216ab
      body: |
        Update balena-yocto-scripts from v1.17.0 to v1.17.2
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-yocto-scripts to v1.17.2
        changelog-entry: Update balena-yocto-scripts to v1.17.2
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: "prepare-and-start: Remove balena login"
              hash: 67568d3a5eceb45ee65c245baae18fa299366f9e
              body: |
                The login will happen as needed.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.17.2
          title: "'prepare-and-start: Remove balena login'"
          date: 2022-02-25T09:19:00.323Z
        - commits:
            - subject: "balena-deploy.inc: Do no deploy device logo to deprecated endpoint"
              hash: 54ad619b8b9c00d7c52cfc90593b22c70233d973
              body: |
                As per https://jel.ly.fish/a533a6bd-1c98-412c-ae60-8427e3f7b005,
                the /device-types/v1 endpoint is deprecated and we can remove
                the logo from the device repos so we can also stop handling it
                from here. Instead, the logo will be used from the hw contracts.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: balena-yocto-scripts-1.17.1
          date: 2022-01-27T07:38:18.417Z
  version: 2.91.1+rev1
  title: "'balena-yocto-scripts: Update to v1.17.2'"
  date: 2022-02-25T16:25:17.654Z
- commits:
    - subject: Update meta-balena from v2.88.4 to v2.91.1
      hash: f5e4d4b5db8bd712b89ac6756b5203108d842ada
      body: |
        Update meta-balena from 2.88.4 to 2.91.1
      footer:
        Changelog-entry: Update meta-balena from v2.88.4 to v2.91.1
        changelog-entry: Update meta-balena from v2.88.4 to v2.91.1
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "tests/cloud: wait for update lock message in logs"
              hash: c50dd793f7409cb4b899e859478730ebe3c576e0
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: "tests/cloud: register teardown before  online"
              hash: 2b6f8cc7b91472ebb612c60d56044cbc03af3ca8
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.91.1
          title: "'fix journal log retrieval in cloud suite, and try to make override lock
            test consistant'"
          date: 2022-02-21T10:48:39.255Z
        - commits:
            - subject: "openssh: Add a dependency on os-sshkeys"
              hash: 0abc9213ba004325b77d96541e856aaf93cfdde2
              body: >
                This is required so that changes in the public keys are picked
                up

                by the SSH server.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-supervisor: Add dependency on root CA"
              hash: 64cb45211a909b25170227079a400c2dfc9afae9
              body: >
                This is required so that the supervisor picks up a change in the
                root CA

                certificate.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena: Add dependency on balena-hostname"
              hash: b4d9569261de3a6640394ff416264f9e64c5367b
              body: >
                This is needed so that the hostname change is picked up by the
                container

                applications.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: Make services configurable
              hash: eb2028e5ed477ac4626bc55180cd872cd93f67b7
              body: >
                Changes to the system configuration will now restart several
                services.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "classes: Add balena-configurable"
              hash: 5b26f9200e8051859906016e84c03ab3d72a11d1
              body: >
                This class adds support to apply configuration changes to a
                systemd

                unit.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-config-vars: Split config.json configuration on write"
              hash: cd7dcc30dc58255d5c84c6e64142f4073797d557
              body: >
                When config.json is written, use the config.json unit
                configuration to create

                per-unit configuration files extracts.


                These will then be monitored by the respective service units to trigger

                restarts, so that service units will only be restarted when there are

                configuration changes that apply to them.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: Remove config-json.target
              hash: 5e5de909b648d97ca949e7f6fed08ebbd6471893
              body: >
                Unit files that are configured via config.json and want to be
                restarted

                on config.json changes are part of this target.


                This causes a burst of service restarts each time config.json changes,

                independently of whether the configuration changes applies to the unit

                or not.


                This commit removes all config-json.target instances in preparation for

                the introduction of a better, more fine grained mechanism.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.91.0
          title: "'Per-unit configuration files'"
          date: 2022-02-14T09:30:35.337Z
        - commits:
            - subject: "resin-init-flasher: check for UEFI mode and set config variables"
              hash: 102a710fbbcbbd347d801263a9b96e432ec5e7b9
              body: |
                Check to see whether we are running in UEFI mode and set secure
                boot configuration variables as appropriate.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "resin-init-flasher: Fix flashing progress reporting for LUKS"
              hash: 5c44a257073a993c81692e09eabba842f2aaca1a
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "resin-init-flasher: Use flasher kernel to emulate stage2 bootloader
                with LUKS"
              hash: ebd9c9b775cb82247c1cd9b5ed4fe44864aa2343
              body: >
                In order to avoid the need to unlock encrypted partitions in
                GRUB we want

                to use a custom stage2 bootloader. Since that is not ready yet, emulate that

                by copying flasher kernel to the EFI partition, start it from GRUB, have it

                unlock all the partitions, find the real kernel and kexec into it.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "resin-init-flasher: Add support for opt-in full disk encryption"
              hash: 857f44dc37ed28d2bfe285e0243a9894d7315ffe
              body: >
                If resin-init-flasher.conf has LUKS=1 flasher will:

                - Add extra 2MB to each partition for the LUKS header

                - Split resin-boot into EFI and linux boot

                - LUKS-format the partitions, copy image contents after unlocking

                - Propagate signatures for secure boot


                The default behavior (LUKS undefined) is unchanged
              footer:
                Change-Type: minor
                change-type: minor
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.90.0
          title: "'Update flasher for LUKS encryption'"
          date: 2022-02-13T18:21:21.805Z
        - commits:
            - subject: "README: Update versioning information"
              hash: 3ac5a5aaac1be6364a5ec8519b313b1da979b6a3
              body: >
                The `balena-<board>` repositories now use the same versioning
                scheme as

                application containers. This commit reflects this change in the

                documentation.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.89.19
          title: "'README: Update versioning information'"
          date: 2022-02-13T12:49:17.731Z
        - commits:
            - subject: fix cloud suite teardown
              hash: 6fd7cb7ac9b7612db859afe931c0c34f693d3521
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.89.18
          title: "'fix cloud suite teardown'"
          date: 2022-02-11T20:46:38.043Z
        - commits:
            - subject: "suites/hup: Add under-voltage test before and after HUP"
              hash: e12de74e6cdcec2af488a8e5f8e0e14613ac1658
              body: |
                We add this this check since we discovered
                that with newer boot firmware the Pi4 will
                not reboot when under-voltage is reported.

                We don't mark the test as failed in
                this case, since there may be devices that
                continue to work even if under-powered and we
                don't want to block or delay development if the
                DUT is remote and cannot be checked or replaced
                easily.

                This check provides an indication for further
                debugging of failed test cases.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.89.17
          title: "'[tests]: Add under-voltage check for OS and HUP suites'"
          date: 2022-02-09T16:48:41.543Z
        - commits:
            - subject: "balena-supervisor: Update balena-supervisor to v12.11.32"
              hash: d222a1f6c84ff98f7698efd671063a0eeebb3ae3
              body: >
                Includes improvements when writing to `config.json` to reduce
                the chances of corruption.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Felipe Lalanne <felipe@balena.io>
                signed-off-by: Felipe Lalanne <felipe@balena.io>
              author: Felipe Lalanne
              nested: []
          version: meta-balena-2.89.16
          title: "'balena-supervisor: Update balena-supervisor to v12.11.32'"
          date: 2022-02-07T15:27:34.945Z
        - commits:
            - subject: "resindataexpander: do not return after resizing the partition only"
              hash: dfb9a2e0b30ac5bbfef24332487ef537b6a830b1
              body: >
                After moving the partition resizing code to execute on each
                boot,

                we made it unreachable on first boot. We must not exit the script

                after resizing the partition only because that way the resizing

                is only finished on 2nd boot.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.89.15
          title: "'resindataexpander: do not return after resizing the partition only'"
          date: 2022-02-07T10:54:58.341Z
        - commits:
            - subject: "resin-u-boot.bbclass: Do not error if no config_defaults.h"
              hash: 74b297cd03bd6f6f8af9d4a9e60514770420a218
              body: |
                The header has been removed in upstream commit
                5c6a4d5a2779d7c2611319076d9aa4a23981855f
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.89.14
          title: "'resin-u-boot.bbclass: Do not error if no config_defaults.h'"
          date: 2022-02-03T17:15:47.568Z
        - commits:
            - subject: "docker-disk: Tag the supervisor digest with the repo name"
              hash: 52c2b0843bc19865fbe2298e508a9196c7143a2f
              body: >
                This will allow us to refer to the supervisor image by the repo
                name

                in docker commands, like docker inspect, and prevent re-downloading the

                image even though it already exists as an untagged digest.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.89.13
          title: "docker-disk: Tag the supervisor digest with the repo name"
          date: 2022-02-01T21:39:09.997Z
        - commits:
            - subject: "resindataexpander: expand fs independent of partition"
              hash: 2889cb431e02f1f3e030f6c05a42be7374457eeb
              body: >
                When resizing the filesystem fails, such as when resize2fs won't
                touch

                it because it's dirty, the partition gets resized, but not the

                filesystem. The script will not attempt to resize the filesystem again,

                as it detects the partition has already been resized.


                Split these actions apart, so that the filesystem resize is always

                attempted. If resize2fs detects that the filesystem is already filling

                available space, it will exit with no action taken.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.89.12
          title: "resindataexpander: expand fs independent of partition"
          date: 2022-01-31T10:24:09.275Z
        - commits:
            - subject: "image_types_balena: Augment dependency on u-boot do_deploy task"
              hash: e1782d968caa20e407386ba58bff3b1842006e9a
              body: >
                Some BSPs might only make use of UBOOT_MACHINE so let's consider

                this case in addition to UBOOT_CONFIG when setting dependency for

                u-boot's do_deploy task.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.89.11
          title: "image_types_balena: Augment dependency on u-boot do_deploy task"
          date: 2022-01-29T08:06:09.408Z
        - commits:
            - subject: "tests: relax boot splash screen check"
              hash: 114b0f752f3b6c25e959ea193a501b5cd669fa7c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.89.10
          title: Ryan/boot splash improvement
          date: 2022-01-28T10:11:36.644Z
        - commits:
            - subject: archive logs using local ssh
              hash: 763fd146f042f60b4df5498d41e4dfe06dc931fe
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: put archiver in the right place
              hash: 69234e0dff6dc1bd08bf70bd07d06d4c2b7d4edb
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: Enable UART serial console for supported devices
              hash: 57733d47160d019452d8f9316a7728ac65bb9581
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: archive image on teardown
              hash: 68cf636207c04a0a8f81e727edafda3bb53bfa31
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: put device in dev mode
              hash: f1cd979692cd16dd93d8354230f5317bb78e76f8
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: "tests: add extra logging to cloud suite"
              hash: 0f39876b55475b654cfed4b20dfda6243d21908f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.89.9
          title: "tests: add extra logging to cloud suite"
          date: 2022-01-27T14:55:54.155Z
        - commits:
            - subject: "u-boot: Move config fragments merging code out of common layer"
              hash: 0396efaf0964dc46e0a72792c7dfc0ce17955231
              body: |
                Let's only apply this code to pre-warrior as intended. Starting
                with warrior this code is in poky so we can rely on it from
                there instead of keeping a duplicate in meta-balena-common.
                This helps with BSPs that may define their own tasks (configure,
                compile and so on) for u-boot (keeping this fragments merging
                code in meta-balena-common would have the effect of overwriting
                these tasks from here and thus breaking the build).
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.89.8
          title: ""
          date: 2022-01-27T09:45:12.608Z
        - commits:
            - subject: explain balenaRootCA better
              hash: 3c5dccfbb0ad9f40f893274dc25748f0d35905c8
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Martin Rauscher
              nested: []
          version: meta-balena-2.89.7
          date: 2022-01-26T14:54:38.251Z
        - commits:
            - subject: "classes/kernel-balena: Update aufs patches for kernel 5.10.82"
              hash: 83a1ae95bef32ccfb54a742649165f0311c7ae7e
              body: |
                The aufs patches are used by the devices
                that transition from aufs to overlay2.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.89.6
          date: 2022-01-26T10:10:09.799Z
        - commits:
            - subject: "os: tests: optimize fingerprint tests"
              hash: 64afc5f3ca862cd23c639f702b00a55a4527f296
              body: >
                Run fingerprint tests in parallel with Promise.any(). This
                significantly

                reduces the amount of time taken in these tests.


                - ok 1 - OS corruption tests # time=92739.718ms

                + ok 1 - OS corruption tests # time=2062.513ms
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.89.5
          date: 2022-01-24T15:41:27.529Z
        - commits:
            - subject: "tests: add cloud test suite"
              hash: 4955539b5cd0b9ab5c56ce76f92847fa637ce90b
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.89.4
          date: 2022-01-21T15:30:16.116Z
        - commits:
            - subject: "initramfs-framework: Make cleaning udev database the last step"
              hash: 333162a83daf742612a2e97353c9d3766eaad058
              body: >
                To avoid issues, move the udev database cleanup just before
                switching

                roots.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.89.3
          date: 2022-01-20T17:24:54.139Z
        - commits:
            - subject: "recipes-core/jq: Use 64bit time symbols"
              hash: 010b8f2f655aecb39ef62f9cfac288f5042ebb80
              body: |
                jq is used in the bootfiles hostapp-update
                hook for accessing config.json, which may have
                one of the modification dates invalid,
                as we've seen during testing. We thus need to
                avoid performing a touch on config.json
                to avoid reloading of containers.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.89.2
          date: 2022-01-20T15:16:05.188Z
        - commits:
            - subject: "tests: Enable UART serial console where supported"
              hash: c2847e272e271cbc06dead5c798ee47e8ec8ba8c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.89.1
          date: 2022-01-19T14:28:24.489Z
        - commits:
            - subject: "docker-disk: Pull images from Balena's registry"
              hash: 324a091d14e64928feb1635957930eda4e809f8d
              body: |
                Stop using dockerhub to pull container images from.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-supervisor: Use image location path instead of repository:tag"
              hash: 10cf86186bef846123d5431f810fedc219f7e2ee
              body: >
                Balena's registry does not use repository:tag to identify images
                but

                the image location path.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "distro: balena-os: Add default cloud environment distro setting"
              hash: 6175fd72188766fc0fa05989f55d79f36434face
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.89.0
          date: 2022-01-19T09:42:10.888Z
        - commits:
            - subject: "intel-quark: Fix to honister syntax"
              hash: c32e3f0c5421e46fbac991c5e5cb6240994422b2
              body: >
                The converter script did not consider the intel-quark an
                override, so

                fix manually.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "recipes-core/bash: Use 64bit time symbols"
              hash: d26b1a09a6ac8a0def6ab2ec4d0249884aacb738
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
            - subject: "recipes-core/busybox: Use 64bit time symbols"
              hash: 989c0a3584b99bf637f2a727f8a6bda11fb05441
              body: |
                So that commands like find can work with
                files that have incorrect timestamps on 32bit systems.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.88.22
          date: 2022-01-18T17:55:03.016Z
        - commits:
            - subject: "tests: os: config-json: cleanup persistentLogging test"
              hash: 1625e14c13da802e0bbd39467b106155861441be
              body: >
                Minor cleanup of persistentLogging configuration test.
                Additionally,

                reduce the reboot count to one to save time.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "tests: os: config-json: return promise from sshKeys test"
              hash: caf3dfe4b43643ac5cfa219cb892f431992e0aaa
              body: >
                Return the promise from the sshKeys test instead of awaiting
                inside the

                async function, a minor style improvement.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "tests: os: config-json: cleanup dnsServers config test"
              hash: 7a4872aa41435a3e386ad9051dc9dbfc64957762
              body: |
                Simplify dnsServers config test, including using
                worker.waitForServiceState().
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "tests: os: config-json: cleanup ntpServer config test"
              hash: 85372adacd450186ba40e7d1e2bd9751e470a7d6
              body: |
                Simplify ntpServer config test, including using
                worker.waitForServiceState().
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "tests: os: config-json: cleanup hostname config test"
              hash: 28983f940d9fe6dd342df9a367e2768501d1d408
              body: |
                Simplify hostname configuration test, including using
                worker.waitForServiceState().
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "tests: os: create waitForServiceState helper"
              hash: 080ead9e17a20d47843ccec0bc2355ee0b9200f3
              body: |
                Create helper to wait for a service to be active or inactive.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "tests: os: config-json: remove reboot from randomMacAddressScan test"
              hash: b832ef095532e54a8508c41441575ef9f5661557
              body: >
                Restructure randomMacAddressScan test to remove unnecessary
                reboot
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "tests: os: config-json: remove reboot from connectivity test"
              hash: c3988214cfb0fea2f92b3a8ad096cafd2d271417
              body: |
                Restructure connectivity test to remove unnecessary reboot
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "tests: os: config-json: remove reboot from udevRules test"
              hash: 6f7ebbc7a0f201248b731acc188033a3ddc9a12f
              body: |
                Restructure udevRules test to remove unnecessary reboot
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.88.21
          date: 2022-01-17T18:42:06.387Z
        - commits:
            - subject: "chrony: fix mount service dependency for driftfile"
              hash: 4823b0299002192820d36c90e5d2dfd9ff122ff5
              body: >
                The chrony driftfile is not being updated at shutdown due to an

                incorrect mount service dependency in the systemd chronyd.service

                file. The current dependency on 'var-volatile-lib' does not cover the

                subsequent bind mounting of the '/var/lib/chrony' sub-directory, so

                the chrony directory gets unmounted at shutdown before the drift file

                has been updated.


                This issue is solved by changing the mount service dependency from

                'var-volatile-lib' to 'bind-var-lib-chrony' (which is similar to the

                way bind mount dependencies are already handled for the NetworkManager

                and bluetooth services).
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: "#1995"
                connects-to: "#1995"
                Changelog-entry: "chrony: fix mount service dependency for driftfile"
                changelog-entry: "chrony: fix mount service dependency for driftfile"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.88.20
          date: 2022-01-17T10:54:19.982Z
        - commits:
            - subject: "os: tests: optimize fsck tests"
              hash: 15100419eb9e1fb8c0e99d0a9e07a09b8c8d415f
              body: >
                Chain operations using Promise.then(), and run commands in
                parallel

                using Promise.map(). This reduces the time taken for fsck tests to about

                half.


                - ok 1 - fsck.ext4 tests # time=152304.735ms

                + ok 1 - fsck.ext4 tests # time=75104.016ms
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.88.19
          date: 2022-01-12T19:19:10.768Z
        - commits:
            - subject: "conf/distro: Prefer rust v1.36 for releases older than Honister"
              hash: f4025980e13f291b9e9778a4e545cfea490f9fe5
              body: |
                Poky releases older than Honister should stick to rust v1.36
                which has been used in balenaOS builds so far.

                Newer ones should prefer v1.54, which is the latest rust
                version to use the Honister syntax.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.88.18
          date: 2022-01-11T14:59:20.607Z
        - commits:
            - subject: "recipes-core/coreutils: Use 64bit time symbols"
              hash: 1c86b30cbad9eecb74185610d146a71f81f70857
              body: >
                We do this to avoid initial HUP failure that may

                occur when updating a freshly provisioned device,

                which has unitialized timestamps for files in the boot partition,

                to a newer release based on Honister with glibc-2.34.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
            - subject: "classes/image_types_balena: Preserve file modification times with
                mcopy"
              hash: 7b5e1475838b2ba72ca31b82cfa41b32d47cfd02
              body: |
                We should preserve the file modification times when
                copying them to the boot filesystem, otherwise these
                timestamps will be incorrect, as they will be set to
                random values, like for instance:

                  Access: 1961-11-25 17:31:44.000000000 +0000
                  Modify: 1961-11-25 17:31:44.000000000 +0000
                  Change: 1961-11-25 17:31:44.000000000 +0000
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.88.17
          date: 2022-01-10T10:46:43.314Z
        - commits:
            - subject: "balena-os.inc: Switch balena backend storage to overlay2"
              hash: 90b2630937ecc3171fd925a9c679ab1b20c20a4c
              body: >
                Now that we have the aufs to overlay2 migrator in place, let's
                switch

                all our boards to overlay2.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.88.16
          date: 2022-01-05T09:44:10.265Z
        - commits:
            - subject: "initrdscripts: fsuuidinit: Generate resin-rootA last"
              hash: 00d6ca48d32b2b1a111d400457b73be5cc36d6bf
              body: >
                As resin-rootA is used to decide whether to re-run the
                generation, leave it

                last. As it stands, if resin-rootA is regenerated by any other fail, the

                UUID generation is not retried.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "lvm2: Add rule to persist dm devices in udev database"
              hash: de2ff622473f2f0bc03c05dbd15f1df8c88f734e
              body: >
                On transitioning from the initramfs to the rootfs, the udev
                database is

                cleanedup as the rules between initramfs and rootfs might defer.


                However, dm devices are flagged not to be re-processed, so we need to

                set a sticky bit on them so they persist the cleanup.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "initrdscript: Cleanup udev database before transitioning to rootfs"
              hash: a72061cfe9ba48809ba87b0bc03e01a6bc53cff4
              body: >
                This is needed because the rules in the final rootfs might be

                different than the one in the initramfs.


                Devices that need to persist, like dm devices, need to be flagged with

                the `db_persist` option.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "initrdscripts: Use /run as bootparam_root storage"
              hash: 449dee77f54d4185f98854bca9148a6f42620bc8
              body: >
                From v2.49, the hostapp-update utility creates the /run
                directory in the

                root filesystem, however when huping from previous versions /run is not

                there.


                Commit bab3cd7f50022127bfef50fde9cd445b6b55a7b2 switches to use /tmp

                to store the new UUID for the root partition on first boot after

                generating new UUIDs as this is backwards compatible.


                However, this means that the udev database in the initramfs is recreated

                on the final system instead of reused. This becomes a problems for DM

                devices (used in luks based disk encryption), as they are not re-processed

                by udevd.


                This change will use /run if available, so new releases that may implement

                disk encryption work, or /tmp if not so it still remains backwards

                compatible for HUP from older releases.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "lvm: Add lvm rules when secure boot is configured"
              hash: d41eacad52fde90340c5f7eb4f9fb862aba364ef
              body: |
                This add udev rules to detect mapper devices.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-keys: Fetch DER keys and decode from base64"
              hash: 2538a1c621979f83385729be57b53faa640326d1
              body: >
                Some BIOS configuration, like TianoCore used in QEMU, needs DER
                keys for

                secure boot setup. Also, der, auth and esl keys are served base64 encoded

                and need to be decoded before they can be used.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.88.15
          date: 2022-01-04T14:24:39.301Z
        - commits:
            - subject: Sync cached writes to disk when updating supervisor.conf
              hash: cf51428b9daaf8325cafc850fb47e27a6a6bcb5d
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: meta-balena-2.88.14
          date: 2022-01-04T11:19:00.838Z
        - commits:
            - subject: "hostapp-update-hooks: Handle developmentMode updates"
              hash: adc76c0588a67705ae20a8c61517f549f2e8549e
              body: >
                When updating from a legacy development image which has no
                developmentMode

                set in config.json to an image configured with development mode, the hooks

                need to set developmentMode accordingly in config.json.


                Updating to a development mode image from a production image will not

                set developmentMode.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.88.13
          date: 2022-01-04T09:48:57.491Z
        - commits:
            - subject: "systemd/timeinit: handle missing date field in HTTPS header"
              hash: e11a421c24a9c4003e0d606ef681447e48b2823b
              body: >
                Update the timesync-https.sh script to handle the case where the
                date

                field is missing from the returned HTTPS header.


                When the date field is not present the script will now exit with a

                warning rather than blocking indefinitely.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "systemd/timeinit: handle missing date field in HTTPS header"
                changelog-entry: "systemd/timeinit: handle missing date field in HTTPS header"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.88.12
          date: 2022-01-03T14:25:50.684Z
        - commits:
            - subject: "balena-supervisor: Update balena-supervisor to v12.11.16 Update
                balena-supervisor from 12.11.0 to 12.11.16"
              hash: 00397eb39bde3aa313373ffa884ca24098781917
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: meta-balena-2.88.11
          date: 2021-12-22T04:08:44.540Z
        - commits:
            - subject: Update NetworkManager to 1.32.12
              hash: a6313f12e2efe0a6aae8741e7e95ad437a247b3c
              body: |
                Closes #2437
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update NetworkManager to 1.32.12
                changelog-entry: Update NetworkManager to 1.32.12
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
              nested: []
          version: meta-balena-2.88.10
          date: 2021-12-16T10:45:16.375Z
        - commits:
            - subject: "u-boot: Move u-boot configs inclusion into resin-u-boot.bbclass"
              hash: 27e67bb1021f1f2c4c1cdcbb657f09c19908eed4
              body: |
                Some BSPs name the u-boot such as u-boot-imx_2020 for example.
                Because of that, our existing bbappend called u-boot_%.bbappend
                will not match it and will fail to be applied.
                This PR is a first pass at solving this by moving at least the
                SRC_URI appending part from this bbappend and into the
                resin-u-boot.bbclass instead. Further investigation is needed
                to see if we can remove this bbappend altogether since we may
                have all boards using Poky Warrior or newer, making this
                u-boot bbappend obsolete.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.88.9
          date: 2021-12-15T14:45:29.240Z
        - commits:
            - subject: "patch: Add archiveLogs Teardown for HUP suite"
              hash: 27abdfaab8ab0790020ebfce0fc64710c8efd609
              body: ""
              footer: {}
              author: Vipul Gupta
              nested: []
          version: meta-balena-2.88.8
          date: 2021-12-09T19:58:29.923Z
        - commits:
            - subject: "tests: Ensure BDADDR is initialized"
              hash: 7824025cb4722483a15cd95f7ee93207af2d8f8c
              body: |
                The CM4 IO-Board was the first device
                which exhibited an issue in which
                the MAC address was set to an
                unprogrammed value AA:AA:AA...:AA.

                We've addressed this in the device repo,
                meanwhile it has been fixed in upstream
                too, so let's check and catch this should
                it happen again.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.88.7
          date: 2021-12-06T15:07:42.139Z
        - commits:
            - subject: "docs: Fix links in Rollback documentation"
              hash: 14399cfd115198b0913fb379760b9710c0710258
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.88.6
          date: 2021-12-04T17:29:48.922Z
        - commits:
            - subject: "tests: os: fix unhandled exception when unwrapping non-flasher image"
              hash: ce2d33ad875e83b1ed01a16225a9ca19563836dc
              body: >
                Handle ENOENT ErrnoException when attempting to unwrap
                non-flasher image

                in os/suite.js.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.88.5
          date: 2021-12-04T12:25:35.702Z
  version: 2.91.1
  title: "'layers/meta-balena: Update to v2.91.1'"
  date: 2022-02-25T14:28:41.548Z
- commits:
    - subject: Update Seeed 2Mic to 32.6.1
      hash: 43b776d81647ab5c8bcce799a9167af4c8ace09f
      body: |
        Updated the DTB files for custom board
        jetson-xavier-nx-devkit-seeed-2mic-hat
        based on L4T 32.6.1
      footer:
        Changelog-entry: Update Seeed 2Mic to 32.6.1
        changelog-entry: Update Seeed 2Mic to 32.6.1
        Signed-off-by: Kunal Singh <kunal.singh@aivero.com>
        signed-off-by: Kunal Singh <kunal.singh@aivero.com>
      author: Kunal Singh
      nested: []
  version: 2.88.4+rev17
  title: "'Update jetson-nx-devkit-seeed-2mic-hat dtb for L4T 32.6.1'"
  date: 2022-02-22T09:28:39.851Z
- commits:
    - subject: "linux-tegra: Rebase qmi_wwan backport patch for Spacely"
      hash: cda9d5463bf10ca34a5c8c32723ec8b7e2e8e82d
      body: |
        Previous patch that has been rebased for 32.5.1 did not
        apply on 32.6.1.
      footer:
        Changelog-entry: "linux-tegra: Rebase qmi_wwan backport patch for Spacely"
        changelog-entry: "linux-tegra: Rebase qmi_wwan backport patch for Spacely"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.88.4+rev16
  title: "'linux-tegra: Rebase qmi_wwan backport patch for Spacely'"
  date: 2022-02-19T19:56:07.385Z
- commits:
    - subject: "linux-tegra: Update device-trees to 32.6.1 for CTI Boards"
      hash: 44e44a6fc809b4afcf42aade845f5742b2cc38be
      body: |
        Including the CTI Astro G+ which is a community DT.
      footer:
        Changelog-entry: "linux-tegra: Update device-trees to 32.6.1 for CTI Boards"
        changelog-entry: "linux-tegra: Update device-trees to 32.6.1 for CTI Boards"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.88.4+rev15
  title: "'linux-tegra: Update device-trees to 32.6.1 for CTI Boards'"
  date: 2022-02-18T16:00:35.968Z
- commits:
    - subject: Cleanup community supported devices that are currently not maintained
      hash: dab4625365b63b74b6010fec35770254884a4ed3
      body: |
        We temporarily remove the following community device types
        that have not been released in the dashboard because updates
        have not been submitted by community maintainers in order
        to keep up with newer L4T releases.

        We cannot release images for these devices types without updated
        L4T device-trees or configuration files that are specific to them.

        These can be added back an released to the dashboard when updates
        for L4T 32.6.1 or newer are submitted.
      footer:
        Changelog-entry: Cleanup community supported devices that are currently not maintained
        changelog-entry: Cleanup community supported devices that are currently not maintained
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.88.4+rev14
  title: "'Cleanup carrier boards'"
  date: 2022-02-18T10:15:29.924Z
- commits:
    - subject: "hostapp-update-hooks: improve rollback-health on older tx2 images"
      hash: 6fbea8db185ed2791aea87df8e04e84c27341598
      body: >
        In this commit we improve the old update hook that exists in L4T 28.X

        based systems to allow reverting to the old 28.x partition layout.


        Images that were releases on L4T 28.1, 28.2 etc did not support re-creating

        the partition layout in case of a rollback, because the new 32.X layout

        was not known at that point, and we were not aware that there could

        be situations in which connectivity problems could cause the system

        to roll back to an inconsistent state.


        We therefore fix this, so in case the new L4T 32.6 based OS encounters

        connectivity or engine related issues and rolls back, the updated hook

        in the old OS re-writes the partition layout in the corresponding 28.x format,

        with the offsets expected by the old tegra-bootloaders, thus allowing the

        system to fully revert to the old OS.
      footer:
        Changelog-entry: "hostapp-update-hooks: improve rollback-health on older tx2 images"
        changelog-entry: "hostapp-update-hooks: improve rollback-health on older tx2 images"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.88.4+rev13
  title: "'hostapp-update-hooks: improve health rollbacks to older images'"
  date: 2022-02-15T10:52:18.027Z
- commits:
    - subject: Avoid MB1 bootloader debug mode
      hash: 8ddf7969dccda8746e880285be5b2d807b5808d0
      body: |
        In the current form, rollback-altboot from
        32.6.1 to 32.6.1 works on the AGX, however,
        if performed from 32.5.1 to the newer one,
        MB1 puts the device in debug mode instead
        of loading bootloaders from the old slot.

        The solution to this problem is to write
        both slots with 32.6.1 and just leave the
        kernel and kernel-dtb partitions on 32.5.1.

        This makes MB1 successfully load the inactive
        slots. For details see github link in this
        commit.
      footer:
        Changelog-entry: Avoid MB1 bootloader debug mode
        changelog-entry: Avoid MB1 bootloader debug mode
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.88.4+rev12
  title: "'hostapp-update-hooks: Avoid MB1 debug mode'"
  date: 2022-02-10T16:30:41.939Z
- commits:
    - subject: Revert to using tegra wdt on the NX SD
      hash: be1dc4b3385b66987ee3f1b6babb79a7f71336ee
      body: |
        This reverts commit ec8834081ba04b004f40cc770444024ff573d3da
        because the PMIC is disabled in cboot and this approach did
        not help in the cases where cboot had trouble loading
        the kernel or dtb from the raw partitions.
      footer:
        Changelog-entry: Revert to using tegra wdt on the NX SD
        changelog-entry: Revert to using tegra wdt on the NX SD
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.88.4+rev11
  title: "'cboot: reset instead of halting on panic - 32.6.1 NX SD'"
  date: 2022-02-05T20:30:40.756Z
- commits:
    - subject: "coffee-files: Reword coffee file instructions"
      hash: 2e9d5bda732339864588a0682bd8f9c83608c4d1
      body: ""
      footer:
        Changelog-entry: "coffee-files: Reword coffee file instructions"
        changelog-entry: "coffee-files: Reword coffee file instructions"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.88.4+rev10
  title: "'coffee-files: Reword coffee file instructions'"
  date: 2022-02-04T11:25:23.226Z
- commits:
    - subject: "tegra-boot-tools: Fix typo in comment"
      hash: eeeabf080ee5540ec6309667f37cbd052d244e3f
      body: ""
      footer:
        Changelog-entry: "tegra-boot-tools: Fix typo in comment"
        changelog-entry: "tegra-boot-tools: Fix typo in comment"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.88.4+rev9
  title: Enable PMIC WDT on Xavier NX SD
  date: 2022-02-02T16:22:18.024Z
- commits:
    - subject: "tegra-binaries/tegra194-nxde-sdcard-flash: Adapt boot blob generation
        for NX SD 32.6.1"
      hash: 4d9145d10014d5cb43c5e03c3079b06de62751c1
      body: |
        Starting with 32.6.1, when the device is provisioned, the
        flashing tools perform bpmp trimming by default, based on
        a value read from the device, which is 0. If however
        the files are signed without being written, the bpmp
        dtb is not trimmed and the boot blob is generated
        incorrectly (wrong offsets).
        Therefore we now tell the flashing tools to trim
        the bpmp dtb using the default ramcode, which is also 0,
        as the one that's being read from our device.
      footer:
        Changelog-entry: "tegra-binaries/tegra194-nxde-sdcard-flash: Adapt boot blob
          generation for NX SD 32.6.1"
        changelog-entry: "tegra-binaries/tegra194-nxde-sdcard-flash: Adapt boot blob
          generation for NX SD 32.6.1"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.88.4+rev8
  title: "jetson: Update next active slots on HUP"
  date: 2022-01-31T09:54:46.117Z
- commits:
    - subject: Update balena-yocto-scripts to v1.17.0
      hash: c2c361c4cfdba6c17fe73b28a0a624e12ab567c6
      body: |
        Update balena-yocto-scripts from v1.16.3 to v1.17.0
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-yocto-scripts to v1.17.0
        changelog-entry: Update balena-yocto-scripts to v1.17.0
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: "balena-lib: Fix fetching meta-balena base version"
              hash: d5d838339ed23ecd242092bf4214fe2505ccd181
              body: >
                On an ESR branch the VERSION file contains the ESR version, not
                the

                base meta-balena version.


                Replace it with searching down the git tree for the commit before the

                branch.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_build-block: Use true/false for ESR variable"
              hash: 24876740b2299d092ea3cd1b54f61a020d12a5ba
              body: |
                Keep the same boolean format as in the rest of the files.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy-block: Label ESR hostapps"
              hash: 1c6561daf9f16e579d55305471274e7793dc3619
              body: >
                ESR hostapps need special labels in order to be recognized. This
                commit

                adds the esr-current, esr-next and esr-sunset labels.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-api: add balena_api_fetch_fleet_tag"
              hash: 2ced90fc432298abf14e00d4ac58cc8eaf003b24
              body: |
                Add a function to retrieve fleet tags.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-api: Set policy on ESR hostapps"
              hash: 6e4d7b3d2ccbd1a5c67d94cc73c4552775ce3b94
              body: >
                ESR hostapps need an esr release-policy in order to be
                recognized.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy: Pass ESR variable when creating apps"
              hash: 2497bfb59ae16810169718e6d383d0bc9d564a04
              body: >
                ESR hostapps need special labels in order to be recognized. This
                allows

                to add those flags when creating the hostapp.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.17.0
          date: 2022-01-20T12:30:21.992Z
        - commits:
            - subject: "balena-deploy: Deploy passing the latest meta-balena version and not
                tag"
              hash: 9d5fa316dbda3d4782e782abaceed41efe3e5a99
              body: >
                The last meta-balena version and tag might not be the same, like
                in the

                case of ESR branches.


                Fixes #249
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-lib: Add balena_lib_get_meta_balena_base_version"
              hash: 25840dc98e138781e78530be0437f3950970f263
              body: >
                Retrieves the last meta-balena version, which may not be the
                same as the

                last meta-balena tag.


                For example, when we branch an ESR release, the meta-balena branch is

                tagged with the ESR name, like 2.83.x, while the last meta-balena version

                will be a proper semver.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.16.4
          date: 2022-01-18T09:50:54.889Z
  version: 2.88.4+rev7
  date: 2022-01-21T11:48:16.426Z
- commits:
    - subject: Update balena-yocto-scripts to v1.16.3
      hash: 7c08506f0597568f92d7330b7751c2c8ee966bba
      body: |
        Update balena-yocto-scripts from v1.16.2 to v1.16.3
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-yocto-scripts to v1.16.3
        changelog-entry: Update balena-yocto-scripts to v1.16.3
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: "balena-deploy-block: Check for existing tag only in specific hostapp"
              hash: 8893fd94bc0cc31a7fa7af8a87af68a69fec908d
              body: |
                The same version tag can exist across different hostapps.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.16.3
          date: 2022-01-17T17:18:11.734Z
    - subject: Update balena-yocto-scripts to v1.16.2
      hash: 1954cefed81527c27aa5e480c19c123c1164485a
      body: |
        Update balena-yocto-scripts from v1.16.1 to v1.16.2
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-yocto-scripts to v1.16.2
        changelog-entry: Update balena-yocto-scripts to v1.16.2
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: "balena-api: Propagate balena API environment, token and OS
                organization"
              hash: 64c2854c85aafebf80e6a13b725ff610ae25a467
              body: >
                This is required to allow building against cloud instances with

                different names for the balenaOS organization and private device types.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-build.sh: Propagate balena API environment and token"
              hash: 35d39c4a400df0552bfb3d875c8a9d1289ad8d4e
              body: |
                This is required to use the API for private slugs.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "prepare-and-start: Propagate balena API environment and token"
              hash: bb7b903e00fc153afea182a330da08a49b72cced
              body: >
                The balena-build.sh script accepts a token in the command line.
                This

                commit modifies the prepare-and-start.sh script to use it if

                available, and also modifies it to take into account the balena

                environment too.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.16.2
          date: 2022-01-15T16:04:34.389Z
  version: 2.88.4+rev6
  date: 2022-01-18T14:10:41.595Z
- commits:
    - subject: Update balena-yocto-scripts to v1.16.1
      hash: 8c2d9771c91366b239f03422d8ec57d87f4b7d15
      body: |
        Update balena-yocto-scripts from v1.16.0 to v1.16.1
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-yocto-scripts to v1.16.1
        changelog-entry: Update balena-yocto-scripts to v1.16.1
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: "revert_overrides: Add intel-quark to architecture overrides"
              hash: cbcbbc42c10700c77e17d8f9224e35bec90280fe
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.16.1
          date: 2022-01-11T14:37:00.027Z
  version: 2.88.4+rev5
  date: 2022-01-13T10:27:09.269Z
- commits:
    - subject: Update balena-yocto-scripts to v1.16.0
      hash: 4c1e5de7704de9f9882788b9249b135306741806
      body: |
        Update balena-yocto-scripts from v1.15.8 to v1.16.0
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-yocto-scripts to v1.16.0
        changelog-entry: Update balena-yocto-scripts to v1.16.0
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: "balena-deploy: Check for file existence before deploying"
              hash: 36494bf99a08b68a5afac5038d4691a583d01500
              body: >
                When discontinuing a device type, there are no artifacts apart
                from

                device-type.json, so check that the logo is there before deploying.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy-block: Check existence of tag before re-deploying"
              hash: c1a5b20b0ef0d04a30b6bf0bcfacf0a527e931ae
              body: >
                If a release is already tagged with this version, issue a
                warning and

                bail out.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-api: Add function to check the existence of a release tag"
              hash: bdc2146c3ad719f5c7335aeb7b4ee43775a20ac7
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy-block: Finalize releases when deployed"
              hash: 1e3768132d87295998bd9a17d0f01121e161e312
              body: >
                For now and until a proper CI/CD workflow is in place, finalize
                releases

                on deployment.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: Accept deployments without balena.yml
              hash: 23c1f91993f37a18ade26ceef621e24409be5f74
              body: >
                If no balena.yml file exists, the deployment will go through
                without

                setting a release semver.


                For the time being we are still using a version label in the hostapp.


                This commit will be reverted once we get rid of the version label.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Accept deployments without balena.yml
                changelog-entry: Accept deployments without balena.yml
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_generate_ami: Remove variant from image name"
              hash: 0fe3d6c8d0ebff85248f0bed99750186f05ab686
              body: |
                The OS is now a unified image so there are no variants.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-build.sh: Stop building OS variants"
              hash: 4e65c83e7808e91c99e335609142401e0031ed23
              body: |
                The OS is now a unified image so there are no variants.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_build.sh: Remove buildFlavor"
              hash: b66f7ce58f0c12f78941ed34eb311bbd3a96af1c
              body: |
                The OS is now a unified image so there are no build flavours.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_build-blocks: Remove variant build option"
              hash: e7fb9fc8354445bcbc05687e1f96aa0e8025ecc9
              body: |
                The OS is now a unified image without variants.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy: Stop using .dev/.prod variant suffixes"
              hash: 65c030b986f62b0faaddba501520662a8ac2777d
              body: >
                The OS has now a unified image that can be configured to be
                development

                or production mode.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy-block: Stop tagging hostapp releases with variant"
              hash: 3fc5efeeef4ae74e499504c1148932539a49c28e
              body: >
                The API will stop using the variant tag but will still use the
                version

                tag.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-lib: Use externalVersion to match contracts"
              hash: 385c5bacfc1452e4b065de55bfdf71727b303fff
              body: >
                The version refers to the actual contract, while the
                externalVersion is

                the one that refers to the balenaOS revision.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_build: Deploy hostapp like any other block"
              hash: bfe7f51dc75f335d38fa4dbf824fa887be8d82ee
              body: |
                Use common functions for block deployments
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_build-blocks: Separate block build release deployment"
              hash: 70fe00969921bbf6894cc86ecb343eb342c6f2ca
              body: >
                Separating the build and release of blocks allows to use common
                code for

                block release.


                Also, pass a flag to specify whether the block should be deployed as final

                release.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy-block: Use release versioning"
              hash: d1c74d0261f17ebcad9825bc7e0df22142da14a3
              body: >
                Deploy as draft releases by default. Final releases will be
                flagged

                once validation passes.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_build: Remove discontinued check"
              hash: 55774ee27f938bbcbb238aa6441680b3d39172c3
              body: >
                Individual deploy functions now bail out for discontinued device
                types,

                there is no need to check for it here.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy: Do not deploy discontinued device types"
              hash: f54251e61c466018072e04c344595b3eba70bf57
              body: >
                Check for discontinued device types before deploying to
                dockerhub or

                to balenaCloud.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy: Discontinued device types use meta-balena version"
              hash: bbecd72c64bf8ff1277a10c03cb39fbf99748e05
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy: Adapt balena_deploy_block to release versioning and use
                it"
              hash: cfc0bc43af1fb60ff3ddd56f08ae781edaa90b68
              body: >
                * Convert balena_deploy_build_block to balena_build_block, and
                deploy
                  with balena_deploy_block
                * Remove balena_deploy_hostapp and replace with balena_deploy_block

                * Modify balena_deploy_hostos to use balena_deploy_block

                * Modify balena_deploy_block to use release versioning


                By deafult image deployments happen as draft versions, and only become

                final when passing validation.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-build-block: Remove image release"
              hash: 443269afbe867cb5c464ca5dd91bf27aa51427bd
              body: >
                Deal with the release separately so we can use common code for
                it.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-api: Use release revision for fetchers"
              hash: f501ac55e327af0db2142a146423e83f459e0c1f
              body: >
                When fetching images for blocks, use a given release revision.


                Also, add token autentication to the API calls that miss it so that they work

                with private device types.


                Finally, fix indentation.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_build-block: Remove release version API setter"
              hash: 8e27328a0caec2acc7651dfe64f8dfc5510e48e0
              body: >
                When using the now deprecated release_version field, the API
                would

                reject deployments for an existing release.


                On the new versioning model, deployments increment a revision field so

                there is no need to check for uniqueness.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-api: Remove release version API setter"
              hash: 42486a59654047cf42f19bd999ef0bcd0a279ea5
              body: >
                This functionality has now been deprecated in the balena API is
                favour

                of draft/final release versioning.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-lib: Use release versioning"
              hash: de2c7af440c1ae4d6f84c5440368f92333500389
              body: >
                BalenaCloud has now a release versioning feature that deprecates
                the

                use of release_version.


                Introduce a new balena_lib_release() function that utilises a balena

                contract and the CLI to set the release version.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.16.0
          date: 2021-12-30T15:08:43.225Z
        - commits:
            - subject: "balena-deploy: Set leviathan networkWireless mode based on device
                slug"
              hash: 891fadcbabe422e24245beb720cf7326a5ea1136
              body: >
                These changes are currently made in the Jenkins job, so it's
                preferrable

                to have it done by the packaging scripts.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: balena-yocto-scripts-1.15.10
          date: 2021-12-02T21:08:09.863Z
        - commits:
            - subject: Substitute the worker types for generic device slugs
              hash: 7539caf732975a5b114abc371a5f6df211d12812
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: balena-yocto-scripts-1.15.9
          date: 2021-11-26T19:20:31.029Z
  version: 2.88.4+rev4
  date: 2022-01-03T11:23:25.608Z
- commits:
    - subject: "linux-tegra: Update dtb's and IMX477 support photon-tx2-nx L4T R32.6.1"
      hash: 3dbf9c96e5986c2138f318d1ee9f0d5c1a2fc3c8
      body: |
        Added dtb's for CTI Photon TX2 NX with 2 IMX477 cams
      footer:
        Changelog-entry: "linux-tegra: Update dtb's and IMX477 support photon-tx2-nx L4T
          R32.6.1"
        changelog-entry: "linux-tegra: Update dtb's and IMX477 support photon-tx2-nx L4T
          R32.6.1"
        Signed-off-by: Clint Haerinck <clint.haerinck@citymesh.com>
        signed-off-by: Clint Haerinck <clint.haerinck@citymesh.com>
      author: Clint Haerinck
      nested: []
  version: 2.88.4+rev3
  date: 2021-12-22T09:58:05.137Z
- commits:
    - subject: "linux-tegra: Update dtb file for jn30b-nano to 32.6.1"
      hash: decda299e079558e110f870effd5e0fa60db3b14
      body: ""
      footer:
        Changelog-entry: "linux-tegra: Update dtb file for jn30b-nano to 32.6.1"
        changelog-entry: "linux-tegra: Update dtb file for jn30b-nano to 32.6.1"
        Signed-off-by: Pelle van Gils <pelle@hwky.ai>
        signed-off-by: Pelle van Gils <pelle@hwky.ai>
      author: Pelle van Gils
      nested: []
  version: 2.88.4+rev2
  date: 2021-12-15T20:47:26.203Z
- commits:
    - subject: Re-word flashing instructions for community boards
      hash: cdf70bb25798cb48f4806431caa123b20e03c95d
      body: ""
      footer:
        Changelog-entry: Re-word flashing instructions for community boards
        changelog-entry: Re-word flashing instructions for community boards
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.88.4+rev1
  date: 2021-12-14T20:05:51.366Z
- commits:
    - subject: Update meta-balena from v2.87.1 to v2.88.4
      hash: dd2b6a7b294ff628e8deeedea22d32700130719f
      body: |
        Update meta-balena from 2.87.1 to 2.88.4
      footer:
        Changelog-entry: Update meta-balena from v2.87.1 to v2.88.4
        changelog-entry: Update meta-balena from v2.87.1 to v2.88.4
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "tests: Add basic checks for data loss during HUP"
              hash: 160fba09251de9fc05b3b3ab7a45e6e4e6ca5586
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "hostapp-update-hooks: Ensure data breadcrumb is present before HUP"
              hash: 62b25ec26111003ef12bc16fe4890b5c327e6aba
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.88.4
          date: 2021-12-03T18:33:53.449Z
        - commits:
            - subject: "grub-conf: Delay grub boot in os development mode"
              hash: 08b54c04b109341542ff1f2b82d00699369a8280
              body: >
                When using the compile time OS_DEVELOPMENT switch, delay the
                boot so

                the grub menu is displayed and it can be interacted with.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "grub-efi: Allow input/output in OS development mode"
              hash: 7d450dddf397dc045779fa815b5003bd1b1ca7fa
              body: |
                When building with the compile-time OS_DEVELOPMENT switch allow
                grub shell to work.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.88.3
          date: 2021-12-02T17:44:27.982Z
        - commits:
            - subject: "sign-efi.bbclass: Do not deploy the unused .signed symlink"
              hash: 33c3e61eac60dff18a1bfe8e7a69cc31a8b16070
              body: >
                do_deploy:append replaces the original file with its signed
                counterpart,

                the signature just gets ignored for non secure boot setups. The .signed

                symlink was in place for backwards compatibility but nothing is using it

                anymore therefore we can safely remove it.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "sign-gpg.bbclass: Only deploy the detached signature"
              hash: 40ead6aefea6d4ab56c76ec0a968da9b23acc887
              body: >
                The original file should already be deployed, we only need to
                add

                the signature in do_deploy:append. Re-deploying actually causes

                harm when chaining signatures, replacing a signed file with its

                unsigned counterpart.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "kernel-image-initramfs.bb: Ship kernel and matching signature"
              hash: 73c254a9396dcf40ba421d70119400af7d4ef21f
              body: >
                This patch replaces the kernel being shipped with the one that
                we eventually

                sign for EFI - without signing the original file used would be identical

                but after applying signature, the signed version is the one we want to ship.


                It also fixes the file name for the detached signature, which must match

                the name of the associated file.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: Make kexec work under kernel lockdown
              hash: 3f7ab2a82b29cdb5ddbf2be6ae8b384a76be999e
              body: |
                - EFI sign bzImage first
                - GPG sign the result
                - Enable kexec signature check in the kernel
                - Load EFI keys to the kernel keyring
                - Use -s with kexec load command
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.88.2
          date: 2021-12-02T12:47:16.559Z
        - commits:
            - subject: "bluez5: Update to bluez 5.61 from poky honister"
              hash: 1ce83ba3726b77d679818cc8f10e7092cd094328
              body: |
                This commit brings the bluez5 recipe from poky honnister.

                The code originated from poky's honnister branch
                @ 5f87fbf13bd35169a488ca564875974681aafd4f
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.88.1
          date: 2021-12-02T10:41:20.034Z
        - commits:
            - subject: "systemd/timeinit: add HTTPS time synchronisation service"
              hash: 2bb18707557979ed6466f45602de4ecf5b386c57
              body: >
                Add a new timesync-https systemd service to synchronise the
                system

                time at boot using an HTTPS header. The service uses curl to request

                an HTTPS header from either $API_ENDPOINT/connectivity-check (default)

                or the URL defined by the os.network.connectivity.uri field in

                config.json. The URL used *must* return HTTP code 204 (No Content)

                in response to a request so that we can determine that we have full

                network connectivity and are not operating behind a captive portal.


                The date field returned by a valid header is used to set the current

                system time. The date/time derived from the header is assumed to be a

                reasonable source of 'truth' such that it can be used to adjust the

                system time both backwards and forwards. This will compensate for any

                erroneous timestamps saved via fake-hwclock or any invalid data

                read from an RTC.


                The service will exit when a valid response has been received. Poll

                attempts will be made at an increasing interval starting at 2s and

                doubling up to a maximum of 64s. Polling will continue at the maximum

                interval until a valid response has been received.


                This service will provide initial time synchronisation for devices

                where NTP ports have been blocked. For devices where NTP access is

                available it should ensure that any system 'time jump' is only a few

                seconds when NTP synchronisation is eventually achieved. It also

                allows other services to start with a reasonably accurate time

                without having to wait for the NTP synchronisation process to

                complete.


                Services that are ordered after the new time-sync-https-wait target

                can be sure that full network connectivity has been achieved and that

                time has been synchronised with an accuracy of a few seconds.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: "#1337 #1776 #2044 #2139"
                connects-to: "#1337 #1776 #2044 #2139"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.88.0
          date: 2021-12-01T15:06:07.577Z
        - commits:
            - subject: "tests: Add BeagleBone Black u-boot overlay test"
              hash: d52a1754ba1620773e1f7f124fe382aa73e869eb
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.87.32
          date: 2021-12-01T08:51:25.213Z
        - commits:
            - subject: "resin-update-state.rules: do not run for unnamed partitions"
              hash: bc45916b90e60aa849a2b99903825bce98e36752
              body: >
                When udev runs resin_update_state_probe for a non-balena
                partition

                and ENV{ID_PART_ENTRY_NAME} is undefined it still gets expanded to random

                garbage accidentally lying at the eventual memory address. This can create

                a mess in /dev/disk/by-state e.g. when external devices are connected.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "resin_update_state_probe: do not skip device mapper devices"
              hash: 4a8da59e5cbe2243518ed0591dc376e935a3175d
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.87.31
          date: 2021-11-30T17:23:29.588Z
        - commits:
            - subject: "tests: Add device specific RevPi Core 3 DIO module test"
              hash: ffd31de2edf0358ede441aa001f5d32069ec8999
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.87.30
          date: 2021-11-30T15:30:47.078Z
        - commits:
            - subject: "common: image-balena: enable developmentMode when OS_DEVELOPMENT=1"
              hash: 14b96077eb1899ebedce64610344989eaf4471cd
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.87.29
          date: 2021-11-29T14:22:50.702Z
        - commits:
            - subject: Add secure boot keys to the flasher boot partition
              hash: e5e1c4446f26d028d1e5b6fbdaeb974d84d0a03f
              body: |
                Having the keys available in the flasher image allows to use the
                flasher image as source to program the keys in the EFI.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add secure boot keys to the flasher boot partition
                changelog-entry: Add secure boot keys to the flasher boot partition
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.87.28
          date: 2021-11-26T18:00:13.452Z
        - commits:
            - subject: "balena-os: make sure PAM support is not configured"
              hash: abb515f6a0bf5d274af873852ddd4e60cf4ee89e
              body: >
                BalenaOS does not use PAM but some vendor BSPs enable it and
                misconfigure

                the hostOS authentication.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.87.27
          date: 2021-11-25T14:36:15.066Z
        - commits:
            - subject: "tests: add test for filesystem checks"
              hash: a58b4a8d89830d739b8a676b1f8669ead6c03e0e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "common: initrdscript: fsck resin-data on boot"
              hash: a035f37b4ae3003b41cd450ab24fffbe178ecdb2
              body: |
                Check resin-data on boot to automatically repair any errors
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.87.26
          date: 2021-11-25T07:36:45.881Z
        - commits:
            - subject: "connectivity: reduce ping interval to minimum"
              hash: b513920cd7d683f6511aee2d190d2e9df924fe87
              body: >
                The interface test uses a simple ping to ensure a specific
                interface

                works. It sends ten packets, and expects ten packets back. However, the

                default interval is one second, which increases the time taken for the

                test while not adding anything of value.


                Reduce the timeout to the minimum non-privileged interval of 2ms.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.87.25
          date: 2021-11-25T02:05:13.102Z
        - commits:
            - subject: "tests: Fix dnsmasq tests in cases where 8.8.8.8 is assigned via DHCP"
              hash: 970704092a2f73e120029464edca5b152296f486
              body: >
                One of the test was making sure we were NOT using the default
                8.8.8.8

                server even though that may be a valid upstream server provided by DHCP/PPP.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.87.24
          date: 2021-11-24T21:35:13.779Z
        - commits:
            - subject: "0-signed-update HUP hook: mount efivarfs if necessary"
              hash: 1a6c772c9266d5fc219939e9304813356f85d34c
              body: >
                The hook tries to read EFI variables from efivarfs but this is
                not always

                mounted within the container. We have already validated that we are running

                in EFI mode therefore we can just check whether it is already mounted

                and eventually mount with no further checks.


                This also adds graceful handling of nonexistent variables since not all

                UEFI implementations come with secure boot support.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.87.23
          date: 2021-11-24T19:42:32.718Z
        - commits:
            - subject: "grub-efi: Accept no input and output nothing when in secure boot mode"
              hash: ffe2f48ed1e770068eb98affc5b29ae39c244869
              body: >
                At this moment GRUB drops to rescue shell if config is invalid

                or if signatures are missing/wrong. This lets the user disable the signature

                checks altogether.


                With this patch GRUB outputs nothing and accepts no user input if signing

                is configured.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.87.22
          date: 2021-11-24T16:39:29.277Z
        - commits:
            - subject: "linux-firmware: Include MT7601U firmware"
              hash: 33980c8b9ba464c91f016f9cade4140c278e7037
              body: >
                The MT7601U WiFi driver fails to find its firmware, so it is
                included now.
              footer:
                Change-type: patch
                change-type: patch
                Backport-to: next
                backport-to: next
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
              nested: []
          version: meta-balena-2.87.21
          date: 2021-11-24T12:49:04.437Z
        - commits:
            - subject: "balena-image: Add balena keys to boot partition if required"
              hash: 14624e33c3a48baf71ac7314fc116e7cb21016c9
              body: >
                When using secure boot, add the balena keys to the boot
                partition.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "grub-conf: Enforce module signing and integrity lockdown on luks
                config"
              hash: 1ba23869473faace427782d2aea07a0b46bfbc0c
              body: >
                When booting in secure mode, enforce signed modules loading and
                integrity

                lockdown.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "distro: balena-os: Add empty SIGN_API"
              hash: b1cce6ee3d921dd8def909d959a48bd0d6805c30
              body: |
                By default do not produce signed images.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "classes: image-balena: Copy signed files if present"
              hash: cad39d9f0bf1630da4084cd9b6650cd612943f7d
              body: >
                Grub requires that the signed files carry the .sig suffix, so
                copy then

                if present.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "classes/sign-gpg: Rename class to sign_gpg"
              hash: b1e37430c2f83c045156057198140ba951ea5c5d
              body: |
                Use a less generic name.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "classes: Rename sign to sign-gpg"
              hash: 07012bebb4e0c309a5f148f1ab70cf6bf4f15053
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "classes: sign: Drop suffix from deployed files"
              hash: d3f05f3f36c1b9d2576e497ca5573dbd2b050efd
              body: |
                This way device repositories do not need to be customized.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "resin-init-flasher: Set fde grub.cfg if secure boot is enabled"
              hash: 5d25ccbec30eacc449783b0b6f9c342befa10924
              body: |
                When secure boot is enabled a special grub.cfg is required.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-image-initramfs: Add secure boot dependencies"
              hash: 68d68cfb4523e4e012f174e91495949461782b9d
              body: >
                When buildinf an initramfs for secure boot add the needed
                dependencies.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "kernel-image-initramfs: Install signed kernel images if available"
              hash: 0af48f7555726e969b19bfe29321babb93f265b5
              body: |
                Signed images are needed for secure boot.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "kernel-balena: Configure for secure boot"
              hash: 52259791b2cc2bfd121255e009808bc5677fde0d
              body: |
                On secure boot builds, configure the kernel accordingly.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.87.20
          date: 2021-11-23T16:12:35.703Z
        - commits:
            - subject: "common: enable multi-label mDNS resolution and IPv6"
              hash: 7d50c2b78a2c97172c9bdc558e835c8caf7a80ab
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.87.19
          date: 2021-11-22T22:45:22.434Z
        - commits:
            - subject: unwrap flasher images in os suite if needed
              hash: e377cdf05d8d3baf456391889978a7a7bd49e9f0
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: bluetooth and hup test with qemu
              hash: 2bf53fbce9bd2173b60253347a2e0c33d4c06e46
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.87.18
          date: 2021-11-22T17:26:50.431Z
        - commits:
            - subject: "efitools: Add recipe"
              hash: 64daca47ee173b94ffc40ed042a19c114a4e371d
              body: |
                From

                https://github.com/jiazhang0/meta-secure-core at:
                3fa3fc6dcb41fb6392de84154445502d0668153c
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "sbsigntool: Add recipe"
              hash: 32a22fa740bd06cbb399998f7d8fd12c2088de7c
              body: |
                Required by efitools.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.87.17
          date: 2021-11-21T17:23:50.379Z
        - commits:
            - subject: "peak: Modify kernel driver to use signing class"
              hash: 12cbccc2a880bf3f9782b61c4afe4bd393a9414b
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.87.16
          date: 2021-11-21T10:54:01.163Z
        - commits:
            - subject: "kernel-balena.class: Add support for FDE and sign for secure boot"
              hash: fa67eb58b88155bf4808181ff6429fd94704cad3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.87.15
          date: 2021-11-21T08:53:19.604Z
        - commits:
            - subject: "sign-efi.bbclass: do not mix old and new bitbake syntax"
              hash: fb8d7ed997f3cdc08d3a7d3b65e1ebd4aba6d90e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: 'Revert "sign-efi.class, sign-kmod.class: Replace original files with
                signed ones"'
              hash: fe553becac56b973e0adc9adeb71655fa7d9883d
              body: >
                This reverts commit 853656e6bcfed0b0206d031c32cd1cde811b8146.


                The change overwrites build files, though that is what we need, it is a hacky

                approach and we will look for a clean solution.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.87.14
          date: 2021-11-21T07:00:01.356Z
        - commits:
            - subject: "meta-resin-sumo/pyro: Fix initramfs-framework kexec dependencies"
              hash: 9d2d1df166a80f693cfee8a34ffd6e1f5b7ff581
              body: >
                On recent Yocto versions the findmnt package is split into its
                own

                package, but sumo needs to include the whole util-linux package.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "initrdscripts: Use a 2nd stage bootloader to unlock LUKS partitions"
              hash: acbc384d527436e5d7382504dcf62f799b9490d5
              body: >
                GRUB can not use the TPM easily to unlock the volumes and find
                the kernel

                on an encrypted partition. Instead, we choose to store a linux kernel

                and use it as 2nd stage bootloader to unlock the partition, load the actual

                kernel and kexec into it. This should eventually be replaced by a proper

                2nd stage bootloader that is being worked on.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "grub-efi: add support for signature verification in secure boot mode"
              hash: ac22f29ffa370f48704fcfb6c7cdb8eec200ba18
              body: |
                This incorporates multiple changes:
                - Patch grub to propagate secure boot mode to the kernel
                - Enable GPG signature verification in GRUB
                - Sign GRUB config files
                - Sign the grub EFI binary for secure boot
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.87.13
          date: 2021-11-20T22:06:37.895Z
        - commits:
            - subject: "initramfs-module-cryptsetup: add TPM dependencies"
              hash: dfff22ad0315c9893d9def6829708b50153d691d
              body: >
                The TPM2 utilities were always pulled into the image during
                development

                but for the final version they are not and this should pull them

                as dependencies.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.87.12
          date: 2021-11-20T15:38:45.684Z
        - commits:
            - subject: "balena-keys: Add recipe"
              hash: 1436ac7e3cac2bd244fd387c80a8e52de7f68b5a
              body: >
                Add a recipe to deploy the signing keys to the deploy directory.

                Device types that use them should copy them into the boot partition.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.87.11
          date: 2021-11-20T12:30:28.072Z
        - commits:
            - subject: "sign-efi.class, sign-kmod.class: Replace original files with signed
                ones"
              hash: 853656e6bcfed0b0206d031c32cd1cde811b8146
              body: >
                Currently the two classes would keep the original files
                untouched and store

                the signed versions as .signed. This patch reverses the logic - the signed

                files replace the original ones and the unsigned version is stored as .unsigned.

                This is because there is no real use-case for the unsigned files, we always

                want to ship the signed version, even if the particular DT does not require it,

                this causes no harm.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: Add signing classes
              hash: 5c128e6b234d75ba684212a322ababa7b5bd13d2
              body: >
                Add classes for GPG, KMOD and EFI artifact signing. Inheriting
                these classes

                won't run the signing tasks, they have to be manually added to recipes.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.87.10
          date: 2021-11-20T07:33:31.830Z
        - commits:
            - subject: "hostapp-update-hooks: Add a hook that aborts HUP to unsigned OS under
                secure boot"
              hash: 9db5d09428bdba067974ff5c5c62a8d35eab7a67
              body: >
                When a device is running in secure boot mode, it must not be
                possible to HUP

                to an unsigned version of the OS because UEFI would refuse to boot it before

                any of our self-recovering rollback mechanisms can be triggered. This would

                effectively brick the device, needing physical access to recover.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.87.9
          date: 2021-11-17T03:10:29.925Z
        - commits:
            - subject: "resin-mounts: mount EFI partition if it is split from boot"
              hash: 1cf47718063093369e26ac8831dc83db904de214
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.87.8
          date: 2021-11-17T03:04:09.427Z
        - commits:
            - subject: "initrdscripts: add a script for unlocking LUKS volumes"
              hash: 7b095c49d49a2ed08c827a872813db270830a503
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.87.7
          date: 2021-11-16T12:31:32.268Z
        - commits:
            - subject: "connectivity: proxy: move nadoo/glider to container"
              hash: 07dbe414a1dfa556427d4fc94ce7fdec688cf0e2
              body: >
                Previously, the core service exposed a /proxy endpoint that
                would start

                up a proxy remotely, which would be used by a test in the connectivity

                module. However, the endpoint returned the address for the testbot to be

                used as the proxy in the response, and this required manual

                configuration of the interface. Additionally, it requires the worker

                service to install and provide glider for forward proxying.


                Move the proxy (glider) to a container on the device being tested,

                which simplifies configuration, and reduces the complexity and size of

                the interface of Leviathan.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.87.6
          date: 2021-11-15T13:04:05.810Z
        - commits:
            - subject: "tests: os: Add exposed engine socket test"
              hash: 612b7853a23441d0192de5580d37d0f89f7f3103
              body: >
                This tests the engine socket being exposed in development mode
                but not

                in production mode.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.87.5
          date: 2021-11-11T17:56:18.921Z
        - commits:
            - subject: "resindataexpander: also resize LUKS volume if necessary"
              hash: aff55ab61db7842202d7aec2e16b3bab505daf60
              body: |
                The behaviour for non-LUKS system should be the same as before,
                an extra step is performed when LUKS resize is necessary.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.87.4
          date: 2021-11-11T14:56:27.092Z
        - commits:
            - subject: Add out-of-tree peak CAN driver
              hash: 983c233bbc243f83c53706639867485655cafbfb
              body: |
                Only add the recipe, let DTs pull it as necessary
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.87.3
          date: 2021-11-11T12:59:58.982Z
        - commits:
            - subject: Add recipes for TPM2 tools
              hash: baddbd39fd17d364ebfd69bf139980ca82abc8ba
              body: >
                Taken from
                http://git.yoctoproject.org/cgit/cgit.cgi/meta-security/tree/meta-tpm/recipes-tpm2

                Only add the recipes, let DTs pull it as necessary.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.87.2
          date: 2021-11-11T08:07:31.669Z
  version: 2.88.4
  date: 2021-12-14T16:23:42.106Z
- commits:
    - subject: "linux-tegra: Update dtb files for photon-nano,nx to 32.6.1"
      hash: 284c14585446b574d11dca9fb102a6aaeefb5c8c
      body: ""
      footer:
        Changelog-entry: "linux-tegra: Update dtb files for photon-nano,nx to 32.6.1"
        changelog-entry: "linux-tegra: Update dtb files for photon-nano,nx to 32.6.1"
        Signed-off-by: Pelle van Gils <pelle@hwky.ai>
        signed-off-by: Pelle van Gils <pelle@hwky.ai>
      author: Pelle van Gils
      nested: []
  version: 2.87.1+rev3
  date: 2021-12-14T15:28:36.082Z
- commits:
    - subject: "u-boot-tegra: Fix Nano SD-CARD abort in 32.6.1"
      hash: cc38474e71735e002857e02e7085aa655e731441
      body: ""
      footer:
        Changelog-entry: "u-boot-tegra: Fix Nano SD-CARD abort in 32.6.1"
        changelog-entry: "u-boot-tegra: Fix Nano SD-CARD abort in 32.6.1"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.87.1+rev2
  date: 2021-12-14T13:40:40.789Z
- commits:
    - subject: Update meta-balena from v2.85.2 to v2.87.1
      hash: dbdb173d47d3e7b6305361f7369c0664d22d81c7
      body: |
        Update meta-balena from 2.85.2 to 2.87.1
      footer:
        Changelog-entry: Update meta-balena from v2.85.2 to v2.87.1
        changelog-entry: Update meta-balena from v2.85.2 to v2.87.1
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "recipes-devtools/dosfstools: Fix build with Poky Honister"
              hash: 4c47a01aab59afefbb9ad055fbb975c45f5dd262
              body: |
                Poky Honister comes with dosfstools v4.2
                so we cannot use the v4.1 append in the
                meta-balena-common layer.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.87.1
          date: 2021-11-10T17:07:04.950Z
        - commits:
            - subject: "meta-balena-common/conf: Switch layer to Honister compatibility"
              hash: 8cc0c59efc9946b74fea6fb3a7d6b0d51bad015b
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.87.0
          date: 2021-11-09T09:42:26.620Z
        - commits:
            - subject: "patch: Fix URL to yocto project dependencies"
              hash: 916b1d256a0ab3f23818e7307ce219cdaed2002f
              body: ""
              footer:
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.86.3
          date: 2021-11-09T00:07:14.996Z
        - commits:
            - subject: "dosfstools: selectively apply upstreamed patch"
              hash: 8f04f1142bcb3074d86e2827dfda6c7d8c87fefd
              body: >
                This patch was submitted and accepted upstream, and is present
                since

                v4.2.


                https://github.com/dosfstools/dosfstools/commit/87a8f29785bb605350821f1638a42e6cf3e49ce3


                This fixes a build error applying a patch that's already been applied

                when building newer versions of dosfstools.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "tests: wait for the chronyd service become active"
              hash: c49648a0f27f1a57376803ba9c85ec9ba729ebe9
              body: >
                Add a test to wait for the chronyd service to become active
                before

                starting the time sync tests.


                The current chronyd tests assume that the chronyd service is

                instantly available at boot time. With the addition of the new

                HTTPS time synchronisation service the starting of chronyd can be

                delayed by a few seconds so we need to ensure that the service

                is actually running before proceeding.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "tests: wait for the chronyd service become active"
                changelog-entry: "tests: wait for the chronyd service become active"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.86.2
          date: 2021-11-08T15:41:30.313Z
        - commits:
            - subject: "tests/issue: Add test to check issues files"
              hash: 472bf8a99a111e061e416557e9ab0f538041ae01
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "base files: Use HOSTOS_VERSION in issue and issue.net"
              hash: fb9fd5c0a848c93b020a81521fa6e0cc0f3dd0bb
              body: |
                This allows to display ESR releases on the welcome login.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.86.1
          date: 2021-11-02T12:36:12.690Z
        - commits:
            - subject: Create new data partition reset service
              hash: 60f7dd78b93c3a079aac346d5f587198e541a1a8
              body: |
                Similar to state-reset, the data partition will be mostly
                purged if the remove_me_to_reset file is removed.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.86.0
          date: 2021-10-29T12:26:28.613Z
        - commits:
            - subject: restrict dtoverlay test to rpi devices
              hash: 98d8f80b6e2c49fabecad70f539a3e247ac20895
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.85.17
          date: 2021-10-28T13:26:21.042Z
        - commits:
            - subject: Update balena-engine to v19.03.30
              hash: abf610e022eeac709c054e4fb672b850ef08a940
              body: >
                Fixes EINVAL errors caused by sockets during storage migration,

                https://github.com/balena-os/balena-engine/commit/17a198cb53a53da456c848bf303dc3917ca538c5


                Update balena-engine from 19.03.29 to 19.03.30
              footer:
                Changelog-entry: Update balena-engine to v19.03.30
                changelog-entry: Update balena-engine to v19.03.30
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested:
                - commits:
                    - subject: "storagemigration: keep going if migration fails"
                      hash: 2bde63c800b1df72fba7161d62b5b6da84a8d390
                      body: >
                        the only hard error is if rollback (failcleanup) fails,
                        in all other

                        scenarios we want the daemon to continue starting with the new

                        graphdriver
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Gnzler <robertg@balena.io>
                        signed-off-by: Robert Gnzler <robertg@balena.io>
                      author: Robert Gnzler
                      nested: []
                    - subject: "graphdriver/copy: fix handling of sockets"
                      hash: 17a198cb53a53da456c848bf303dc3917ca538c5
                      body: >
                        previously switch would treat S_IFIFO and S_IFSOCK as
                        the same, passing

                        both of the to mkfifo, which lead to EINVAL errors when trying to create

                        the socket, we instead handle socket separately.


                        Also adds cases for this to the unit and integration tests of the

                        migrator.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Gnzler <robertg@balena.io>
                        signed-off-by: Robert Gnzler <robertg@balena.io>
                      author: Robert Gnzler
                      nested: []
                  version: balena-engine-19.03.30
                  date: 2021-10-26T13:43:43.638Z
          version: meta-balena-2.85.16
          date: 2021-10-27T10:26:55.185Z
        - commits:
            - subject: "linux-firmware: Include RTL8723BU firmware files"
              hash: 2490287e51d96f3ceabd7e3d7a9cd93f49442ba7
              body: >
                The driver for RTL8723BU wireless chipset is present, but its
                firmware

                files are not loaded. This patch includes them.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
              nested: []
          version: meta-balena-2.85.15
          date: 2021-10-26T15:34:07.511Z
        - commits:
            - subject: "balena-supervisor: Update balena-supervisor to v12.11.0"
              hash: 983eba7a9e61ba9fdd494807d516f1006a7a3504
              body: |
                Update supervisor to latest version to add API backoff behavior.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Felipe Lalanne <felipe@balena.io>
                signed-off-by: Felipe Lalanne <felipe@balena.io>
              author: Felipe Lalanne
              nested: []
          version: meta-balena-2.85.14
          date: 2021-10-25T15:51:29.429Z
        - commits:
            - subject: "balena-engine: Remove deprecated development drop-in service file"
              hash: 8db04c4e70fc4f30ae6b9e5009d04d8c247d7364
              body: >
                This file is no longer used since the merge of dev and prod
                images.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.85.13
          date: 2021-10-21T13:51:52.714Z
        - commits:
            - subject: make led test work with beaglebone
              hash: e615c008f916fb4542731c3b0c860be0d79a71b2
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.85.12
          date: 2021-10-21T10:59:58.802Z
        - commits:
            - subject: "patch: Add dtoverlay practical test"
              hash: 76664fceb33d01cf504df464879569f8c147f2fd
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: meta-balena-2.85.11
          date: 2021-10-06T07:35:19.121Z
        - commits:
            - subject: "image-balena: Decouple boot directory generation from rootfs task"
              hash: 0a2a6bc11a0868c6cd858f28783eccfee5199ca9
              body: >
                The boot partition needs to be generated before creating the
                balenaos-img

                but is not part of the root filesystem generation.


                The decoupling allows to build just the docker rootfs image without

                having to build the balenaos-img target.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.85.10
          date: 2021-10-04T11:39:33.460Z
        - commits:
            - subject: "classes/resin-u-boot: Increase OS_BOOTCOUNT_LIMIT to 3"
              hash: 2756f4e2621f6f24ed8e0add675049bf3515383f
              body: |
                Let's increase the current value for the rollback-altboot
                bootcount to 3, to account for accidental poweroffs triggered
                by users or by power supplys when booting into the new OS,
                during HUP.

                When the limit is reached, u-boot will proceed to try
                to boot into the old OS.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.85.9
          date: 2021-10-01T13:01:16.476Z
        - commits:
            - subject: "hostapp-update-hooks: Blacklist Rock Pi configuration file"
              hash: 5379c4131b23e912dda9eddc0c309301d007414b
              body: |
                The Rock Pi 4B uses a file named hw_intf.conf for
                enabling/disabling interfaces and for loading overlays.
                Just noting that the syntax is also slightly different
                from the config.txt file on RaspberryPi.

                Let's blacklist this file to avoid overriding
                it during an OS update.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.85.8
          date: 2021-09-29T13:49:00.466Z
        - commits:
            - subject: "balena-healthcheck: Remove redundant steps and rely on hello-world"
              hash: 33925aa5132f23e92d3754b4422c22f40d854d42
              body: >
                In situations with limited resources the info and ps commands
                can take

                an unecessarily long time when we really only need to know that a

                container can be started.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.85.7
          date: 2021-09-28T14:01:40.209Z
        - commits:
            - subject: "kernel-balena: Fix kernel config warning for UPROBE_EVENTS"
              hash: 877a846369f8863145546afe4899de8f14148d94
              body: >
                Some BSP kernel configurations do not define FTRACE, so add it
                as a

                dependency.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "kernel-balena: Configure DEBUG_FS"
              hash: 15694f9e9510cd0e2c5cd3514d611761724ef003
              body: >
                The debugging filesystem is usually mounted on user images and
                it is

                enabled by default on most Linux distributions.


                Fixes balena-os/balena-allwinner#128
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.85.6
          date: 2021-09-27T10:20:36.218Z
        - commits:
            - subject: Run iwlwifi firmware cleanup in fakeroot
              hash: 24b6b9cdc0228c85671a0ba492cfd148a6c547ae
              body: >
                This prevents downstream linux-firmware fakeroot tasks, such as

                firmware compression, from encountering Pseudo Abort due to files

                changing outside the fakeroot context.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.85.5
          date: 2021-09-23T16:39:34.551Z
        - commits:
            - subject: "common: conf: create disable-user-ns distro feature"
              hash: 7dde2133a5b1df710255b8b0471385cca1449c1d
              body: >
                When user namespacing was enabled in the kernel by default, a
                separate

                commit [0] was introduced to disable the feature at runtime, to allow

                users/administrators to explicitly choose to enable it, avoiding

                potential security implications.


                However, some applications such as Chromium's sandbox, require either

                SUID or user namespacing to work. Disabling this feature on boards

                that previously enabled it necessitates container modifications and

                potentially breaks previously working applications.


                Create a distro feature to disable user namespacing by default in

                meta-balena, while allowing device types to keep it enabled to maintain

                compatibility with their original behavior.


                https://github.com/balena-os/meta-balena/commit/31c3ae8ad5c7ad45e450349b6972524da120e96c
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.85.4
          date: 2021-09-21T19:37:48.181Z
        - commits:
            - subject: "balena-os-sysctl: Reduce the console default loglevel"
              hash: 626b0e25cbd13ca65a74bbfe09ff9e0828b380bb
              body: >
                This avoids the kernel printing debug messages on the consoles.
                It is

                also the default in other upstream distros like Ubuntu.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-config-vars: Re-run os-sshkeys if config.json is modified"
              hash: 67b7aa5b58a26178411b598415e296fea5628a00
              body: >
                This change allows to pick-up changes to "os.sshKeys" in
                config.json

                without having to reboot.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "systemd: Use drop-in to modify unit files instead of sed"
              hash: b07a78453243d12db59524836c3cc62d355a6f2d
              body: >
                Performing unit modifications in drop-in files is better
                practise.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.85.3
          date: 2021-09-21T11:28:51.115Z
  version: 2.87.1+rev1
  date: 2021-11-12T06:36:44.979Z
- commits:
    - subject: Update balena-yocto-scripts from v1.15.5 to v1.15.8
      hash: 58da181b7db39702b43a0290d60b2167d5c041e5
      body: |
        Update balena-yocto-scripts from 1.15.5 to 1.15.8
      footer:
        Changelog-entry: Update balena-yocto-scripts from v1.15.5 to v1.15.8
        changelog-entry: Update balena-yocto-scripts from v1.15.5 to v1.15.8
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "Dockerfile_yocto-build-env: Install Honister host deps"
              hash: efc069c609431965394912d3ffd34362a1108852
              body: >
                See
                http://docs.yoctoproject.org/next/migration-guides/migration-3.4.html#new-host-dependencies
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: balena-yocto-scripts-1.15.8
          date: 2021-11-03T10:01:44.980Z
        - commits:
            - subject: "jenkins_build.sh: Fix deployment for discontinued device types"
              hash: 84e65e937fef38625277fb8330ebd3179c466d04
              body: >
                Do not deploy dockerhub or hostapp images for discontinued
                device types.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_build.sh: Remove PRIVATE_DT as it is unused"
              hash: 35fd54620ff5eb487b1323a1ead5fef9c157e385
              body: >
                The private device types status is checked with the API when
                required.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_build.sh: Fix lint warnings"
              hash: 068a4197101a2db4aba60793e01564b67d14f820
              body: |
                Fix some minor lint warnings.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.15.7
          date: 2021-10-25T16:57:03.955Z
        - commits:
            - subject: "balena-generate-ami.sh: wait for boot partition when preloading AMI"
              hash: d2ea170a86810a782eeb241e178d4ad72c4939b0
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: balena-yocto-scripts-1.15.6
          date: 2021-10-21T15:04:37.774Z
  version: 2.85.2+rev5
  date: 2021-11-04T17:16:13.883Z
- commits:
    - subject: Update balena-yocto-scripts from v1.14.8 to v1.15.5
      hash: f7640d416d1e876a1a8d2f88dbd0ceb1575a6716
      body: |
        Update balena-yocto-scripts from 1.14.8 to 1.15.5
      footer:
        Changelog-entry: Update balena-yocto-scripts from v1.14.8 to v1.15.5
        changelog-entry: Update balena-yocto-scripts from v1.14.8 to v1.15.5
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "jenkins_generate_ami.sh: Use a shared directory for preloaded image"
              hash: 9b032f2fddc970db13147b4e637abd1bada1f234
              body: >
                The previous commit moved the preloaded image out of yocto
                cache, which

                made it unreachable from the balena-generate-ami-env container.


                This patch makes mktemp create the file back within yocto cache to ensure

                this is shared yet still each concurrent process can safely have its own copy.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: balena-yocto-scripts-1.15.5
          date: 2021-10-21T04:50:17.146Z
        - commits:
            - subject: "barys: update development image variables"
              hash: 427510332026ca8636dedb6630632a740b481374
              body: |
                Update the DEVELOPMENT_IMAGE references to use OS_DEVELOPMENT
                following the changes to the handling of OS variants.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "barys: update development image variables"
                changelog-entry: "barys: update development image variables"
                Signed-off-by: Mark Corbin mark@balena.io
                signed-off-by: Mark Corbin mark@balena.io
              author: Mark Corbin
              nested: []
          version: balena-yocto-scripts-1.15.4
          date: 2021-10-20T09:40:14.890Z
        - commits:
            - subject: "jenkins_generate_ami.sh: Preload outside of yocto cache"
              hash: fb1763984d76218adc2510da6cb673fbad7197be
              body: >
                Since the file name is hardcoded at this moment, this fails when
                two

                builds are running in parallel (e.g. dev and prod variants during deploy)

                because they try to preload the same file at pretty much the same moment.

                Having a separate copy for each outside of yocto cache should fix the issue.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: balena-yocto-scripts-1.15.3
          date: 2021-10-20T05:12:57.093Z
        - commits:
            - subject: "balena-generate-ami.sh: correctly mount boot partition when injecting
                SSH key"
              hash: c0f6da3e4fe3f9c51ba8b279986a6f4baffe6d96
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: balena-yocto-scripts-1.15.2
          date: 2021-10-01T14:45:58.407Z
        - commits:
            - subject: Update balena-cli to 12.50.1
              hash: 700ebe6d06385440488a42c42179d19434376209
              body: >
                This is necessary for AMI preloading to work, additionally

                it has been more than a year since the last update, we should keep up.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-cli to 12.50.1
                changelog-entry: Update balena-cli to 12.50.1
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: balena-yocto-scripts-1.15.1
          date: 2021-10-01T10:11:14.438Z
        - commits:
            - subject: "jenkins_generate_ami.sh: Use lib function to get arch from
                config.json"
              hash: fffe9ffb363c9eed783a5055e69847c81eb68bcd
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "balena-generate-ami.sh: Look for boot partition by label rather than
                hardcoding p1"
              hash: 45786e701d05811f96d0aeef20481442bb1d0f1c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "balena-generate-ami.sh: Fail if AMI already exists"
              hash: 9e9a792aed2a659c1ed7327237a61594033b308a
              body: >
                This was only ignored for development purposes, we should not
                replace

                released images.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "balena-generate-ami.sh: sync after writing config.json"
              hash: f0838aaee9751a6fb60558a7646d597b1f99b1c3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "balena-generate-ami.sh: Stick to POSIX-compliant [ instead of [["
              hash: 2c6a97c263a71c63387290fca29ba5b01eba8db4
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "balena-generate-ami.sh: Remove useless statements"
              hash: 9d4ac02f3ad8eadaed79703dbc859c4950449810
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "jenkins_generate_ami.sh: Use architecture as suffix instead of machine
                name"
              hash: 7d2e3911defedc500b3b1ded3268dbe74bb523b0
              body: >
                This removes the necessity for the DT being named generic-*. It
                also means

                all the DTs of the same architecture will preload the same app.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "jenkins_build.sh: pass MACHINE to jenkins_generate_ami.sh"
              hash: 0e33582e2860474e1c6aff5275539b1333aef6b9
              body: >
                This removes the dependency on JOB_NAME from
                jenkins_generate_ami.sh
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "AMI automation: Adjust AMI names to be compatible with AWS API"
              hash: bc91b7036b32aa57c053c115ac87b7f21fa634c8
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: ab77
              nested: []
            - subject: "AMI automation: Correct S3 bucket name and key"
              hash: 8864adcb20c1f4cbfd48e422dbae44b885c8ca06
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: ab77
              nested: []
            - subject: "AMI automation: Add a separate container for generaing AMI"
              hash: d7d91ff4c3ea655dfa9a483a020d2d16aa5e0f49
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "AMI automation: shellcheck and resolve violations"
              hash: 6b11dd26bc1229aafed98c5933f23e892811f49f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: ab77
              nested: []
            - subject: "AMI automation: Use staging env by default"
              hash: 21fa55a6f73faf59fe5fc3b1e6e8bc4084e17c01
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Toms Tormo <tomast@balena.io>
                signed-off-by: Toms Tormo <tomast@balena.io>
              author: Toms Tormo
              nested: []
            - subject: "AMI automation: Simplify public ssh addition. Do not use sudo"
              hash: dd96771607f79620a241e4dee99879542643f55f
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Toms Tormo <tomast@balena.io>
                signed-off-by: Toms Tormo <tomast@balena.io>
              author: Toms Tormo
              nested: []
            - subject: "automation: Generate and publish AMI from the raw balenaOS image"
              hash: efe2b5beb5ea6b00fff07372a312c7e0c690654b
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Toms Tormo <tomast@balena.io>
                signed-off-by: Toms Tormo <tomast@balena.io>
              author: Toms Tormo
              nested: []
          version: balena-yocto-scripts-1.15.0
          date: 2021-10-01T04:12:24.310Z
        - commits:
            - subject: "balena-deploy: When deploying hostapp default to using slug as name"
              hash: d9ee5fa5f5a97de9c41c2acc13b6c7335e2b043f
              body: >
                Using the device type is incorrect as aliases are not taken into
                account.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-api: Do not use balena_lib_resolve_aliases"
              hash: d50cee134436914b4960254abd0a5cf28b40f764
              body: >
                That function is now for internal use, replace with
                balena_lig_get_slug()

                which is clearer.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena_lib: Make resolve_aliases local so it is not globally used"
              hash: 45a0f62debdbf9e20d56e8bba8a9567359d7e8e4
              body: >
                The correct call is balena_lib_get_slug(device_type), which
                resolves

                aliases too.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.14.9
          date: 2021-08-20T17:33:15.811Z
  version: 2.85.2+rev4
  date: 2021-10-21T12:21:26.065Z
- commits:
    - subject: "jetson-nano: Update flashing instructions to use Jetson Flash"
      hash: c4fd5527563da0144f7ba9eda52fc46cec6bec44
      body: |
        It has been reported that newer units come with the qspi memory
        pre-flashed with bootloaders that cannot run BalenaOS cloud image.

        Update the flashing instructions to recommend Jetson Flash,
        which updates the qspi flash to match and boot the BalenaOS
        SD-CARD image.
      footer:
        Changelog-entry: "jetson-nano: Update flashing instructions to use Jetson Flash"
        changelog-entry: "jetson-nano: Update flashing instructions to use Jetson Flash"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.85.2+rev3
  date: 2021-10-19T14:36:51.028Z
- commits:
    - subject: "meta-balena-jetson: update local.conf.sample"
      hash: 25a265d92b0441bb59f9b5bc209e127f0fda4508
      body: |
        Update the sample configuration file to use OS_DEVELOPMENT instead of
        DEVELOPMENT_IMAGE.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "meta-balena-jetson: update local.conf.sample"
        changelog-entry: "meta-balena-jetson: update local.conf.sample"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.85.2+rev2
  date: 2021-10-18T13:43:16.273Z
- commits:
    - subject: Update meta-balena from v2.85.0 to v2.85.2
      hash: 7ad2f3e90be70c5bfc8436f9e24daa47b574af5c
      body: |
        Update meta-balena from 2.85.0 to 2.85.2
      footer:
        Changelog-entry: Update meta-balena from v2.85.0 to v2.85.2
        changelog-entry: Update meta-balena from v2.85.0 to v2.85.2
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: Update balena-engine to v19.03.29
              hash: a2ed32e139489afd89e59e0e63a7c676969de3d8
              body: |
                Update balena-engine from 19.03.26 to 19.03.29
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-engine to v19.03.29
                changelog-entry: Update balena-engine to v19.03.29
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested:
                - commits:
                    - subject: "pkg/storagemigration: use graphdriver/copy.DirCopy"
                      hash: ffbb608492405488bff5e31ea62c0249fb416106
                      body: |
                        instead of our own implementation
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Gnzler <robertg@balena.io>
                        signed-off-by: Robert Gnzler <robertg@balena.io>
                      author: Robert Gnzler
                      nested: []
                  version: balena-engine-19.03.29
                  date: 2021-09-14T15:38:47.823Z
                - commits:
                    - subject: Prune Jenkinsfile
                      hash: ea14e503181bbb248a4bed1b86a227d9c214cbfb
                      body: >
                        we are not using it for our CI, and it confuses jenkins
                        set up on the

                        balena-os org
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Gnzler <robertg@balena.io>
                        signed-off-by: Robert Gnzler <robertg@balena.io>
                      author: Robert Gnzler
                      nested: []
                  version: balena-engine-19.03.28
                  date: 2021-09-14T14:54:48.288Z
                - commits:
                    - subject: Backport platform-detection fixes from containerd
                      hash: 9f71253561b1cd2f262ec0d6e81c5fbd09a7a0a1
                      body: >
                        See https://github.com/containerd/containerd/pull/4530

                        and `git log ad25c1a9c34361e4071f508b9a91946b05fce165^..2055e12953bb538228d8d9fe627fa545d7cf82be ./platforms/`

                        in the containerd repo
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Gnzler <robertg@balena.io>
                        signed-off-by: Robert Gnzler <robertg@balena.io>
                      author: Robert Gnzler
                      nested: []
                  version: balena-engine-19.03.27
                  date: 2021-09-01T18:43:57.993Z
          version: meta-balena-2.85.2
          date: 2021-09-17T20:43:01.200Z
        - commits:
            - subject: Fix typo in OS_DEVELOPMENT distro feature
              hash: 7992a7900506eaf0279f93c747dea1520875c817
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "tests: Remove OS variants"
              hash: 5545c4e15831e16497a737307da69d38f947aa51
              body: >
                The OS is now a single image that can switch between development
                and

                production modes at runtime.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.85.1
          date: 2021-09-17T14:02:11.331Z
  version: 2.85.2+rev1
  date: 2021-10-11T12:46:35.077Z
- commits:
    - subject: Auvidea CNX100 Xavier NX fix dtb cam2 detect
      hash: a3a693df682b60d5870687c9467022f0a83e6761
      body: |
        Updated Auvidea CNX100 Xavier NX dtb to detect second cam
      footer:
        Changelog-entry: Auvidea CNX100 Xavier NX fix dtb cam2 detect
        changelog-entry: Auvidea CNX100 Xavier NX fix dtb cam2 detect
        Signed-off-by: ClintHaerinck clint.haerinck@gmail.com
        signed-off-by: ClintHaerinck clint.haerinck@gmail.com
      author: ClintHaerinck
      nested: []
  version: 2.85.0+rev3
  date: 2021-10-11T10:23:51.348Z
- commits:
    - subject: Added Auvidea CNX100 Xavier NX device type
      hash: bc2bc1bdee1c5badff108c389d8d0957e35b2e74
      body: |
        Added Auvidea CNX100 Xavier NX device type
      footer:
        Changelog-entry: Added Auvidea CNX100 Xavier NX device type
        changelog-entry: Added Auvidea CNX100 Xavier NX device type
        Signed-off-by: ClintHaerinck <clint.haerinck@gmail.com>
        signed-off-by: ClintHaerinck <clint.haerinck@gmail.com>
      author: ClintHaerinck
      nested: []
  version: 2.85.0+rev2
  date: 2021-09-30T18:24:57.314Z
- commits:
    - subject: Rename resin-info to balena-info
      hash: b7db0ec89bf486a8728f161d8dd0127968d9f324
      body: |
        Upstream meta-balena has renamed this recipe.
      footer:
        Changelog-entry: Rename resin-info to balena-info
        changelog-entry: Rename resin-info to balena-info
        Relates-to: meta-balena#2226
        relates-to: meta-balena#2226
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: Update meta-balena from v2.82.11 to v2.85.0
      hash: 32cc2019c053b84665371e002ccb3331a955239d
      body: |
        Update meta-balena from 2.82.11 to 2.85.0
      footer:
        Changelog-entry: Update meta-balena from v2.82.11 to v2.85.0
        changelog-entry: Update meta-balena from v2.82.11 to v2.85.0
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: Replace image variants with development mode
              hash: 0c7c629dcde13de9188f05f6f551f34837ad84ff
              body: >
                The dual image variants are replaced with a runtime
                configuration switch

                for development mode.


                Fixes #2226

                Fixes #1058

                Relates to: balena-io/balena-io#2247
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Replace image variants with development mode
                changelog-entry: Replace image variants with development mode
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-supervisor: Update balena-supervisor to v12.10.10"
              hash: 1aa662a4ab11f32c71d13352eea7e86c0784df33
              body: |
                Update balena-supervisor from 12.10.3 to 12.10.10
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested:
                - commits:
                    - subject: "api-keys: Remove os variant parameter for authentication check"
                      hash: 9e0cbe04c6d1c533c3e66183eca1d3abfb8c381d
                      body: >
                        The current code authenticates unmanaged production
                        devices which makes

                        no sense. Unmanaged devices do not need to authenticate with the API.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Alex Gonzalez <alexg@balena.io>
                        signed-off-by: Alex Gonzalez <alexg@balena.io>
                      author: Alex Gonzalez
                      nested: []
                    - subject: "os-release: Use developmentMode to ascertain OS variant in new
                        releases"
                      hash: 1abd10a12947f05ae328496e98fcbcdc6a834ce1
                      body: >
                        Newer BalenaOS releases have replaced OS variants for a
                        developmentMode

                        configuration setting. This commit uses this variable to set the OS

                        variant in the absence of `VARIANT_ID` from the os-release file.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Alex Gonzalez <alexg@balena.io>
                        signed-off-by: Alex Gonzalez <alexg@balena.io>
                      author: Alex Gonzalez
                      nested: []
                    - subject: "config: Add developmentMode to schema"
                      hash: 4ad7a3ae917c888f267463fd3d5b839439cf40e6
                      body: >
                        Add a `developmentMode` configuration variable to the
                        schema. Do not expose

                        this on the device target state until local key-based authentication is

                        sorted.
                      footer:
                        Relates-to: https://jel.ly.fish/e9525e9e-aa74-478c-b931-52951c679f78
                        relates-to: https://jel.ly.fish/e9525e9e-aa74-478c-b931-52951c679f78
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Alex Gonzalez <alexg@balena.io>
                        signed-off-by: Alex Gonzalez <alexg@balena.io>
                      author: Alex Gonzalez
                      nested: []
                  version: balena-supervisor-12.10.10
                  date: 2021-09-07T13:47:51.206Z
                - commits:
                    - subject: Update URL to balena-proxy-config source code
                      hash: 2bcc3aeb56cce11b21d411ee55492109ebaf259f
                      body: >
                        Use a GitHub permalink that includes the commit in

                        case the file changes and the reference becomes out-of-date.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Kyle Harding <kyle@balena.io>
                        signed-off-by: Kyle Harding <kyle@balena.io>
                      author: Kyle Harding
                      nested: []
                  version: balena-supervisor-12.10.9
                  date: 2021-09-02T12:25:21.696Z
                - commits:
                    - subject: Bump path-parse from 1.0.6 to 1.0.7
                      hash: 2e38356bf4f5157483017ea2e6670514cbca49c1
                      body: >
                        Bumps
                        [path-parse](https://github.com/jbgutierrez/path-parse)
                        from 1.0.6 to 1.0.7.

                        - [Release notes](https://github.com/jbgutierrez/path-parse/releases)

                        - [Commits](https://github.com/jbgutierrez/path-parse/commits/v1.0.7)


                        ---

                        updated-dependencies:

                        - dependency-name: path-parse
                          dependency-type: indirect
                        ...
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: dependabot[bot] <support@github.com>
                        signed-off-by: dependabot[bot] <support@github.com>
                      author: dependabot[bot]
                      nested: []
                  version: balena-supervisor-12.10.8
                  date: 2021-09-01T20:50:51.601Z
                - commits:
                    - subject: Bump tar from 4.4.13 to 4.4.19
                      hash: b7cb494602fbd050bb9e31b5e8293a080349562c
                      body: >
                        Bumps [tar](https://github.com/npm/node-tar) from 4.4.13
                        to 4.4.19.

                        - [Release notes](https://github.com/npm/node-tar/releases)

                        - [Changelog](https://github.com/npm/node-tar/blob/main/CHANGELOG.md)

                        - [Commits](https://github.com/npm/node-tar/compare/v4.4.13...v4.4.19)


                        ---

                        updated-dependencies:

                        - dependency-name: tar
                          dependency-type: indirect
                        ...
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: dependabot[bot] <support@github.com>
                        signed-off-by: dependabot[bot] <support@github.com>
                      author: dependabot[bot]
                      nested: []
                  version: balena-supervisor-12.10.7
                  date: 2021-09-01T20:40:01.473Z
                - commits:
                    - subject: Remove "variable list" heading in configuration doc
                      hash: 5205e8ce07375a7bf9ca18f0a28bd73c275acd96
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.10.6
                  date: 2021-09-01T18:06:51.646Z
                - commits:
                    - subject: Clean up configurations.md
                      hash: af51ef8eb54af96cf00657576908f020ac401488
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.10.5
                  date: 2021-08-31T22:51:45.166Z
                - commits:
                    - subject: Include issues with downgrading versions in README
                      hash: 1280ac365618eb4106e9c20dd4e738a22958d0b7
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.10.4
                  date: 2021-08-31T18:51:02.478Z
            - subject: "u-boot: Introduce a compile time osdev-image feature"
              hash: b839f2d91ca1844d96f4d3165ae5e2923489d11d
              body: >
                At runtime we can now enable development features that were
                previously

                configured using the development-image feature. That feature also

                configured U-Boot for OS development.


                Now we have two distinct functionalities:


                * A runtime development configuration variable that configures the

                device to facilitate application development

                * A build time osdev-image feature that configures the OS for BSP and OS

                development


                This allows us to merge the current production/development images into

                a single image.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "os-release: Remove image variants information"
              hash: 4c4dac7e0cc078a9d10c0bb77e4bf702af5f0e55
              body: |
                There are no more image variants.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: Replace DEVELOPMENT_IMAGE and image variants with OS_DEVELOPMENT
              hash: fc369799cdab0012cc9c75aaa4a2e54bb6b2656a
              body: >
                The images now can be configured for application development
                mode at runtime.

                This commit introduces a built time option to configure them for BSP or

                other OS development like board bringup.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "images: Remove debug-tweaks settings."
              hash: cb1618b6d17a6c1118ea65d7485bb1bea907e18e
              body: >
                The ssh development configurations are now applied at runtime.
                The only

                feature that has been left out is the postinst logging. Customers that

                need to develop the OS can configure this themselves.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "openssh: Enable runtime development configuration"
              hash: 8bac93b3ed8c54452ea858ffc33a2e46a2e3358d
              body: >
                When a device is configured in development mode, allow password

                authentication and empty passwords, as well as root logins.


                In production mode, disable password authentication to allow only

                SSH access.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-info: Rename from resin-info"
              hash: 7f2abbf9a26c376125d18bd625f639f26d578d12
              body: |
                Replace references to resin for balena.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena: Expose engine socket on development mode"
              hash: 858f3b983e7842a155f0a34d60b6a8f488bacb2e
              body: >
                When configured in development mode expose the engine socket.
                This is

                currently used for local mode development.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "image-balena: Allow passwordless root logins"
              hash: 71aeea3652bf095544b1083023aa5d4e97448597
              body: >
                Even without debug-tweaks, allow passwordless root logins. For
                production

                builds there is no console available so this setting does not change current

                functionality.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'image_balena: Remove "balena" hostname from development images'
              hash: 7b57e9caf4fa82bd05091becfe1b750bca033342
              body: >
                There is no reason not to have development images use the uuid
                as

                hostname in the same way production images do.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "systemd: Runtime enablement of serial console"
              hash: d80092c6ecf67720175b72ccbcbf7da6c907d48f
              body: >
                Adapt the systemd getty services to enable for images configured
                for

                development.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "development-features: Add service for development features runtime
                management"
              hash: 5227ba18d0fe81fabae2b33b3f0cd9f690f85973
              body: >
                This service will adjust the filesystem with development
                features based on

                the `developmentMode` setting on `config.json`.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.85.0
          date: 2021-09-15T09:05:37.493Z
        - commits:
            - subject: "hostapp-update-hooks: Fix blacklisted extlinux.conf file path"
              hash: 096024808224aea2100e2a2a1f95ef75e23493ef
              body: >
                The extlinux.conf file path in meta-balena is currently

                incorrect, let's update it's boot partition path so that

                BalenaHUP won't need to transfer the isolcpus setting to

                the new OS anymore. This is necessary only when updating from older

                OS versions in which the supervisor adds the isolcpus

                setting to the boot partition extlinux.conf file.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.84.7
          date: 2021-09-13T12:01:41.123Z
        - commits:
            - subject: "balena-persistent-logs: add comment and update logging"
              hash: c05ff73df2341ceb182f7bc1acf00d4719a13afd
              body: |
                Add a comment and update the logging.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "balena-persistent-logs: add comment and update logging"
                changelog-entry: "balena-persistent-logs: add comment and update logging"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "meta-balena: rename resin-persistent-logs"
              hash: 2fa5bead70a700eff06ea8d140974ea3925a0c7d
              body: |
                Rename 'resin-persistent-logs' to 'balena-persistent-logs' and
                update all references.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "meta-balena: rename resin-persistent-logs"
                changelog-entry: "meta-balena: rename resin-persistent-logs"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.84.6
          date: 2021-09-11T12:14:21.164Z
        - commits:
            - subject: "tests: led: require led property from device type"
              hash: 0439de2a706cabf2b6b82736fa2959313c653c56
              body: >
                Only run LED test when device type contract specifies support
                for it
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.84.5
          date: 2021-09-10T13:29:21.135Z
        - commits:
            - subject: "tests: Remove reboots from redsocks test cases"
              hash: 53f58ca927075730d9bb9ebe0a98e525f3d8d793
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.84.4
          date: 2021-09-09T20:26:17.261Z
        - commits:
            - subject: "tests: Prevent failure when journalctl has no logs for some boots"
              hash: cab2b5aa7b97afad9006ed3c3701e49a9d76d366
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.84.3
          date: 2021-09-09T11:41:46.786Z
        - commits:
            - subject: "contributing-device-support.md: Updates to board support instructions"
              hash: 56d47e97ab2becea9d7ecd96de397d937f539954
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.84.2
          date: 2021-09-08T13:26:00.933Z
        - commits:
            - subject: "tests: s/BALENA_MACHINE_NAME/BALENA_ARCH"
              hash: 16015b5ba1570777478a585aaea37ed354dacc82
              body: >
                Replace Dockerfile image %%BALENA_MACHINE_NAME%% var with

                %%BALENA_ARCH%% for better compatibility


                Device types lacking matching tags in the balenalib Docker Hub account

                will fail tests when a matching image is not found. Switch to

                BALENA_ARCH instead, to maintain compatibility.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.84.1
          date: 2021-09-05T16:47:16.988Z
        - commits:
            - subject: "balena-engine: Enable storage migration"
              hash: 7d69faa7889e6725a4397511a6178ed2c745acbd
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: Update balena-engine to v19.03.26
              hash: a7538159d2015a61dc3effc5e3fe390056d0265b
              body: |
                Update balena-engine from 19.03.24 to 19.03.26
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-engine to v19.03.26
                changelog-entry: Update balena-engine to v19.03.26
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested:
                - commits:
                    - subject: "storagemigration: capture failcleanup logs in logfile"
                      hash: 4f7f543eff08766bc584024afdb57760dfb52130
                      body: >
                        reorder the defer statements in the migrate function to
                        only teardown

                        the logger after the failcleanup function ran. otherwise errors logged

                        there won't show up in the logfile
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Gnzler <robertg@balena.io>
                        signed-off-by: Robert Gnzler <robertg@balena.io>
                      author: Robert Gnzler
                      nested: []
                  version: balena-engine-19.03.26
                  date: 2021-08-31T11:26:15.276Z
                - commits:
                    - subject: "storagemigration: move logic to package"
                      hash: 001835bf61172fdcfdb0416e000852ff05683c71
                      body: >
                        This brings all migration logic into a single call into
                        the

                        storagemigration package, which should make future maintenance easier

                        and fixes the cleanup logic bug, where the old aufs root would never be

                        cleaned up.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Gnzler <robertg@balena.io>
                        signed-off-by: Robert Gnzler <robertg@balena.io>
                      author: Robert Gnzler
                      nested: []
                  version: balena-engine-19.03.25
                  date: 2021-08-20T15:55:35.623Z
          version: meta-balena-2.84.0
          date: 2021-09-03T11:43:21.582Z
        - commits:
            - subject: "tests: remove healthcheck test race condition"
              hash: 4f728271e767e8998f73870c2de23c03a5d12823
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.83.22
          date: 2021-09-02T15:34:27.322Z
        - commits:
            - subject: "tests: Register teardown only when DUT is reachable"
              hash: 2f01b040236f6565195550cdfde91464687f5cf2
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.83.21
          date: 2021-09-01T22:56:06.844Z
        - commits:
            - subject: "tests: Use new Archiver implementation & helpers"
              hash: 883ec60492a16b443cb6ce04c12cda8bbf4d028d
              body: |
                The changes are as follows:
                1. Delete custom logic in tests for archiving logs
                2. Make use of the new archiveLogs helper
                3. Make use of the new implementation of the Archiver module
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: meta-balena-2.83.20
          date: 2021-09-01T19:37:21.036Z
        - commits:
            - subject: "tests: List boots when collecting journal logs in hup suite"
              hash: 8e7b6a157b033db57ff2df75a63b5e054957803f
              body: |
                Some OS versions before HUP do not support the '-b all' flag
                to journalctl. This commit reverts to the original behaviour
                that lists the boots and requests the logs for each boot.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.83.19
          date: 2021-09-01T13:25:10.726Z
        - commits:
            - subject: "balena-supervisor: Update balena-supervisor to v12.10.3"
              hash: 782c9e24b91b5beb1c30c7643015c6fe7f53d2d2
              body: |
                Update balena-supervisor from 12.9.3 to 12.10.3
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested:
                - commits:
                    - subject: Skip restarting services if they are part of conf targets
                      hash: 669866b4c296529bd5392a0c48cd389a6d1f5770
                      body: >
                        Some recent changes to the OS allowed some services to
                        restart

                        automatically when the associated config files are changed.


                        In these cases we want to avoid restarting the same services

                        manually from the supervisor.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Kyle Harding <kyle@balena.io>
                        signed-off-by: Kyle Harding <kyle@balena.io>
                      author: Kyle Harding
                      nested: []
                  version: balena-supervisor-12.10.3
                  date: 2021-08-24T18:07:03.099Z
                - commits:
                    - subject: Removed fire emoji prefix for firewall logs.
                      hash: 30c728fae23ee66f3c1612736bb0c300f0b0762d
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: peakyDicers
                      nested: []
                  version: balena-supervisor-12.10.2
                  date: 2021-08-02T21:27:42.412Z
                - commits:
                    - subject: Fix regression with local mode push
                      hash: 6f5f3bc2f3aea1bf5e5772533be80c3bfbb4e3a9
                      body: >
                        PR #1749 introduced a bug when pushing local target
                        state. An update to

                        the [image name normalization](https://github.com/balena-os/balena-supervisor/blob/f1bd4b8d9bcef29e326cbf97eaddd837c2704d19/src/lib/docker-utils.ts#L81)

                        failed to consider the local image name format. This results in mangling

                        of image names in the database, i.e. the image `ubuntu:latest` is stored

                        as `/ubuntu:latest`. This causes an exception to be returned by the

                        dockerode `getImage('/ubuntu:latest').inspect()` call.


                        This sends the supervisor into a crash loop and is shown on the supervisor

                        journal logs as


                        ```

                        getaddrinfo ENOTFOUND images
                            at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:64:26)
                        ```


                        Unfortunately if this happens on a user device, since the mangled image

                        name is already on the database, the easiest way to fix is to remove the

                        supervisor database and let the supervisor recreate it. Deleting the

                        database should be side effect free.
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.10.1
                  date: 2021-08-02T15:55:28.001Z
                - commits:
                    - subject: Remove comparison based on image, release, and service ids
                      hash: b67f94802dd8c2e890121f6ca82eda8dff2c051c
                      body: >
                        Preparing for the new v3 target state, where the
                        supervisor will make environment

                        dependent ids optional and rely on using general UUIDs and user known identifiers

                        for comparison. This PR moves forward in that direction by removing some of those

                        comparisons for v2 target state.


                        - imageId to be replaced with imageName

                        - serviceId to be replace by serviceName

                        - releaseId to be replaced by commit (future release_uuid)


                        This is a backwards compatible change, meaning it doesn't completely get rid of

                        these identifiers (which are still being used by supervisor API and for state

                        patch), but will not depend on those identifiers for calculating steps to target state.
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.10.0
                  date: 2021-07-28T14:00:22.581Z
                - commits:
                    - subject: Use tags to track supervised images in docker
                      hash: f1bd4b8d9bcef29e326cbf97eaddd837c2704d19
                      body: >
                        The image manager module now uses tags instead of docker
                        IDs as the main

                        way to identify docker images on the engine. That is, if the target

                        state image has a name `imageName:tag@digest`, the supervisor will always use

                        the given `imageName` and `tag` (which may be empty) to tag the image on

                        the engine after fetching. This PR also adds checkups to ensure

                        consistency is maintained between the database and the engine.


                        Using tags allows to simplify query and removal operations, since now

                        removing the image now means removing tags matching the image name.


                        Before this change the supervisor relied only on information in the

                        supervisor database, and used that to remove images by docker ID. However, the docker

                        id is not a reliable identifier, since images retain the same id between

                        releases or between services in the same release.


                        List of squashed commits

                        - Remove custom type NormalizedImageInfo

                        - Remove dependency on docker-toolbelt

                        - Use tags to traack supervised images in docker

                        - Ensure tag removal occurs in sequence

                        - Only save database image after download confirmed
                      footer:
                        Relates-to: "#1616 #1579"
                        relates-to: "#1616 #1579"
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.9.6
                  date: 2021-07-26T13:58:29.275Z
                - commits:
                    - subject: Log the delta URL that will be downloaded on update
                      hash: c05c5803f08ddd31eeddb2000cc5f162fb916003
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Closes: "#1755"
                        closes: "#1755"
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.9.5
                  date: 2021-07-22T15:08:58.505Z
                - commits:
                    - subject: Fix db-helper module for tests
                      hash: 357d1baf6188d89b8552fd9068dbea9ac50aa008
                      body: >
                        The previous module was using `rewire` to get the knex
                        instance from the

                        db module but that was leading to issues when running tests using `test:fast`.

                        This provides a fix for the test module that just removes the destroy

                        call entirely (it turns out it is not necessary).
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.9.4
                  date: 2021-07-08T18:48:09.003Z
          version: meta-balena-2.83.18
          date: 2021-08-31T20:45:45.918Z
        - commits:
            - subject: Assign a fixed name to the balena-healthcheck container
              hash: c80932d323ae99a3b3a3a9120a29b5c67196fc44
              body: |
                This avoids confusion when new containers with random names
                appear in the runtime history of the engine.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.83.17
          date: 2021-08-31T16:04:47.503Z
        - commits:
            - subject: "kernel-modules-headers: Copy module.lds"
              hash: 9fca34e0f4faffc0fa049e9341e7392f365bea31
              body: >
                Since kernel v5.10 this file is generated when using
                modules_prepare. As

                the kernel-modules-headers contains pre-built target binaries, we also

                need to include this file in the package.


                This is not a problem when using kernel-source as a modules_prepare is

                always required.
              footer:
                Fixes: "#2289"
                fixes: "#2289"
                Relates-to: "#1822"
                relates-to: "#1822"
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.83.16
          date: 2021-08-31T11:22:51.142Z
        - commits:
            - subject: "kernel-balena: remove global blacklist of btrfs"
              hash: b9d6df84a1acd45df80da8a90ea4ca4dc2940bcf
              body: >
                The kernel-balena class contains a global blacklist of btrfs
                that

                disables this filesystem for all device types, regardless of them

                explicitly enabling it.


                Remove this config to allow devices to enable this filesystem.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.83.15
          date: 2021-08-30T15:47:20.658Z
        - commits:
            - subject: "tests: remove reboot requirement from NTP server test"
              hash: 47deb00854eefc2c8ca4103d934713d26077a7c8
              body: |
                We no longer require a reboot when changing the NTP server
                configuration in config.json. Changes to 'config-json' will
                automatically trigger the 'balena-ntp-config' service which will
                update the NTP sources.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "tests: remove reboot requirement from NTP server test"
                changelog-entry: "tests: remove reboot requirement from NTP server test"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "recipes-connectivity: fix auto-update when config.json changes"
              hash: 85df30628278eeb0d55e731319391d3cf98df9a8
              body: >
                Since adding the 'config-json' systemd target the
                'balena-ntp-config'

                and 'prepare-openvpn' services have stopped running automatically

                when config.json is updated. This is fixed by adding

                'RemainAfterExit=yes' to both service files.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "recipes-connectivity: fix auto-update when config.json
                  changes"
                changelog-entry: "recipes-connectivity: fix auto-update when config.json
                  changes"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.83.14
          date: 2021-08-26T17:54:07.640Z
        - commits:
            - subject: "networkmanager: fix hostname race condition"
              hash: 3f2486bc91994d360086694df9f01bb4b6777284
              body: >
                Fix a race condition that can occur when setting the hostname at

                boot by disabling NetworkManager's ability to modify the hostname.

                The static and transient system hostnames are now managed exclusively

                by the 'balena-hostname' service.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: "#2244"
                connects-to: "#2244"
                Changelog-entry: "networkmanager: fix hostname race condition"
                changelog-entry: "networkmanager: fix hostname race condition"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.83.13
          date: 2021-08-26T12:17:00.556Z
        - commits:
            - subject: "tests: remove reboot requirement from hostname test"
              hash: 34687ca76515d57a77ba12c0fd44632518181392
              body: >
                We no longer require reboots when changing hostname in
                config.json.

                The contents of '/etc/hostname' and the avahi mDNS broadcast hostname

                are updated automatically without requiring a reboot.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "tests: remove reboot requirement from hostname test"
                changelog-entry: "tests: remove reboot requirement from hostname test"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "hostname: update system hostname when config.json changes"
              hash: f7b3d37502f03ca65d3352a8a8cc3b8a5d612ff4
              body: >
                Automatically update the system hostname when config.json
                changes.


                Changes to 'config.json' will trigger the 'balena-hostname' service

                to update the static and transient hostnames and the 'avahi'

                service to ensure that any hostname changes are broadcast via mDNS.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "hostname: update system hostname when config.json changes"
                changelog-entry: "hostname: update system hostname when config.json changes"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.83.12
          date: 2021-08-25T23:51:01.153Z
        - commits:
            - subject: "linux-firmware: Use wildcards when selecting files to package"
              hash: 16598bcffda7206d9a2ab9d96860cecf7de62756
              body: >
                Firmware files can be compressed with an xz extension or not, so
                use

                wildcards to cover both cases.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "linux-firmware: Add firmware compression support"
              hash: 2ee6d2e652772d28c25df94aa400e7ccd9f207de
              body: >
                This commit adds a FIRMWARE_COMPRESSION distro configuration
                that

                performs the compression of linux-firmware files. Only kernel versions

                above 5.3 support loading compressed firmware.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "kernel-balena: Support firmware compression from kernel version 5.3"
              hash: c8faa130b88f11af86619d69a115be96dfbc894a
              body: >
                Kernel version 5.3 supports loading compressed firmware files
                saving

                storage space.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.83.11
          date: 2021-08-24T14:52:41.041Z
        - commits:
            - subject: "kernel-balena: Add function to conditionally configure based on
                version"
              hash: 9787d2879d2f372c19f336c7e08bd0e6fee16ae7
              body: >
                Some kernel configuration are only applicable from specific
                kernel

                versions. This commit adds a function that allows to add a specific

                configuration set only from a given kernel version.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "kernel-balena: Split function to get kernel version from source"
              hash: c349f647db328558f026f1b914bc0246dc33bda5
              body: >
                This allows to re-use this functionality. Note that the
                `KERNEL_VERSION`

                variable is only available after the kernel has been built as it relies

                on get_kernelversion_headers() poky function and utsrelease.h being

                generated. This function parses the Makefile so only needs the source.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "kernel-resin: Add as symlink to kernel-balena"
              hash: 129128574dbf38c46c0cc7121cdf6fd0f38ef64b
              body: |
                This avoids introducing a breaking change.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "kernel-balena: Replace and deprecate kernel-resin"
              hash: 8c0d2ce52d42e72a939d248784d67dc2413c0443
              body: >
                New device types should use kernel-balena instead of
                kernel-resin.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.83.10
          date: 2021-08-18T19:03:21.519Z
        - commits:
            - subject: "recipes-connectivity: improve NTP dispatcher script"
              hash: d060bfa3581f6920fa2e353abaf82d2913d60e67
              body: >
                Change the NetworkManager NTP dispatcher script to update the

                on/offline status of the NTP sources on 'connectivity-change' events

                instead of 'up/down' events.


                Currently 'chronyc onoffline' is run for 'up/down' events on any

                network interface. It makes more sense to run it for

                'connectivity-change' events as we are really interested in whether

                the internet is there or not rather than whether an interface is

                up or down.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "recipes-connectivity: improve NTP dispatcher script"
                changelog-entry: "recipes-connectivity: improve NTP dispatcher script"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.83.9
          date: 2021-08-17T10:37:50.423Z
        - commits:
            - subject: Update balena-engine to v19.03.24
              hash: 1d3d0d0c8ef60710eaa67d68b5f606eb22e6fd28
              body: |
                Update balena-engine from 19.03.23 to 19.03.24
              footer:
                Changelog-entry: Update balena-engine to v19.03.24
                changelog-entry: Update balena-engine to v19.03.24
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested:
                - commits:
                    - subject: prevent slice oob access in concatReadSeekCloser
                      hash: 1e7045ac957db17fe9838602c9339c0b5ae5c282
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Martin Rauscher
                      nested: []
                  version: balena-engine-19.03.24
                  date: 2021-08-12T08:30:08.031Z
          version: meta-balena-2.83.8
          date: 2021-08-17T07:29:06.381Z
        - commits:
            - subject: "grub: don't package or install bindir utils"
              hash: f1835282ecd3b0f9dfc52410d8f1628653e2c1b2
              body: >
                Remove ${bindir} from FILES_grub-common, ensuring grub utilities
                aren't

                installed to /usr/bin, in addition to a previous similar commit that

                removed sbin utils. This frees approximately 5.5M.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.83.7
          date: 2021-08-14T14:48:17.382Z
        - commits:
            - subject: "balena-os-sysctl: disable user namespacing by default"
              hash: 31c3ae8ad5c7ad45e450349b6972524da120e96c
              body: >
                Most major distributions now ship kernels with user namespacing
                enabled

                in the kernel config. Some distributions, such as Arch and Ubuntu,

                default to the upstream behavior of allowing unprivileged user

                namespacing, regardless of potential attack surfaces exposed in the

                kernel.


                Other distributions, such as Debian, are slightly more conservative,

                disabling the feature at runtime behind a sysctl tunable. Debian

                maintains its own patch to add the kernel.unprivileged_userns_clone

                tunable.


                The Debian patch was rejected by upstream over fears of application

                developers not using this feature due to it being generally unavailable

                in systems, as well as fears of bugs going undiscovered.


                RHEL uses a newer tunable introduced upstream to set the max number of

                user namespaces to zero, which accomplishes the same thing, but without

                an out of tree patch.


                Disable user namespacing at runtime using the same method as RHEL, in

                the same manner as the hardened kernels and distributions have chosen.


                https://lwn.net/Articles/673597/

                https://lists.debian.org/debian-kernel/2020/03/msg00237.html
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "common: kernel-resin: enable user namespacing"
              hash: 04d9561760b449024a5b411bd366ded2351cd5cd
              body: >
                Enable CONFIG_USER_NS, a kernel feature used for user
                namespacing, and

                required for docker-in-docker.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.83.6
          date: 2021-08-13T16:30:49.145Z
        - commits:
            - subject: "resin-u-boot.bbclass: Make console silencing change more resilient"
              hash: 6f173d763828d63f70582219aa19333b1e599a57
              body: >
                There is at least a case in a board where the puts function in
                u-boot's

                common/console.c is #ifdef'ed and defined twice. Let's accomodate for

                such cases by correctly looping through more than one function

                definition if present.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.83.5
          date: 2021-08-13T08:16:50.739Z
        - commits:
            - subject: "balena-os: pin linux-firmware to 20210511 from hardknott"
              hash: e7a72c3e82587ffd2388656de71340afdddc9156
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "linux-firmware: upgrade 20190815 -> 20210511"
              hash: 497fa316fec3ef99a14872208abb85f7e932922d
              body: |
                Add recipe from poky hardknott, revision 74dbb08
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.83.4
          date: 2021-08-11T16:09:10.911Z
        - commits:
            - subject: "supervisor: Consolidate supervisor container removal"
              hash: f533be0ee1d6f42801f29426929e5f8b18035b9b
              body: |
                Avoid removing supervisor containers in 3 different places
                and consolidate the steps into start-balena-supervisor.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.83.3
          date: 2021-08-05T18:58:49.620Z
        - commits:
            - subject: "tests: Fix insecure registry error"
              hash: 647d683dbfd0461706e75291c5396752fdc1b2ce
              body: >
                introduced when images including
                8227a61f6bef6d93cc6a5acd0ef93a2012079964

                made it to production.

                We can now use a runtime drop-in unit placed under /run/systemd/ to

                configure the balena-host service, which doesn't require us to remount

                the rootfs.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: meta-balena-2.83.2
          date: 2021-08-05T13:55:32.372Z
        - commits:
            - subject: "linux-firmware: package i915 generations separately"
              hash: e741dcf6f520765c3345c1e64cfc3f31f5b6a604
              body: >
                Package Intel graphics firmware generations separately, allowing
                GPU

                firmware to be installed for specific SoCs.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.83.1
          date: 2021-07-31T15:24:38.031Z
        - commits:
            - subject: Add support for rootfs on MD RAID1
              hash: bc1cb47f177b0d04a17c26b00b4ca99cf4638c33
              body: |
                This commit does two things:
                - Build in necessary kernel modules
                - Add the mdadm userspace utility to rootfs and initrd
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.83.0
          date: 2021-07-29T14:10:41.247Z
        - commits:
            - subject: "tests: Symlink /dev/null instead of copying bash to break services"
              hash: eea7514c705b43482dd3656d0c34bb2414c267ee
              body: >
                Triggered by a failue in the VPN test - the bash binary is
                bigger than

                the openvpn binary and on devices with limitted rootfs space the copying

                is not possible. Symlinking /dev/null will break the services as well.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.82.13
          date: 2021-07-29T07:32:26.577Z
        - commits:
            - subject: "common: grub: don't install sbin utils"
              hash: e3bf23c7977c6c0dce9eb0a49172526a7e447522
              body: >
                These utilities aren't used on device. Don't install them to
                save space.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.82.12
          date: 2021-07-24T01:06:12.763Z
  version: 2.85.0+rev1
  date: 2021-09-15T09:33:50.385Z
- commits:
    - subject: "linux-tegra: Update Nano SD basler camera dtb"
      hash: 56f2e9d04eb72176f5e3078ccef323a17501d28a
      body: |
        The current existing community basler.dtb file is actually
        a compiled overlay and not a compiled device tree. Let's
        apply the overlay dts from JF item
        63f90f88-9bfa-44a4-8590-f78ba49bef6e on top of the sd-card
        dtb and generate an the actual dtb.
      footer:
        Changelog-entry: "linux-tegra: Update Nano SD basler camera dtb"
        changelog-entry: "linux-tegra: Update Nano SD basler camera dtb"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.82.11+rev13
  date: 2021-09-06T08:57:57.777Z
- commits:
    - subject: Added CTI Photon TX2 NX device type
      hash: 79da766924ffd4d6afe83c61d65421305f7b23d9
      body: |
        Added CTI Photon TX2 NX device type
      footer:
        Changelog-entry: Added CTI Photon TX2 NX device type
        changelog-entry: Added CTI Photon TX2 NX device type
        Signed-off-by: ClintHaerinck <clint.haerinck@gmail.com>
        signed-off-by: ClintHaerinck <clint.haerinck@gmail.com>
      author: ClintHaerinck
      nested: []
  version: 2.82.11+rev12
  date: 2021-08-24T13:57:44.765Z
- commits:
    - subject: "jetson-dtbs: fix empty line typo"
      hash: 0050beae45f1f77f52254f5f6cdb8ad343a25c85
      body: ""
      footer:
        Changelog-entry: "jetson-dtbs: fix empty line typo"
        changelog-entry: "jetson-dtbs: fix empty line typo"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.82.11+rev11
  date: 2021-08-13T11:35:27.490Z
- commits:
    - subject: add mipi basler-camera dtb for jetson nano P3450 to jetson-dtbs
      hash: 9d72e7a5a2cdef9ad499ac647302c8b4d58f6904
      body: |
        Adding dtb for basler camera
      footer:
        Changelog-entry: add mipi basler-camera dtb for jetson nano P3450 to jetson-dtbs
        changelog-entry: add mipi basler-camera dtb for jetson nano P3450 to jetson-dtbs
        Signed-off-by: Abed <abed@satis.ai>
        signed-off-by: Abed <abed@satis.ai>
      author: Abed Rayyan
      nested: []
  version: 2.82.11+rev10
  date: 2021-08-13T09:22:07.182Z
- commits:
    - subject: "linux-tegra: Update Xavier ReSpeaker to 32.5.1"
      hash: 55971faaddf772ebddadbe05d0d688fdf3b5846f
      body: |
        Updated the DTB files for custom board
        jetson-xavier-nx-devkit-seeed-2mic-hat
        based on L4T 32.5.1.
      footer:
        Changelog-entry: "linux-tegra: Update Xavier ReSpeaker to 32.5.1"
        changelog-entry: "linux-tegra: Update Xavier ReSpeaker to 32.5.1"
        Signed-off-by: Kunal Singh <kunal.singh@aivero.com>
        signed-off-by: Kunal Singh <kunal.singh@aivero.com>
      author: Kunal Singh
      nested: []
  version: 2.82.11+rev9
  date: 2021-08-13T08:10:08.091Z
- commits:
    - subject: Update balena-yocto-scripts from v1.14.7 to v1.14.8
      hash: e341289f834f55db8af587aaf895b53553cf6760
      body: |
        Update balena-yocto-scripts from 1.14.7 to 1.14.8
      footer:
        Changelog-entry: Update balena-yocto-scripts from v1.14.7 to v1.14.8
        changelog-entry: Update balena-yocto-scripts from v1.14.7 to v1.14.8
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: Use slug when setting deviceType for leviathan
              hash: bc628771aa0014e86e649e3312b48e1c7ae4968c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: balena-yocto-scripts-1.14.8
          date: 2021-07-22T14:51:50.560Z
  version: 2.82.11+rev8
  date: 2021-08-09T13:43:24.974Z
- commits:
    - subject: Updated dtb jn30b-cam1-flip to JP4.5.1
      hash: 96fd6c951bbd61285ca6f3effa5946ecfcf8b37d
      body: |
        Fixed JP version mismatch and applied pixel format change to all camera
        modes of cam1 (this is the second camera, cam0 is the first).
      footer:
        Changelog-entry: Updated dtb jn30b-cam1-flip to JP4.5.1
        changelog-entry: Updated dtb jn30b-cam1-flip to JP4.5.1
        Signed-off-by: Clint Haerinck <clint.haerinck@citymesh.com>
        signed-off-by: Clint Haerinck <clint.haerinck@citymesh.com>
      author: Clint Haerinck
      nested: []
  version: 2.82.11+rev7
  date: 2021-08-09T13:13:56.722Z
- commits:
    - subject: "jetson-tx2-nx-devkit: Set correct bootpart index"
      hash: 46aa36f6f8b31b0234c0d7bedf5b35ab939dc379
      body: |
        Unlike the TX2, the TX2 NX does not have a flasher image,
        which means the boot partition is not the first one in the
        table. Set the index to 24 so that the image-maker knows
        where to place the configuration files.
      footer:
        Changelog-entry: "jetson-tx2-nx-devkit: Set correct bootpart index"
        changelog-entry: "jetson-tx2-nx-devkit: Set correct bootpart index"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.82.11+rev6
  date: 2021-08-09T08:58:17.614Z
- commits:
    - subject: Added device tree for JN30B with cam1 pixel format flipped
      hash: b427267d371ddec77c785dc127ca632202cf568d
      body: |
        Device tree added for Auvidea JN30B board with
        the pixel format of cam 1 flipped. The pixel bayer
        pattern is changed from RGGB to BGGR.
      footer:
        Changelog-entry: Added device tree for JN30B with cam1 pixel format flipped
        changelog-entry: Added device tree for JN30B with cam1 pixel format flipped
        Signed-off-by: Clint Haerinck <clint.haerinck@citymesh.com>
        signed-off-by: Clint Haerinck <clint.haerinck@citymesh.com>
      author: Clint Haerinck
      nested: []
  version: 2.82.11+rev5
  date: 2021-08-05T17:26:30.336Z
- commits:
    - subject: "jetson-tx2-nx-devkit: Add icon for this device type"
      hash: a8149b7b2132f0ef220326b8cf227c4f40e47164
      body: ""
      footer:
        Changelog-entry: "jetson-tx2-nx-devkit: Add icon for this device type"
        changelog-entry: "jetson-tx2-nx-devkit: Add icon for this device type"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.82.11+rev4
  date: 2021-08-05T13:16:17.464Z
- commits:
    - subject: Add balena-yocto-scripts upstream source
      hash: 1f1e3ede00c6dc4bb93b1bae793e2829b9f798d1
      body: |
        This allows to add nested changelogs from the balena-yocto-scripts
        repository from versions greater than 1.14.1.
      footer:
        Changelog-entry: Add balena-yocto-scripts upstream source
        changelog-entry: Add balena-yocto-scripts upstream source
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "linux-tegra: Update CTI dtbs to 32.5.1"
      hash: 9a7f31d3d760c774eea6debba02bcf3d39f2251f
      body: |
        This applies to the AXG Rogue, Astro G+,
        Spacely and Oribitty carrier boards.

        The photon boards were already updated
        in the previous commit.
      footer:
        Changelog-entry: "linux-tegra: Update CTI dtbs to 32.5.1"
        changelog-entry: "linux-tegra: Update CTI dtbs to 32.5.1"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.82.11+rev3
  date: 2021-08-05T09:04:49.462Z
- commits:
    - subject: "linux-tegra: Update dtb file for jn30b-nano to 32.5.1"
      hash: 8deca2a28658e8e12f56b71549734ac1cdae7d30
      body: ""
      footer:
        Changelog-entry: "linux-tegra: Update dtb file for jn30b-nano to 32.5.1"
        changelog-entry: "linux-tegra: Update dtb file for jn30b-nano to 32.5.1"
        Signed-off-by: Pelle van Gils <pelle@hwky.ai>
        signed-off-by: Pelle van Gils <pelle@hwky.ai>
      author: Pelle van Gils
      nested: []
    - subject: "linux-tegra: Update dtb files for photon-* to 32.5.1"
      hash: 7eb8421c321caccb14f75fdb160051a0e54e9bf5
      body: ""
      footer:
        Changelog-entry: "linux-tegra: Update dtb files for photon-* to 32.5.1"
        changelog-entry: "linux-tegra: Update dtb files for photon-* to 32.5.1"
        Signed-off-by: Pelle van Gils <pelle@hwky.ai>
        signed-off-by: Pelle van Gils <pelle@hwky.ai>
      author: Pelle van Gils
      nested: []
  version: 2.82.11+rev2
  date: 2021-08-03T13:03:14.476Z
- commits:
    - subject: Update meta-balena from v2.82.10 to v2.82.11
      hash: e9d4f8a2ca8607ce2ffa82f5cc52e57ae5e785eb
      body: |
        Update meta-balena from 2.82.10 to 2.82.11
      footer:
        Changelog-entry: Update meta-balena from v2.82.10 to v2.82.11
        changelog-entry: Update meta-balena from v2.82.10 to v2.82.11
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "tests: Remove journalctl line limit from hup suite"
              hash: 5ce248f0d1b37c6500cdd93c639a89027f1fc7f4
              body: |
                Having the lines limited to 500 meant we were missing
                a lot of logs.

                We also don't need to list boots and can use the 'all'
                arguement to see all logs.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "tests: Enable rollback tests in hup suite"
              hash: 9d1e892324718f2533cae1cf5e09018526d13b20
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "tests: Update smoke test conditions"
              hash: 64df0c010841b0f00d8025b79ae0f23a6fccdf29
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "tests: Add rollback tests to HUP suite"
              hash: 87e89fcf7b07180f3221602afc7a5b4dd8cd9e48
              body: >
                Adding rollback-health check & rollback-altboot check to the HUP
                suite
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "rollback-altboot: Fix minor typo in log message"
              hash: 1b3405ebf116420de032ccbdac39638a420c4a88
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.82.11
          date: 2021-07-21T20:25:31.196Z
    - subject: "linux-firmware: Revert update to latest upstream head revision"
      hash: 4f57690150eec0138b58de4cd45313ff6afc229d
      body: |
        We only needed this for one release, until the firmware update
        in meta-balena is merged.
      footer:
        Changelog-entry: "linux-firmware: Revert update to latest upstream head revision"
        changelog-entry: "linux-firmware: Revert update to latest upstream head revision"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.82.11+rev1
  date: 2021-07-24T15:50:04.770Z
- commits:
    - subject: Update meta-balena from v2.82.8 to v2.82.10
      hash: 70702624b4046c4e3dfe1cdedcddbc8d9dabb01d
      body: |
        Update meta-balena from 2.82.8 to 2.82.10
      footer:
        Changelog-entry: Update meta-balena from v2.82.8 to v2.82.10
        changelog-entry: Update meta-balena from v2.82.8 to v2.82.10
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "tests: Remove reboot requirement from dnsmasq tests"
              hash: 1ea1985f7ebc56908d018c98211fd52f6fd6701c
              body: >
                We no longer require reboots when changing dnsServers in
                config.json

                and the service should restart on it's own.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.82.10
          date: 2021-07-20T20:09:41.348Z
        - commits:
            - subject: "patch: Make OS test suite compatible with current helpers"
              hash: 5a7dd196686836bd35a95f3f2c5dadf138b2590f
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: meta-balena-2.82.9
          date: 2021-07-16T22:29:01.729Z
  version: 2.82.10+rev1
  date: 2021-07-24T15:14:28.646Z
- commits:
    - subject: "linux-firmware: Revert update to latest upstream head revision"
      hash: 01886ab1495346a0caaea3bce2192a3adceafd13
      body: |
        We only needed this for one release, until the firmware update
        in meta-balena is merged.
      footer:
        Changelog-entry: "linux-firmware: Revert update to latest upstream head revision"
        changelog-entry: "linux-firmware: Revert update to latest upstream head revision"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.82.8+rev2
  date: 2021-07-22T16:17:08.161Z
- commits:
    - subject: Update meta-balena from v2.81.1 to v2.82.8
      hash: 823ef8b4c13c43760e6997c7b4a75bcee3fa3180
      body: |
        Update meta-balena from 2.81.1 to 2.82.8
      footer:
        Changelog-entry: Update meta-balena from v2.81.1 to v2.82.8
        changelog-entry: Update meta-balena from v2.81.1 to v2.82.8
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "kernel-devsrc: Add upstream recipe from hardknott-3.3.1 for dunfell"
              hash: f1d45613abfb3f0178868a2d09c22368e2f705fb
              body: >
                In recent kernels (i.e. 5.10.31 for Raspberry Pi) the

                arch/arm/kernel/module.lds file got moved. See

                https://github.com/torvalds/linux/commit/

                596b0474d3d9b1242eab713f84d8873f9887d980 for details.


                Hence we use in meta-balena-dunfell the upstream kernel-devsrc from the

                hardknott-3.3.1 Poky release which handles this module.lds move.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.82.8
          date: 2021-07-16T13:13:11.566Z
        - commits:
            - subject: Update balena-engine to v19.03.23
              hash: 5d882694102ce32706de08df3ab435bb0cec176c
              body: >
                Update balena-engine from 19.03.18 to 19.03.23


                Which brings more resilient layer download (allows proper resuming after

                network failures).
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Changelog-entry: Update balena-engine to v19.03.23
                changelog-entry: Update balena-engine to v19.03.23
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested:
                - commits:
                    - subject: Make layer download resuming more resilient
                      hash: 582487f832c59c2f734a780ab0492833f29002c9
                      body: >
                        This commit changes the way we retry layer downloads
                        after failures with

                        the goal of making it more resilient, especially for cases involving

                        large layers and unreliable network connections.


                        These are the changes:


                        * Make sure we also retry after failures in `v2LayerDescriptor.reset()`.
                          This method creates a new HTTP request to resume a failed download,
                          and therefore depends on a working network to succeed.
                        * Wait exponentially longer times between retries (instead of retrying
                          immediately as before). This shall increase of success in case of
                          network issues that take longer to get resolved.
                        * Increase the number of retries to 10.

                        * Reset retry count whenever we successfully download anything at all.
                          The idea is that we want to give up downloading only after a long
                          continuous period of failures. Combined with the exponential back-off
                          strategy and increased number of retries described above, a layer pull
                          will fail only after about 17 minutes.
                        * Add a bit more logging to help with troubleshooting.
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                      author: Leandro Motta Barros
                      nested: []
                  version: balena-engine-19.03.23
                  date: 2021-07-12T13:21:18.693Z
                - commits:
                    - subject: Drop CODEOWNERS
                      hash: e70e1a9fe622563719993626e834c85efc17905c
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Gnzler <robertg@balena.io>
                        signed-off-by: Robert Gnzler <robertg@balena.io>
                      author: Robert Gnzler
                      nested: []
                  version: balena-engine-19.03.22
                  date: 2021-06-30T16:13:18.248Z
                - commits:
                    - subject: Lock destination layers while delta is being processed
                      hash: 0ad4281e11e4d3ef263010787aecd244c0ce333d
                      body: >
                        During fingerpinting of the source image the destination
                        layers are not

                        exepmt from being released (e.g. when `balena image rm <iid>`) is run

                        simultaneously.

                        Similarly when processing the destination layers to generate deltas we

                        only hold one reference at a time, leaving the subsequent layers

                        vulnerable to the same issues.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Gnzler <robertg@balena.io>
                        signed-off-by: Robert Gnzler <robertg@balena.io>
                      author: Robert Gnzler
                      nested: []
                  version: balena-engine-19.03.21
                  date: 2021-06-25T12:17:21.340Z
                - commits:
                    - subject: "pkg/storagemigration: poperly handle errors during state creation"
                      hash: b8170db554ac1d1abb3adcfe1f6265701e9147c5
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Gnzler <robertg@balena.io>
                        signed-off-by: Robert Gnzler <robertg@balena.io>
                      author: Robert Gnzler
                      nested: []
                  version: balena-engine-19.03.20
                  date: 2021-06-17T12:37:04.408Z
                - commits:
                    - subject: "pkg/storagemigration: allow writing logs to separate file"
                      hash: 77536d3866ac706f049a02d2eed44a7df1cb779c
                      body: >
                        This can be used to keep a record of failed migrations.

                        Only runs if BALENA_MIGRATE_OVERLAY_LOGFILE is set to a path on disk.

                        The log file will be deleted if there are no errors.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Gnzler <robertg@balena.io>
                        signed-off-by: Robert Gnzler <robertg@balena.io>
                      author: Robert Gnzler
                      nested: []
                    - subject: "storagemigration: defer commit to next start"
                      hash: bd1628e67136b78ca7e7c83c5569666207d28a84
                      body: >
                        With this change the aufs data is kept around until the
                        next time we

                        start. If we find both an aufs AND an overlay2 storage root, we cleanup

                        the aufs data.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Gnzler <robertg@balena.io>
                        signed-off-by: Robert Gnzler <robertg@balena.io>
                      author: Robert Gnzler
                      nested: []
                  version: balena-engine-19.03.19
                  date: 2021-06-10T15:42:25.482Z
          version: meta-balena-2.82.7
          date: 2021-07-15T19:58:41.996Z
        - commits:
            - subject: "dnsmasq: Restart when config.json changes"
              hash: 76964657321934e2953c02ee8fdba4d22a9fbcdc
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "balena-config-vars: Restart target when config.json changes"
              hash: 51005c7a3178bdc73dcff5f790a693aa70936d06
              body: >
                The config.json watcher service will restart the config.json
                target

                when the file changes. Any services that are PartOf config.json

                target will be restarted as well.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "balena-config-vars: Add config-json.target service"
              hash: cacb87d1b088ab1ab42b24b698e4c03d3803855e
              body: |
                This target service can be used to restart other services
                that have explicitly set themselves as PartOf this target.

                So a service that should be restarted when config.json changes
                can use PartOf=config-json.target to be triggered automatically.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "balena-config-vars: Restore null as valid for dnsServers"
              hash: 22602e4c2fafc0f309add8313c14464ba8cd8d4b
              body: |
                "null" is a valid setting in config.json that should write
                an empty string for dns servers rather than the default 8.8.8.8

                If "servers=null" is written to /run/dnsmasq.servers by
                balena-net-config then dnsmasq will report the following error:

                dnsmasq[4483]: bad address at line 2 of /run/dnsmasq.servers
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.82.6
          date: 2021-07-15T11:17:28.470Z
        - commits:
            - subject: "kernel-headers-test: Update base image to buster"
              hash: 57f6aee369e8ec4ab8b20ae82a03f8b8fd7aebe4
              body: >
                Since we don't have devices using older 3.x kernels we update to
                a newer

                base image so that we don't have problems compiling this test kernel

                module on newer kernels.

                This avoids a compile error on kernel 5.10.31 on arm64

                raspberrypicm4-ioboard for example where it would complain _mcount is

                undefined because the older gcc in the intel-nuc-debian:stretch-20190717

                base image would not create the _mcount symbol when compiling against

                the newer 5.10.31 kernel.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.82.5
          date: 2021-07-15T05:18:57.029Z
        - commits:
            - subject: "tests: Add hup test suite"
              hash: 7223cf082fb40e9c707730c19f640d64187516a7
              body: >
                Add smoke test


                Resolve `latest` to dev variant


                If we want the serial logs of the DUT the image that is flashed needs to

                be the development variant. The `latest` shortcut however always

                resolves to the production image. We manually resolve the version to fix

                this.


                Change image name for consistent docker image pulls
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Robert Gnzler
              nested: []
          version: meta-balena-2.82.4
          date: 2021-07-14T15:51:22.288Z
        - commits:
            - subject: Check that the hostapp image fits the inactive partion on HUP
              hash: a0803fcfff0e908f4ed358d0568c4872bbcecade
              body: >
                Currently it is possible to build a docker image that will then
                fail to

                hup due to a lack of space on the inactive partition.


                Add a task to check the docker image space against the available space on

                the root filesystem partition and fail the build if it's too big.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Check that the hostapp image fits the inactive partion on HUP
                changelog-entry: Check that the hostapp image fits the inactive partion on HUP
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "image-balena: Add check for docker image size"
              hash: 9a75a872dfcf0c3d71d4d5584241b65d07bd7103
              body: >
                Currently it is possible to build a docker image that will then
                fail to

                hup due to a lack of space on the inactive partition.


                Add a task to check the docker image space against the available space on

                the root filesystem partition and fail the build if it's too big.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-image: Break down the rootfs image size calculation"
              hash: 8a2b704bd5103ba6419328d0f9cc3d6b667ab5f5
              body: >
                Replace the IMAGE_ROOTFS_SIZE magic number with a calculation
                based on

                the partition sizes on the balena image classes.


                The rootfs size is calculated with the assumption of a total BalenaOS

                size of 700M. This includes boot, state, rootA and rootB partitions. The

                data partition will then grow to occupy the rest of the storage media.


                Device integration layers can override this value if needed.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "image_types_balena: Add rootfs size calculation function"
              hash: a4ede069d1ab7cbd2b6830574eb891f8c76a92a9
              body: >
                Instead of hardcoding the requested root filesystem value, let's
                explain

                how the calculation is made with a python function that will adjust based

                on the sizes of other partitions.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.82.3
          date: 2021-07-13T11:18:32.393Z
        - commits:
            - subject: Update balena-supervisor from v12.8.8 to v12.9.3
              hash: 7903a929e48af889b8df14754d84a8e6b0655752
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supervisor from v12.8.8 to v12.9.3
                changelog-entry: Update balena-supervisor from v12.8.8 to v12.9.3
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: meta-balena-2.82.2
          date: 2021-07-13T01:37:11.482Z
        - commits:
            - subject: "balena-hostname: add comments and improve logging"
              hash: a7a2bb057e22e2ac4fc4cafaf6ba3b533ca5f464
              body: |
                Add some comments and improve the logging.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "balena-hostname: add comments and improve logging"
                changelog-entry: "balena-hostname: add comments and improve logging"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "meta-balena: rename resin-hostname to balena-hostname"
              hash: 55baa1687ca3c576077b26a31591304911be2581
              body: |
                Rename 'resin-hostname' to 'balena-hostname' and update all
                references.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "meta-balena: rename resin-hostname to balena-hostname"
                changelog-entry: "meta-balena: rename resin-hostname to balena-hostname"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.82.1
          date: 2021-07-12T13:01:41.540Z
        - commits:
            - subject: "networkmanager: Rename references to resin"
              hash: c857ecc07325e643c39d30f68621c2807664e36e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "resin-proxy-config: Rename to balena-proxy-config"
              hash: 9e40219affeae1e5f7d888439654f9e40cef5fc0
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "resin-ntp-config: Rename to balena-ntp-config"
              hash: e534f24dbce8d883c867d52538ab721c423566a2
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "resin-net-config: Rename to balena-net-config"
              hash: a3726f421840e0facc21dde81b00a5e0d70e49ba
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.82.0
          date: 2021-07-10T11:13:11.567Z
  version: 2.82.8+rev1
  date: 2021-07-21T15:22:27.667Z
- commits:
    - subject: Update meta-balena from v2.80.5 to v2.81.1
      hash: 9ac82967523df84581cdcdae60e9d95eb0ed00b1
      body: |
        Update meta-balena from 2.80.5 to 2.81.1

        This will be the base for the ESR release.
      footer:
        Changelog-entry: Update meta-balena from v2.80.5 to v2.81.1
        changelog-entry: Update meta-balena from v2.80.5 to v2.81.1
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: "balena-engine: Restore previous systemd service settings"
              hash: 0b7dac9461193e6c1afbc046337aeb74ca20e84c
              body: |
                - remove exec-root path from balena engine
                - restore unique fixed-cidr for balena-host engine
                - remove duplicate fixed-cidr flags from both
                - remove experimental from balena-host
                - fix healthdog command substitution

                These were changed by mistake in the previous refactor.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.81.1
          date: 2021-07-09T23:25:52.084Z
        - commits:
            - subject: "recipes-core: add a 'network connectivity wait' service"
              hash: a6781d54c6edced457ad916cac3fec9c70d25a0a
              body: >
                Add a new systemd service to check for full network
                connectivity.

                This service is required because the default NetworkManager (NM)

                connectivity checker doesn't differentiate between the

                CONNECTED_LOCAL, CONNECTED_SITE and CONNECTED_GLOBAL states. This

                service checks for the CONNECTED_GLOBAL state only and can be used

                to delay the start of other services which require full network

                access to be available. This can help to avoid startup problems on

                networks with slow DNS access or that utilise a captive portal.


                The script does an initial oneshot check of the NM state to make sure

                that we don't wait for an event that doesn't come. This check is

                redundant at boot time due to the fact that the service is started

                before NM to ensure that no NM DBus events are missed. The initial

                check is useful in circumstances where you want to run the script

                standalone or post-boot.


                Other services that wish to make use of this service and wait for

                full network connectivity should add the following entries to their

                systemd unit definition:


                Requires=balena-net-connectivity-wait.target

                After=balena-net-connectivity-wait.target
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: "recipes-core: add a 'network connectivity wait' service"
                changelog-entry: "recipes-core: add a 'network connectivity wait' service"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.81.0
          date: 2021-07-06T09:28:12.840Z
        - commits:
            - subject: Remove CODEOWNERS
              hash: da8bfafc94a3815ad62658846d46ec0b4a3edb9b
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.80.12
          date: 2021-07-05T12:26:53.005Z
        - commits:
            - subject: get journal logs at the end of the suite
              hash: 5d6089c3c8210db34ed0e23864b0ec25579d43e4
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.80.11
          date: 2021-07-01T11:51:12.849Z
        - commits:
            - subject: "hostapp-update-hooks: Migrate supervisor database"
              hash: cad3e4cc49c4fbc275a5448c38e2da550e596573
              body: |
                forward_supervisor-db will ensure the supervisor database
                is copied to the new location

                fwd_commit_supervisor-db will remove the old supervisor
                database after confirming the new database has been used
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "hostapp-update-hooks: Revert sv database path used by previous hooks"
              hash: ef8aa041e4957ef138608959ae87ca9eea7b0774
              body: |
                This probably should not have been changed during the
                supervisor rename as it applies to a specific OS issue #2070
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.80.10
          date: 2021-06-24T19:51:43.564Z
        - commits:
            - subject: "balena-engine: refactor systemd service"
              hash: 8227a61f6bef6d93cc6a5acd0ef93a2012079964
              body: >
                This makes it easier to overwrite the arguments passed in the
                engine

                unit from drop-in overwrites. See the development image drop-in unit for

                reference.


                Using `systemctl edit --runtime balena.service`, which puts those

                overwrites into `/run/systemd/system/balena.service.d/`, it would be

                possible to modify the runtime behavior of the engine without remounting

                the rootfs to be writeable.


                See https://www.freedesktop.org/software/systemd/man/systemd.unit.html#System%20Unit%20Search%20Path
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: meta-balena-2.80.9
          date: 2021-06-21T14:04:07.493Z
        - commits:
            - subject: Update balena-supervisor from v12.8.7 to v12.8.8
              hash: 713342af1f30442613a3f8cdf38552d10294a1d5
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supervisor from v12.8.7 to v12.8.8
                changelog-entry: Update balena-supervisor from v12.8.7 to v12.8.8
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.80.8
          date: 2021-06-21T08:24:21.670Z
        - commits:
            - subject: prevent failed teardown from making test hang
              hash: 47b439dfd12a66171ced7b710502dc143fedb686
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.80.7
          date: 2021-06-18T10:03:31.173Z
        - commits:
            - subject: catch error if image path is corrupted
              hash: 883fb0e8ac2570763d5857e1a3f2e3cc8b6fc8b2
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.80.6
          date: 2021-06-17T14:47:58.695Z
  version: 2.81.1+rev1
  date: 2021-07-19T13:02:00.054Z
- commits:
    - subject: Disable support for MD RAID1 rootfs on TX2 family
      hash: 23348d0e215805c6dacca6ee83afd61fcb05ccb6
      body: |
        Including the mdadm utility in the initrd makes the image too big
        to fit into the boot partition.
      footer:
        Changelog-entry: Disable support for MD RAID1 rootfs on TX2 family
        changelog-entry: Disable support for MD RAID1 rootfs on TX2 family
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.80.5+rev5
  date: 2021-07-13T12:16:24.117Z
- commits:
    - subject: "linux-firmware: drop temporary fw update changes"
      hash: 15dd5ac2b571fa8b6c019e4a30fb947db80ad3fc
      body: |
        These were needed to deliver an urgent OS image,
        now meta-balena updates the firmware recipe so
        we can drop these changes.

        This reverts commit e96dc8e because it is no longer
        necessary.
      footer:
        Changelog-entry: "linux-firmware: drop temporary fw update changes"
        changelog-entry: "linux-firmware: drop temporary fw update changes"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.80.5+rev4
  date: 2021-07-08T11:15:11.677Z
- commits:
    - subject: Update balena-yocto-scripts from v1.14.6 to v1.14.7
      hash: d5558088dd839d47283635f3969aab4270c5269b
      body: |
        Update balena-yocto-scripts from 1.14.6 to 1.14.7
      footer:
        Changelog-entry: Update balena-yocto-scripts from v1.14.6 to v1.14.7
        changelog-entry: Update balena-yocto-scripts from v1.14.6 to v1.14.7
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.80.5+rev3
  date: 2021-06-30T12:55:47.024Z
- commits:
    - subject: Update balena-yocto-scripts from v1.14.4 to v1.14.6
      hash: af9bf8ed2744732203616bbd399ff86df7dc25e4
      body: |
        Update balena-yocto-scripts from 1.11.4 to 1.14.6
      footer:
        Changelog-entry: Update balena-yocto-scripts from v1.14.4 to v1.14.6
        changelog-entry: Update balena-yocto-scripts from v1.14.4 to v1.14.6
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.80.5+rev2
  date: 2021-06-18T14:07:09.174Z
- commits:
    - subject: Update balena-yocto-scripts from 1.11.0 to v1.14.4
      hash: b27bc5f196ae5575e6998e833c3bf6aba4983f75
      body: |
        Update balena-yocto-scripts from 1.11.0 to 1.14.
      footer:
        Changelog-entry: Update balena-yocto-scripts from 1.11.0 to v1.14.4
        changelog-entry: Update balena-yocto-scripts from 1.11.0 to v1.14.4
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
    - subject: Update meta-balena from v2.80.3 to v2.80.5
      hash: 32380c4d97a1e64764823bf2a5f8dcfe76deef56
      body: |
        Update meta-balena from 2.80.3 to 2.80.5
      footer:
        Changelog-entry: Update meta-balena from v2.80.3 to v2.80.5
        changelog-entry: Update meta-balena from v2.80.3 to v2.80.5
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "update-balena-supervisor: Improve obtaining the supervisor directory
                name"
              hash: 4ed241617668a0d3cc2d505a052bb9cba3178cea
              body: |
                There are better ways of getting the supervisor
                configuration directory name, let's switch to
                them to improve robustness.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
            - subject: Update balena-supervisor from v12.7.0 to v12.8.7
              hash: b935b594c12a2cdd54871bfb064d5cc843442e53
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supervisor from v12.7.0 to v12.8.7
                changelog-entry: Update balena-supervisor from v12.7.0 to v12.8.7
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: meta-balena-2.80.5
          date: 2021-06-17T14:36:11.613Z
        - commits:
            - subject: "kernel-headers-test: simplify example module Makefile"
              hash: 88df9d672d45b7d0bf59d4656654091c3bbfd56b
              body: >
                The example kernel module has some unnecessary variables and
                targets.

                Simplify this makefile by passing the kernel source directory to make,

                and using the M variable to build the module.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "kernel-headers-test: simplify example module Makefile"
                changelog-entry: "kernel-headers-test: simplify example module Makefile"
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.80.4
          date: 2021-06-14T21:02:06.713Z
  version: 2.80.5+rev1
  date: 2021-06-17T15:09:27.997Z
- commits:
    - subject: "tegra186-flash-dry: Add support for TX2 4GB"
      hash: d5cb6c1cf7365e0b35e7f1d76c6c49d354d0bde4
      body: |
        This is a community deivce type maintained by Andrew Smith
      footer:
        Changelog-entry: "tegra186-flash-dry: Add support for TX2 4GB"
        changelog-entry: "tegra186-flash-dry: Add support for TX2 4GB"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.80.3+rev2
  date: 2021-06-14T13:03:50.768Z
- commits:
    - subject: Update meta-balena from v2.79.7 to v2.80.3
      hash: 4478253f0f143ef043d54b5691a11d715684ef72
      body: |
        Update meta-balena from 2.79.7 to 2.80.3
      footer:
        Changelog-entry: Update meta-balena from v2.79.7 to v2.80.3
        changelog-entry: Update meta-balena from v2.79.7 to v2.80.3
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: Add oneshot service to migrate supervisor state config
              hash: d965d23fe60db6254eaabd81a0d48b5718e01a3a
              body: >
                The hostapp-update hooks would run before the supervisor update
                step

                when using balenahup via the dashboard. This resulted in the balena

                supervisor state conf file being out-of-date.


                This commit removes the hostapp-update hook and instead uses a

                oneshot service to ensure the conf is migrated if it does not exist

                in the new path before starting the supervisor.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.80.3
          date: 2021-06-10T13:47:28.925Z
        - commits:
            - subject: "update-balena-supervisor: Refactor script to ensure target version is
                ran"
              hash: 0433c666bf4756df30312f0d59ad8a8b94b062ab
              body: |
                This is a rebase of PR 2180 by Miguel,
                which improves stability for the
                supervisor update.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.80.2
          date: 2021-06-09T09:54:10.830Z
        - commits:
            - subject: "bluez5: Disable PnP Device Information service"
              hash: afb3dc0441e9ed0f2f9a08de5dd2a9cc75f09ac3
              body: >
                This reverts to the behavior before v5.56 as it interferes with
                user defined

                Device Information profiles.


                For more information: https://github.com/bluez/bluez/issues/101
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
              nested: []
          version: meta-balena-2.80.1
          date: 2021-06-07T12:35:18.823Z
        - commits:
            - subject: Revert Go 1.16 recipes
              hash: 4303346ccda6d3e3c4f83cc3782c73a6d1adb494
              body: >
                balena-engine requires fixes backported from upstream to support
                a newer

                version of Go, and retaining the new recipes while switching back to the

                supported version of Go using the GOVERSION variable is still a work in

                process. Revert these changes for now. We can merge the new recipes

                back in once the build issues are resolved.


                This reverts commit f36dbd96684f9adfc5ce6faa57aa26fc4ba8e34e, reversing

                changes made to b228aea720fd1536ac6904b1886b2d445a582fc9.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Revert Go 1.16 recipes
                changelog-entry: Revert Go 1.16 recipes
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.80.0
          date: 2021-06-07T08:31:41.036Z
        - commits:
            - subject: "supervisor: Remove symlink to legacy resin sysconfig"
              hash: 2b04b5a776c9e996ded53dd7c405755c6543d7e5
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "hostapp-update-hooks: Migrate resin-supervisor to balena-supervisor"
              hash: 19a9bfc2f172368c8652a448e77a77563a5c32a4
              body: >
                After a hostapp-update we need to migrate the supervisor.conf
                currently

                mounted from /etc/resin-supervisor in the state cache partition.


                Avoid deleting the old supervisor state cache in case of rollback.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "supervisor: Remove legacy resin supervisor container"
              hash: d8dd730edd9e4f4c87fcc0f4774097add68f3422
              body: |
                Clean up the legacy resin supervisor container if it exists
                after a hostapp update.

                Also check that supervisor.conf exists before attempting
                to start the service.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.79.10
          date: 2021-06-03T16:04:52.063Z
        - commits:
            - subject: "hostapp-update-hooks: Sync to disk when hook is done"
              hash: 9688de53a3d6ae143b74bb1a7ea446b073755b27
              body: >
                This makes sure the hook changes are committed if the power is
                lost.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "extract-balena-ca: Sync changes to disk in case of power loss"
              hash: 62302a2149b886b5e44cd2cc93bdc70e55227bb0
              body: >
                Sync changes to disk once the certificates have been updated.
                This

                minimizes the risk of the custom CA to be committed without having the

                certificates updated.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "resin-net-config: Make sure to sync changes to disk in case of power
                loss"
              hash: e5733363c4ba2a3e31c4613b34e66e072517d1c8
              body: >
                Commit disk modifications to minimize data loss in event of
                power loss.


                Fixes #2141
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.79.9
          date: 2021-06-03T13:15:41.101Z
        - commits:
            - subject: "bluez: Set policy configuration to AutoEnable"
              hash: 614eaf745b29f6e5f373f9c712a7c533373a6187
              body: >
                Since bluez 5.35, the bluetooth daemon has the ability to power
                on

                controllers instead of using the unreliable `hciconfig hci0 up`.


                http://www.bluez.org/release-of-bluez-5-35/


                This commit makes this the default for BalenaOS.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "bluez5: Replace executable path directory in unit file"
              hash: 809da983829e97e5cddc424c4ff95054e2404ef0
              body: >
                The unit file is left with a placeholder to perform the
                substitution.

                Previously this was replaced by autoconf.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.79.8
          date: 2021-06-02T12:32:03.789Z
  version: 2.80.3+rev1
  date: 2021-06-11T06:51:25.100Z
- commits:
    - subject: change board name to jetson-xavier-nx-devkit-seeed-2mic-hat
      hash: 671ed41c8d302c526ea9ffb4be14afa0bfe7c041
      body: |
        Changed names/references from seeed-mic to seeed-2mic-hat in
        order to make product identification easier
      footer:
        Changelog-entry: change board name to jetson-xavier-nx-devkit-seeed-2mic-hat
        changelog-entry: change board name to jetson-xavier-nx-devkit-seeed-2mic-hat
        Signed-off-by: Kunal Singh <kunal.singh@aivero.com>
        signed-off-by: Kunal Singh <kunal.singh@aivero.com>
      author: Kunal Singh
      nested: []
  version: 2.79.7+rev2
  date: 2021-06-09T18:16:49.524Z
- commits:
    - subject: Update meta-balena from v2.75.0 to v2.79.7
      hash: 186b7a341f9b48eb1584c59812a5e0ecc0891851
      body: |
        Update meta-balena from 2.75.0 to 2.79.7
      footer:
        Changelog-entry: Update meta-balena from v2.75.0 to v2.79.7
        changelog-entry: Update meta-balena from v2.75.0 to v2.79.7
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested:
        - commits:
            - subject: "meta-balena: rename connectivity packagegroup"
              hash: 8f54c4137f8bb8a83a05d9963cdb1565778c737b
              body: |
                Rename the resin-connectivity packagegroup.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "meta-balena: rename connectivity packagegroup"
                changelog-entry: "meta-balena: rename connectivity packagegroup"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.79.7
          date: 2021-05-26T15:03:08.108Z
        - commits:
            - subject: "bluez5: Use bluez5 recipe from poky master"
              hash: fe3c870eef75927eac740bbc1e8e15b8ed9c7341
              body: |
                This commit brings the bluez5 recipe from poky master as we need
                to control which bluez5 version is used in meta-balena.

                The code originates from poky's master branch -
                c887238347295c87dacf8a08e6d703603436d0bc.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
              nested: []
          version: meta-balena-2.79.6
          date: 2021-05-26T08:26:16.310Z
        - commits:
            - subject: "README: Update supported Yocto versions"
              hash: cdbf76ccbaaf6e265f8432eca10d42e55b6969e8
              body: >
                Add the warrior and dunfell versions to the list of tested
                releases.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.79.5
          date: 2021-05-21T20:01:11.657Z
        - commits:
            - subject: Skip some services when running under docker
              hash: 8ef8078de0f1e65adab784c6456d66cf82ee4774
              body: |
                * skip setting up zram swap
                * dont' attempt to mount inactive partition
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: meta-balena-2.79.4
          date: 2021-05-21T10:15:56.497Z
        - commits:
            - subject: "kernel-resin: disable panic on hung task"
              hash: ac0ba89f14c0b04b7353192f15a0634be44d910c
              body: >
                Some BSPs have enabled CONFIG_BOOTPARAM_HUNG_TASK_PANIC which

                can trigger panics upon high iowait, such as balena-engine

                downloading/writing a large image to disk.


                Kconfig says the following:

                    Say Y here to enable the kernel to panic on "hung tasks",
                    which are bugs that cause the kernel to leave a task stuck
                    in uninterruptible "D" state.

                    The panic can be used in combination with panic_timeout,
                    to cause the system to reboot automatically after a
                    hung task has been detected. This feature is useful for
                    high-availability systems that have uptime guarantees and
                    where a hung tasks must be resolved ASAP.

                    Say N if unsure.

                Hung tasks are not normally terminal, nor do they affect system

                stability, but panicking during an image write forces a device into a

                bootloop that requires manual intervention to remedy.


                See the below stacktrace:


                [  243.565482] INFO: task balenad:4049 blocked for more than 120 seconds.

                [  243.565737]       Not tainted 4.9.140-l4t-r32.4 #1

                [  243.565853] "echo 0 > /proc/sys/kernel/hung_task_timeout_secs" disables this message.

                [  243.566032] balenad         D    0  4049      1 0x00000008

                [  243.566236] Call trace:

                [  243.566354] [<ffffff80080863a4>] __switch_to+0x9c/0xc0

                [  243.566479] [<ffffff8008f0d09c>] __schedule+0x22c/0x570

                [  243.566590] [<ffffff8008f0d420>] schedule+0x40/0xa8

                [  243.566744] [<ffffff8008f1057c>] rwsem_down_read_failed+0xd4/0x128

                [  243.566872] [<ffffff8008f0f8a8>] down_read+0x58/0x60

                [  243.566999] [<ffffff8008263568>] iterate_supers+0x78/0x138

                [  243.567131] [<ffffff800829bac0>] sys_sync+0x50/0xc0

                [  243.567237] [<ffffff8008083900>] el0_svc_naked+0x34/0x38

                [  243.567394] Kernel panic - not syncing: hung_task: blocked tasks

                [  243.567533] CPU: 3 PID: 47 Comm: khungtaskd Not tainted 4.9.140-l4t-r32.4 #1

                [  243.567819] Hardware name: NVIDIA Jetson Xavier NX Developer Kit (DT)

                [  243.568318] Call trace:

                [  243.568508] [<ffffff800808c678>] dump_backtrace+0x0/0x1a8

                [  243.571026] [<ffffff800808c844>] show_stack+0x24/0x30

                [  243.576195] [<ffffff800841f4e8>] dump_stack+0x94/0xbc

                [  243.581446] [<ffffff80081c3db0>] panic+0x128/0x28c

                [  243.586599] [<ffffff8008178190>] watchdog+0x2f8/0x398

                [  243.591760] [<ffffff80080dcd60>] kthread+0x100/0x108

                [  243.596477] [<ffffff80080838a0>] ret_from_fork+0x10/0x30

                [  243.602257] SMP: stopping secondary CPUs

                [  243.605897] Kernel Offset: disabled

                [  243.609511] Memory Limit: none

                [  243.612484] trusty-log panic notifier - trusty version Built: 12:18:19 Oct 16 2020 [  243.636124] Rebooting in 1 seconds..


                Disable this config for all platforms.
              footer:
                Changelog-entry: "kernel-resin: disable panic on hung task"
                changelog-entry: "kernel-resin: disable panic on hung task"
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.79.3
          date: 2021-05-20T08:04:17.185Z
        - commits:
            - subject: Add boot-splash test to unmanaged suite
              hash: a6865f22ba5d5bd60f659daac113cac6ae1aa8f3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.79.2
          date: 2021-05-19T09:25:55.145Z
        - commits:
            - subject: "balena-os: Add preferred provider for Go native"
              hash: 20dd5fb4384e78f24d3e3304be38666fdcb859a8
              body: >
                With Go 1.16 a precompiled go-binary-native that provides
                go-native was

                introduced to bootstrap the Go compilation.

                Specify to use the go-native recipe and not go-binary-native when

                requiring go-native.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.79.1
          date: 2021-05-18T08:37:41.159Z
        - commits:
            - subject: "balena-engine: build in GOPATH mode"
              hash: 342a9621b5416d2a1f6aec3948dfdcfe15395d13
              body: >
                balena-engine hasn't transitioned to building with modules yet,
                and Go

                1.16 enabled them by default. Revert to the old behavior for now to fix
                  the build.

                This option will be removed in Go 1.17, so we'll have to update our

                build before upgrading further.


                https://blog.golang.org/go116-module-changes
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "recipes-devtools: go: backport get_linuxloader"
              hash: 283e7d279ed26c2855b4916c24bb502e2d87a189
              body: >
                Hardknott introduces get_linuxloader() to linuxloader.bbclass
                that

                allows for dynamically choosing between different c libraries, which go

                recipes depend on.


                Add an include that backports this for older Yocto releases.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "meta-resin-pyro: go-native: include fix-goarch.inc"
              hash: 252521185190ac2730fa8a92a5565a6069104e25
              body: |
                This fixes the error:

                	Invalid GOMIPS value. Must be hardfloat or softfloat.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
                signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
              author: Joseph Kogut
              nested: []
            - subject: "meta-balena-common: upgrade from go 1.12.17 to 1.16.2"
              hash: a395e1bdaaba8050042d011e6e5fe40311216d58
              body: |
                Copy the unmodified golang recipes from poky commit 464472d to
                meta-balena-common/recipes-devtools.

                This shaves off approximately:
                balena-engine 41M -> 34M (17%)
                init (mobynit) 9.5M -> 7.9M (16.8%)
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
                signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.79.0
          date: 2021-05-13T18:25:01.396Z
        - commits:
            - subject: "balena-config-vars: improve handling of NM config parameters"
              hash: 61280e84e045a4b235a21eec194fc8cf894c310d
              body: >
                Improve the handling of the os.network.* parameters defined in

                config.json.


                The balena-config-vars script has been updated to process the

                os.network.* parameters from config.json. This allows scripts

                to access these parameters by just including balena-config-vars

                rather than having to parse them directly. Some of the default

                settings have now been included as part of the jq parsing string.

                The jq command has also been assigned to an interim variable rather

                than being evaluated directly. This allows other scripts which

                include balena-config-vars to handle parsing errors correctly when

                they are running with 'set -e'.


                The os-networkmanager script has been updated to make use of the

                balena-config-vars script and no longer parses config.json itself.

                The logging has been standardised and the simplification of the

                variable processing has reduced the size of the script from 146

                to 101 lines.


                The build time tests have been removed as the os-networkmanager script

                is unable to access /usr/sbin/balena-config-vars at buildtime.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "balena-config-vars: improve handling of NM config parameters"
                changelog-entry: "balena-config-vars: improve handling of NM config parameters"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.78.2
          date: 2021-05-13T15:17:52.402Z
        - commits:
            - subject: Add Device Tree tests
              hash: f59b7e0d54098e000d7fb3ce2b4811fa91351769
              body: |
                1. Add DToverlay & DTparam tests
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: meta-balena-2.78.1
          date: 2021-05-12T21:38:32.558Z
        - commits:
            - subject: Add symlinks and aliases for legacy resin namespaces
              hash: 16f5437233e88af276d9cce7bc99dd1230f6f10d
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: Rename resin-supervisor to balena-supervisor
              hash: 8c0b17bc3dbcf0674c7083d5a8dacff64cca48c1
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.78.0
          date: 2021-05-10T21:41:51.607Z
        - commits:
            - subject: Update balena-supservisor from v12.5.10 to v12.7.0
              hash: d2e3f092a213b8810e4bb922ad3f2a08135129c5
              body: |
                Update balena-supervisor from 12.5.10 to 12.7.0
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supservisor from v12.5.10 to v12.7.0
                changelog-entry: Update balena-supservisor from v12.5.10 to v12.7.0
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested:
                - commits:
                    - subject: Backwards compatility changes for old resin namespaces
                      hash: 301aa52f032fecd29495894e828f21a93df60caa
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Kyle Harding <kyle@balena.io>
                        signed-off-by: Kyle Harding <kyle@balena.io>
                      author: Kyle Harding
                      nested: []
                    - subject: Change container name to balena_supervisor
                      hash: 09615c9d8254d3f62ef1088d0da35485b0c18734
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Kyle Harding <kyle@balena.io>
                        signed-off-by: Kyle Harding <kyle@balena.io>
                      author: Kyle Harding
                      nested: []
                    - subject: Rename resin-supervisor to balena-supervisor
                      hash: 5faf9d7686d7f03b5bb73ef9a234038e7e61037c
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Kyle Harding <kyle@balena.io>
                        signed-off-by: Kyle Harding <kyle@balena.io>
                      author: Kyle Harding
                      nested: []
                  version: balena-supervisor-12.7.0
                  date: 2021-05-07T12:05:43.135Z
                - commits:
                    - subject: Show warning instead of exception for invalid network config
                      hash: 5197a1330d69cbff97f3c53a77f640638e074b8a
                      body: >
                        A previous PR (#1656) fixed validation for network ipam
                        config,

                        checking that both network and subnet are defined for each ipam config entry

                        (as described in the docker documentation).


                        After that PR, the validations throws an exception if the network target state is incorrect,

                        but this turns out to be the wrong approach, because that exception is also triggered

                        when querying target state.


                        This isn't a problem in normal operation, but it is in local mode, because local

                        mode queries the old target state before sending a new one. Since the query fails,

                        the CLI can never push the new target state.


                        This PR replaces the exception with a warning on the logs, since a

                        misconfigured network won't cause any engine failures, it will just

                        prevent containers to communicate through the provided network.


                        A future improvement should move this validation to an earlier point in the process,

                        so the target state can get rejected before it even gets to a point it

                        can be used.
                      footer:
                        Relates-to: "#1693"
                        relates-to: "#1693"
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.6.8
                  date: 2021-05-06T20:30:52.075Z
                - commits:
                    - subject: Patch awaiting response when checking if supervisor0 network exists
                      hash: 8b0c2347d8d04d3c7101016f6c885f31d9b3dc6a
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.6.7
                  date: 2021-05-06T15:58:02.661Z
                - commits:
                    - subject: Fix parsing driver_opts from compose to docker network creation
                      hash: 1408fd7bcb5f25b75679b7ce0e509adc7f8f6004
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: quentinGllmt <quentin@quentingllmt.fr>
                        signed-off-by: quentinGllmt <quentin@quentingllmt.fr>
                      author: quentinGllmt
                      nested: []
                  version: balena-supervisor-12.6.6
                  date: 2021-05-06T14:52:59.431Z
                - commits:
                    - subject: Update balena-register-device and send extra info at provision time
                      hash: 9e52bb33ac931a035b4cd0fd80173bf10db771c0
                      body: >
                        This extra info will mean the API is able to immediately
                        set default

                        config vars based on the os/supervisor version so that they are

                        available on the first target state fetch rather than having a delay

                        whilst waiting for the supervisor to report them as part of a state

                        patch


                        Update balena-register-device from 6.1.6 to 7.2.0
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Support `supervisorVersion`/`osVersion`/`osVariant`/`macAddress` fields
                              hash: 6f10fe77ba11ec57bb012777975423dda498a8bd
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: balena-register-device-7.2.0
                          date: 2021-04-29T12:35:30.543Z
                        - commits:
                            - subject: Update dependencies
                              hash: 8d78459d6cf6e0dcaa4721c38898eeb2d25c5674
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: balena-register-device-7.1.1
                          date: 2021-04-29T12:23:50.655Z
                        - commits:
                            - subject: Switch from randomstring to uuid for generating device uuids
                              hash: 596a76abcf0a76aef93d191e4c59b939701c80b8
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: balena-register-device-7.1.0
                          date: 2020-07-13T14:38:52.915Z
                        - commits:
                            - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                              hash: 7444f4ba2538180a5c75fa5f62de6f395ae28ba7
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: balena-register-device-7.0.1
                          date: 2020-07-13T13:03:45.818Z
                        - commits:
                            - author: Pagan Gazzard
                              body: ""
                              hash: 8cfa23ebbe2915b2f37730972cf104cb47f68c65
                              subject: Convert to type checked javascript
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: major
                              hash: 0f3e9d26f375554f793dd632b94f33e3ee88933b
                              subject: Drop callback interface in favor of promise interface
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: major
                              hash: 67d46678e910c2c8b11f417fa40d00781a1a3905
                              subject: Switch to a named export
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: major
                              hash: faa9edc73cf243acd2abe1532e64aab8303031b5
                              subject: Convert to typescript
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: major
                              hash: 9e5bdbeaee325c8a523c8498ef023baeb49ef7c1
                              subject: Update to typed-error 3.x
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: major
                              hash: 27e78f2ea3f1a059a9fb2ba43dff55f32b0b2b4a
                              subject: Switch to returning native promises
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: major
                              hash: dc21eb20dba1a977e74ffadbece66720ced4c529
                              subject: Update to balena-request 11.x
                            - author: Pagan Gazzard
                              body: ""
                              hash: f4008dad3de415cc25987268b387848fc3ed1200
                              subject: Use typescript import helpers
                          date: 2020-07-06T18:11:23Z
                          version: balena-register-device-7.0.0
                  version: balena-supervisor-12.6.5
                  date: 2021-05-06T10:19:39.399Z
                - commits:
                    - subject: Log error responses from API when reporting state
                      hash: 2203f78d517a9edf75a261dd3c77cdf5b609548c
                      body: >
                        This adds the error message from the API to journal logs
                        to better

                        identify those cases where patching to the API fails.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Relates-to: "#1680"
                        relates-to: "#1680"
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.6.4
                  date: 2021-05-05T19:06:49.805Z
                - commits:
                    - subject: Added configurations.md to document all configurable vars
                      hash: 07a0344dc6ac15a67513080c63dffe0d6b811ebf
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Closes: "#1646"
                        closes: "#1646"
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.6.3
                  date: 2021-05-04T02:10:52.553Z
                - commits:
                    - subject: Remove version tag from livepush generated image
                      hash: 9c1d10dc318bb7c207608ed197c5713960642af3
                      body: >
                        The `start-resin-supervisor` script in newer OS version
                        no longer uses the

                        SUPERVISOR_TAG environment variable setup on supervisor.conf and

                        update-supervisor.conf.


                        This change removes the need for that variable with livepush supervisor

                        to make it compatible with older and newer OS versions
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.6.2
                  date: 2021-04-30T19:54:33.136Z
                - commits:
                    - subject: Remove mz, mkdirp, body-parser dependencies
                      hash: 4a2ac557ef11d334154bafa0cab4e7272cbed749
                      body: |
                        'mz' can be safely replaced with fs.promises
                        and util.promisify for faster native methods.
                        'mkdirp' after Node v8 uses native fs.mkdir, thus
                        is redundant. 'body-parser' is deprecated and
                        contained within express v4.x.
                      footer:
                        Closes: "#1567"
                        closes: "#1567"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Christina Wang <christina@balena.io>
                        signed-off-by: Christina Wang <christina@balena.io>
                      author: Christina Wang
                      nested: []
                  version: balena-supervisor-12.6.1
                  date: 2021-04-27T22:23:07.811Z
                - commits:
                    - subject: Bump dockerode types to 2.5.34
                      hash: 95fb568aaeb0d5a0fa8b4b88f650b51d3b96786d
                      body: >
                        This commit updates dockerode types to the latest 2.x
                        version, removing the need

                        for custom composer types for network.


                        This commit also modifies network tests to use the new types
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.6.0
                  date: 2021-04-27T17:10:23.382Z
                - commits:
                    - subject: Enable docker layer caching on CircleCI
                      hash: dd2df215f0c62459f3e26c56efdfce26edbcc229
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.5.16
                  date: 2021-04-27T16:42:23.485Z
                - commits:
                    - subject: Added clean step to remove previous builds before running tests
                      hash: 6f4030634ad05f29f72cea11456a252570c470d7
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.5.15
                  date: 2021-04-26T19:55:49.189Z
                - commits:
                    - subject: "balena-supervisor: replace references to resin-vars"
                      hash: 6ca9507beb616c4b344e4927cb5db01534c8ae4b
                      body: >
                        Replace all references to the 'resin-vars' script with

                        'balena-config-vars' as it has been renamed. Add a conditional

                        test for compatibility with legacy systems.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Changelog-entry: "balena-supervisor: replace references to resin-vars"
                        changelog-entry: "balena-supervisor: replace references to resin-vars"
                        Signed-off-by: Mark Corbin <mark@balena.io>
                        signed-off-by: Mark Corbin <mark@balena.io>
                      author: Mark Corbin
                      nested: []
                  version: balena-supervisor-12.5.14
                  date: 2021-04-26T18:12:32.752Z
                - commits:
                    - subject: Update supervisor to typescript 4
                      hash: fd06c06092b61d349e8b40f66f847065368810e3
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.5.13
                  date: 2021-04-25T23:09:44.241Z
                - commits:
                    - subject: Bump ssri from 6.0.1 to 6.0.2
                      hash: ae8dc8ff227237444ae532cf7e817bfc463fbac5
                      body: >
                        Bumps [ssri](https://github.com/npm/ssri) from 6.0.1 to
                        6.0.2.

                        - [Release notes](https://github.com/npm/ssri/releases)

                        - [Changelog](https://github.com/npm/ssri/blob/v6.0.2/CHANGELOG.md)

                        - [Commits](https://github.com/npm/ssri/compare/v6.0.1...v6.0.2)
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: dependabot[bot] <support@github.com>
                        signed-off-by: dependabot[bot] <support@github.com>
                      author: dependabot[bot]
                      nested: []
                  version: balena-supervisor-12.5.12
                  date: 2021-04-20T22:52:22.531Z
                - commits:
                    - subject: Refactor extra_uEnv to not match with intel nuc
                      hash: e6eda0fca7b280aa5453972a26c36ab6895c227a
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.5.11
                  date: 2021-04-14T05:27:23.056Z
          version: meta-balena-2.77.2
          date: 2021-05-10T17:33:42.866Z
        - commits:
            - subject: Update os-config from v1.2.0 to v1.2.1
              hash: 028486aa61680bdc09068fdb07f3a61edfb96a5d
              body: |
                Includes rename of resin-supervisor to balena-supervisor.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.77.1
          date: 2021-05-10T13:48:11.472Z
        - commits:
            - subject: "grub update hook: move variables from grub.cfg to grubenv"
              hash: 76c82dd987215982dbfcbdf950588dafdc4c129e
              body: >
                In order to verify GPG signature of grub.cfg it must be
                immutable.

                All the variables should be stored in grubenv file. This means

                bootcount, resin_root_part and upgrade_available variables need

                to be moved to grubenv.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.77.0
          date: 2021-05-05T15:18:01.595Z
        - commits:
            - subject: "kernel: Always include overlayfs support"
              hash: ddb5dff6b146dfc252aeecede59ad3acc79683f7
              body: >
                This is needed in preparation for storage migration from aufs to
                overlayfs.

                When running hostapp-update, we need to create the target hostapp on

                overlayfs, which implies the OS we update from can support both drivers
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: meta-balena-2.76.0
          date: 2021-04-30T16:01:42.415Z
        - commits:
            - subject: "grub: grub-efi: buildin gzio for gz compressed kernels"
              hash: 6e0dd4407077d66fa9a0ac16b38a83f6cd46e9b2
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
                signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.75.1
          date: 2021-04-29T19:31:21.361Z
    - subject: "balena-jetson: rename connectivity packagegroup"
      hash: 203dc4d73b3d7ee1d49c381c2a732da1cd695aa2
      body: |
        Rename the resin-connectivity packagegroup.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "balena-jetson: rename connectivity packagegroup"
        changelog-entry: "balena-jetson: rename connectivity packagegroup"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.79.7+rev1
  date: 2021-06-02T09:42:24.598Z
- commits:
    - subject: Fix the upstream branch for nvidia-modprobe
      hash: c9d4c410c571f51eb21d587ec883ec0f07fd533c
      body: >
        The upstream recipe has removed the master branch and replaced it with

        main. When specifying the SRC_URI with a sha1, the OE fetcher will assume

        the master branch and fail with:


        libnvidia-container-tools-0.9.0-r1 do_fetch: Fetcher failure: Unable to find revision d97c08af5061f1516fb2e3a26508936f69d6d71d in branch master even from upstream


        This commit specifies the upstream branch as main.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix the upstream branch for nvidia-modprobe
        changelog-entry: Fix the upstream branch for nvidia-modprobe
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.75.0+rev2
  date: 2021-05-27T11:19:57.667Z
- commits:
    - subject: Update meta-balena from v2.73.15 to v2.75.0
      hash: 25c783ff84a846342e8c76c1b52244db368d0bed
      body: |
        Update meta-balena from 2.73.15 to 2.75.0
      footer:
        Changelog-entry: Update meta-balena from v2.73.15 to v2.75.0
        changelog-entry: Update meta-balena from v2.73.15 to v2.75.0
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: Update mobynit to the new multi-container hostOS specification
              hash: 93335381320815dbe7b2d21233106910a200e2f5
              body: >
                Update mobynit to use the new multi-container hostOS
                specification
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update mobynit to the new multi-container hostOS specification
                changelog-entry: Update mobynit to the new multi-container hostOS specification
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.75.0
          date: 2021-04-22T12:36:31.239Z
        - commits:
            - subject: "balena-engine: Update to 19.03.18"
              hash: 32705abbf93971bdddb980fe0c7a01b40d229560
              body: >
                This brings in the aufs-to-overlay migrator. Which won't run
                until we

                configure the engine service to include an `BALENA_MIGRATE_OVERLAY=1`

                env var.


                The other notable change is the fix for

                https://github.com/balena-os/balena-engine/issues/236 which allows

                `balena top` to work as expected on balenaOS
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: meta-balena-2.74.0
          date: 2021-04-20T20:48:58.556Z
  version: 2.75.0+rev1
  date: 2021-05-25T09:19:39.521Z
- commits:
    - subject: "hostapp-update-hooks: Rework Nano SD and Nano eMMC hook"
      hash: 544d0bc11355897b776a35af242074799976bb3a
      body: |
        ... to update the qspi/emmc boot blob for 32.4.4, since starting with
        L4T 32.5 this is no longer compatible. The existing blob has
        been the same for about eight l4t releases.
      footer:
        Changelog-entry: "hostapp-update-hooks: Rework Nano SD and Nano eMMC hook"
        changelog-entry: "hostapp-update-hooks: Rework Nano SD and Nano eMMC hook"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.73.15+rev2
  date: 2021-05-20T16:45:30.928Z
- commits:
    - subject: Update meta-balena from v2.73.1 to v2.73.15
      hash: d8cc87d0bc6b92c312f16ebbc592692305ec95c2
      body: |
        Update meta-balena from 2.73.1 to 2.73.15
      footer:
        Changelog-entry: Update meta-balena from v2.73.1 to v2.73.15
        changelog-entry: Update meta-balena from v2.73.1 to v2.73.15
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: "modemmanager:u-blox-switch: Rework the u-blox modem switch to ECM
                mode"
              hash: 9de54188ea47e121a7f408ae1c65f70f53d3a634
              body: >
                We need to make sure the modem is completely initialized before
                sending

                the AT commands that do the switch to ECM mode. To achieve this we

                change the systemd service dependency to depend on ModemManager.service

                and then we determine the modem state by using mmcli and querying the

                modem power-state property.


                This procedure will only be done once. After the modem is placed in ECM

                mode, it will stay in this mode for future reboots so there will be no

                other delays in bringing up the modem connection.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.73.15
          date: 2021-04-20T09:21:07.975Z
        - commits:
            - subject: "device-progress: do not force an exit code"
              hash: f080936299781d121866de112e6930fa2f261fac
              body: >
                this script is only used during provisioning and HUP. in
                provisioning we `|| true` anyway, and

                in HUP we would like to use the exit code for retrying
              footer:
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
                Change-type: patch
                change-type: patch
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.73.14
          date: 2021-04-19T14:59:22.521Z
        - commits:
            - subject: add retries to status check
              hash: 73e7cae10974974eeb180fd18551f6da67432101
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.73.13
          date: 2021-04-19T10:30:12.192Z
        - commits:
            - subject: "meta-balena: rename resin-vars to balena-config-vars"
              hash: 7d019abde039a469212c59bcf6e1b7a94ed365d6
              body: >
                Rename the 'resin-vars' script to 'balena-config-vars' and
                update all

                references.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "meta-balena: rename resin-vars to balena-config-vars"
                changelog-entry: "meta-balena: rename resin-vars to balena-config-vars"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.73.12
          date: 2021-04-16T12:31:11.982Z
        - commits:
            - subject: "patch: Add strict bootcount count condition"
              hash: a340d4ddd09515eedb125cbc57d39531ade2566a
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
            - subject: "patch: Reactivate Persistent Logging test"
              hash: 572e287bb93deae01786b025ad116d4d78a6b918
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: meta-balena-2.73.11
          date: 2021-04-16T07:39:41.833Z
        - commits:
            - subject: "repo.yml: Move balena-supervisor reference to balena-os"
              hash: 7d9433e3c41c37ba3d9cea51d894b520be81d899
              body: >
                The balena-supervisor repository has been moved to balena-os so
                the

                repo.yml file needs to be corrected for nested changelogs to work again.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.73.10
          date: 2021-04-14T14:10:09.817Z
        - commits:
            - subject: Update balena-supervisor from v12.5.6 to v12.5.10
              hash: 36a1b1e9808db5d2c70f06209f868b24bd8643b1
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supervisor from v12.5.6 to v12.5.10
                changelog-entry: Update balena-supervisor from v12.5.6 to v12.5.10
                Signed-off-by: Christina Wang <christina@balena.io>
                signed-off-by: Christina Wang <christina@balena.io>
              author: Christina Wang
              nested: []
          version: meta-balena-2.73.9
          date: 2021-04-14T11:26:13.292Z
        - commits:
            - subject: "resin-mounts/etc-fake-hwclock: add dependency on resin-state services"
              hash: 2b07011844a2738aec033d88af29e3f6e0dd28a2
              body: >
                Added a dependency on resin-state.service and
                resin-state-reset.service

                to etc-fake-hwclock.mount.


                On initial boot after flashing a device the resin-state-reset.service

                was running after etc-fake-hwclock.mount causing the bind mount point

                /mnt/state/root-overlay/etc/fake-hwclock to be deleted after it had

                been mounted. This resulted in a failure to save the date/time at

                shutdown which caused problems with persistent logging at next boot.

                Subsequent boots are unaffected as resin-state-reset does not run.

                Adding a dependency on the resin-state services ensures that the

                bind mount point is created after the state reset has been performed.


                This issue was noticed when running the testbot unmanaged OS image

                persistent logging test. When running a managed OS image the device

                normally reboots fairly immediately after connecting to the

                balena-cloud host and receiving parameter updates, so this issue is

                not usually noticeable.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: "#2146 #2143"
                connects-to: "#2146 #2143"
                Changelog-entry: "resin-mounts/etc-fake-hwclock: add dependency on resin-state
                  services"
                changelog-entry: "resin-mounts/etc-fake-hwclock: add dependency on resin-state
                  services"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.73.8
          date: 2021-04-13T14:21:01.455Z
        - commits:
            - subject: fix udev test indentation
              hash: dedfa47ca1fbae4cd8b96eb05cf093ae3f9432d9
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: Added comments for easier debugging
              hash: c3085492fe85b314e1644870e614531fa6bde6a8
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: Fix old tests + add new tests based on testlodge
              hash: 2c8ab0f0962cca1b6fecb25b9a2dbe62acf4cf6a
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.73.7
          date: 2021-04-13T10:43:37.477Z
        - commits:
            - subject: Add automated test checking for udev/resin_update_state_probe warnings
              hash: e6bcff01fcf520756b140ad3b4352583f4bc825e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "udev: Silence warnings from resin_update_state_probe"
              hash: 5a0bed933fd9730e507305c6098698c4a1970c6e
              body: >
                At this moment resin_update_state_probe is scanning pretty much
                every

                block device for rootfs. This include ramdisks, zram and loop devices

                which, when scanned, even spam warnings in logs. This patch updates

                the udev rule to skip such devices and only trigger on add or change

                events.
              footer:
                Relates-to: "#1989"
                relates-to: "#1989"
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.73.6
          date: 2021-04-12T12:17:29.995Z
        - commits:
            - subject: Update balena-supervisor from v12.4.6 to v12.5.6
              hash: 6852b3704575ce5535082e2c02a7f2c6f57e1df4
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supervisor from v12.4.6 to v12.5.6
                changelog-entry: Update balena-supervisor from v12.4.6 to v12.5.6
                Signed-off-by: Christina Wang <christina@balena.io>
                signed-off-by: Christina Wang <christina@balena.io>
              author: Christina Wang
              nested: []
          version: meta-balena-2.73.5
          date: 2021-04-06T02:41:31.071Z
        - commits:
            - subject: Add to persistent logging defn
              hash: a763533ee5d589394584e5990bd89ca6d18365c5
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Andrew Nhem <andrew@balena.io>
                signed-off-by: Andrew Nhem <andrew@balena.io>
              author: Andrew Nhem
              nested: []
          version: meta-balena-2.73.4
          date: 2021-03-20T00:50:55.294Z
        - commits:
            - subject: "wifi: remove listed example as it's discontinued"
              hash: c539b4c6c671fca2cd0fabc7416e2bbd0b20ee44
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Toms Migone <tomas@balena.io>
                signed-off-by: Toms Migone <tomas@balena.io>
              author: Toms Migone
              nested: []
          version: meta-balena-2.73.3
          date: 2021-03-19T19:05:13.959Z
        - commits:
            - subject: "hostapp-update: convert absolute symlinks to relative"
              hash: fa8b5a4d2836510c5257d75c65542d374f628407
              body: >
                Symlinks to /boot and /sbin/init are absolute, which breaks them
                when

                the sysroot is mounted under another system.


                Convert them to relative links, so they work in all cases.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.73.2
          date: 2021-03-17T18:30:51.715Z
  version: 2.73.15+rev1
  date: 2021-04-26T10:14:28.368Z
- commits:
    - subject: "linux-tegra: Don't include spidev patch for Floyd Nano"
      hash: 48f25d9a2638a743815c02ad3fcd5d24cf6dce2f
      body: |
        This reverts commit 11d63e6c478725f0098b3c4613fb568a738a2282
        because it affects the sd-card functionality.
      footer:
        Changelog-entry: "linux-tegra: Don't include spidev patch for Floyd Nano"
        changelog-entry: "linux-tegra: Don't include spidev patch for Floyd Nano"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.73.1+rev8
  date: 2021-04-12T07:19:08.380Z
- commits:
    - subject: "linux-tegra: Fix spidev not working on Floyd Nano eMMC"
      hash: 11d63e6c478725f0098b3c4613fb568a738a2282
      body: |
        This applies to the Floyd Nano eMMC module on L4T 32.4.4
      footer:
        Changelog-entry: "linux-tegra: Fix spidev not working on Floyd Nano eMMC"
        changelog-entry: "linux-tegra: Fix spidev not working on Floyd Nano eMMC"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.73.1+rev7
  date: 2021-04-07T16:41:45.169Z
- commits:
    - subject: "floyd-nano: Mark board as community device"
      hash: 6e4d6c09c481ecf82bb49c40011f653ce1832293
      body: ""
      footer:
        Changelog-entry: "floyd-nano: Mark board as community device"
        changelog-entry: "floyd-nano: Mark board as community device"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.73.1+rev6
  date: 2021-04-06T07:39:14.883Z
- commits:
    - subject: "floyd-nano: Add icon for this DT"
      hash: 1cf90eacc4f9ac5c222348cbac63faa94bf8f77e
      body: ""
      footer:
        Changelog-entry: "floyd-nano: Add icon for this DT"
        changelog-entry: "floyd-nano: Add icon for this DT"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.73.1+rev5
  date: 2021-04-05T18:55:34.781Z
- commits:
    - subject: "u-boot: Specify Floyd Nano dtb"
      hash: e5e018be07d178234c0e46a33584dd3cbb1fc37d
      body: ""
      footer:
        Changelog-entry: "u-boot: Specify Floyd Nano dtb"
        changelog-entry: "u-boot: Specify Floyd Nano dtb"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.73.1+rev4
  date: 2021-04-05T15:46:55.232Z
- commits:
    - subject: "floyd-nano: Add coffee file"
      hash: cccae8d894bde81f479860fa723072daacad31bd
      body: ""
      footer:
        Changelog-entry: "floyd-nano: Add coffee file"
        changelog-entry: "floyd-nano: Add coffee file"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.73.1+rev3
  date: 2021-04-05T12:58:53.727Z
- commits:
    - subject: "packagegroups: Add Ath10k and qca firmwares for TX2"
      hash: 832bccaf0c7831776ce9a548b0f06e665889504f
      body: |
        We add these in the device repository since
        these are needed for the TX2 only and we don't
        want to take up space on devices where these
        aren't necessary.
      footer:
        Changelog-entry: "packagegroups: Add Ath10k and qca firmwares for TX2"
        changelog-entry: "packagegroups: Add Ath10k and qca firmwares for TX2"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.73.1+rev2
  date: 2021-04-02T07:36:22.079Z
- commits:
    - subject: Update meta-balena from v2.72.0 to 2.73.1
      hash: fa536e610ca65b003f06847107711452e106d0b1
      body: |
        Update meta-balena from 2.72.0 to 2.73.1
      footer:
        Changelog-entry: Update meta-balena from v2.72.0 to 2.73.1
        changelog-entry: Update meta-balena from v2.72.0 to 2.73.1
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: Update balena-supervisor from v12.3.5 to v12.4.6
              hash: 8399bdf47ded925e74e48b128b4f7b2452008dd5
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supervisor from v12.3.5 to v12.4.6
                changelog-entry: Update balena-supervisor from v12.3.5 to v12.4.6
                Signed-off-by: Felipe Lalanne <felipe@balena.io>
                signed-off-by: Felipe Lalanne <felipe@balena.io>
              author: Felipe Lalanne
              nested: []
          version: meta-balena-2.73.1
          date: 2021-03-16T13:08:50.984Z
        - commits:
            - subject: "image_types_balena: make rootfs labeling generic"
              hash: 924bb046c94ea9a6db516733f727c18bc47fc0e7
              body: ""
              footer:
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
                Change-type: patch
                change-type: patch
              author: Joseph Kogut
              nested: []
            - subject: "image_types_balena: make agnostic to root fstype"
              hash: 71553d47174d8dc28777b0d0a6723418192ad8e4
              body: >
                Build BALENA_HOSTAPP_IMG path using BALENA_ROOT_FSTYPE instead
                of assuming

                the root is ext4.
              footer:
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
                Change-type: patch
                change-type: patch
              author: Joseph Kogut
              nested: []
            - subject: "mkfs-hostapp-native: make agnostic to fstype"
              hash: 295976261f44650bd108eafcb53b3d24f6a28671
              body: >
                Remove assumptions about root fstype. Rename create to
                create.ext4,

                mkfs.hostapp-ext4 to mkfs.hostapp, and add an argument to mkfs.hostapp

                for fstype. Remove CMD from Dockerfile in favor of passing it as an

                argument to docker run.
              footer:
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
                Change-type: minor
                change-type: minor
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.73.0
          date: 2021-03-15T20:56:51.275Z
        - commits:
            - subject: "balena: dissolve healthcheck-image-load into healthcheck script"
              hash: 7983e9bfd716aaedad1ef5f1468b2771e1f5a71c
              body: >
                Previously we were loading the healthcheck image from it's own
                service

                that was previously made `PartOf=` the balena.service.

                This was done in an attempt to help get the system unstuck when the

                image is removed (like through manual pruning), which would cause the

                healthcheck to trigger the engine to reboot until the load service was

                restarted by hand.


                Further investigation found a race between the first execution of the

                engine healthcheck script (which needs the image to be loaded) and the

                loader service itself, which would lead to a similar state, requireing

                manual intervention.


                This change moves the loading into the healthcheck script itself,

                allowing us to remove the loader script and service entirely, skipping

                the whole service ordering issue.
              footer:
                Backport-to: next
                backport-to: next
                Connects-to: "#2122"
                connects-to: "#2122"
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: meta-balena-2.72.2
          date: 2021-03-15T13:36:10.137Z
        - commits:
            - subject: Fix disablement of userspace firmware loading requests
              hash: 98fad0bbfd179f16c5985a3281af25b4801af6e9
              body: >
                This option depends on FW_LOADER_USER_HELPER which will be
                enabled if

                _FALLBACK is set to 'y', which is the default in the arm64 defconfig

                since Linux 5.4+.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix disablement of userspace firmware loading requests
                changelog-entry: Fix disablement of userspace firmware loading requests
                Signed-off-by: Pelle van Gils <pelle@vangils.xyz>
                signed-off-by: Pelle van Gils <pelle@vangils.xyz>
              author: Pelle van Gils
              nested: []
          version: meta-balena-2.72.1
          date: 2021-03-11T09:52:01.508Z
    - subject: "linux-tegra: Update tegra186-tx2-6 dtb"
      hash: a6b4b2ed2ee295174fa4b0c74067d21e9850fcf5
      body: |
        This updated dtb for option 6 is provided
        by our users and has SHA1 sum
        1547f05eb29adccee5a93e064a8d589559cce28e
      footer:
        Changelog-entry: "linux-tegra: Update tegra186-tx2-6 dtb"
        changelog-entry: "linux-tegra: Update tegra186-tx2-6 dtb"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.73.1+rev1
  date: 2021-03-23T07:20:44.655Z
- commits:
    - subject: Rename resin image types to balena
      hash: 6484e83cf7ed7fc52dea659854107859f95cab7e
      body: |
        Rename resin image types to balena and replace RESIN_ env vars
      footer:
        Changelog-entry: Rename resin image types to balena
        changelog-entry: Rename resin image types to balena
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: Update meta-balena from v2.69.1 to v2.72.0
      hash: 0c1791dce4b2be421e8bb0394b2b4cddbed51779
      body: |
        Update meta-balena from 2.69.1 to 2.72.0
      footer:
        Changelog-entry: Update meta-balena from v2.69.1 to v2.72.0
        changelog-entry: Update meta-balena from v2.69.1 to v2.72.0
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested:
        - commits:
            - subject: "os-config: Update os-config from v1.1.4 to v1.2.0"
              hash: 76bae0c1e32d82b0371d99094965538a05fa3387
              body: |
                Update os-config from 1.1.4 to 1.2.0
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested:
                - commits:
                    - subject: "os-config: rename flasher flag path"
                      hash: 3622cc8cdf38f42c1f38fb6d5c67dde16631d6f0
                      body: >
                        As part of a full rename away from legacy resin
                        namespaces the

                        following os-config compatibility changes are required to align

                        with meta-balena changes.


                        - rename resin-image-flasher to balena-image-flasher
                      footer:
                        Change-type: minor
                        change-type: minor
                        Connects-to: https://github.com/balena-os/meta-balena/pull/2118
                        connects-to: https://github.com/balena-os/meta-balena/pull/2118
                        Signed-off-by: Kyle Harding <kyle@balena.io>
                        signed-off-by: Kyle Harding <kyle@balena.io>
                      author: Kyle Harding
                  version: os-config-1.2.0
                  date: 2021-02-23T20:19:36.114Z
            - subject: Rename resin image types to balena
              hash: 057621ad646f1958328c688994ef7f6fb48b9012
              body: |
                As part of a full rename away from legacy resin namespaces the
                following components have been renamed:

                - resinos-img -> balenaos-img
                - image_types_resin -> image_types_balena
                - image-resin -> image-balena
                - resin-image -> balena-image
                - resin-image-flasher -> balena-image-flasher
                - resin-image-initramfs -> balena-image-initramfs
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Rename resin image types to balena
                changelog-entry: Rename resin image types to balena
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.72.0
          date: 2021-03-10T20:00:01.558Z
        - commits:
            - subject: Apply aufs patches if aufs is present in kernel config
              hash: 8094dc7a3a36cfc4f1c0da5be66dc666e29b7dbe
              body: >
                Allow installing and patching aufs even if BALENA_STORAGE is
                overlay2
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Apply aufs patches if aufs is present in kernel config
                changelog-entry: Apply aufs patches if aufs is present in kernel config
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.71.7
          date: 2021-03-08T13:49:52.854Z
        - commits:
            - subject: "grub-efi: build required modules into grub image"
              hash: 5e1004d6753025166c40b11af117e008feb875f1
              body: >
                grub-efi requires modules to be installed in the boot partition,
                and

                resin-image installs them from ${DEPLOYDIR}.


                A normal grub installation installs those modules to ${PREFIX}/${libdir}

                to allow grub tooling to install them at runtime, but we're building the

                image with GRUB baked in, so we don't need those in the sysroot.


                The first iteration of this bbappend attempted to solve these

                constraints by copying the modules from ${D}/${libdir}/grub/ to

                ${DEPLOYDIR} in do_deploy(), then removing ${D}${prefix}. This had the

                unfortunate side effect of breaking the build in certain cases, such as

                clean builds or reexecuting do_deploy() without the other steps of the

                build.


                Instead, remove the unwanted files in do_install(), and append the

                required modules to GRUB_BUILDIN to create a standalone grub image

                without any external modules at all.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.71.6
          date: 2021-03-05T22:03:28.222Z
        - commits:
            - subject: "initrdscripts: always use by-uuid symlink looking for flasher rootfs"
              hash: d16ad58f6efe76c9313226735de88648e54d2420
              body: >
                If the device with flasher rootfs is slow to bring up and rootfs
                is defined

                as UUID=xxx the waiting loop in rootfs initrd script would assume UUIDs have

                just been regenerated and wait for a by-state symlink instead. This only works

                for the OS - flasher does not use the dynamically generated UUIDs

                therefore we always want to use the by-uuid link for it.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.71.5
          date: 2021-03-03T19:17:32.016Z
        - commits:
            - subject: Update OS test suite
              hash: 6c82ffb23c05e334ae2157c8e6c0f3e197467d2f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: meta-balena-2.71.4
          date: 2021-03-01T11:03:02.277Z
        - commits:
            - subject: "balena: Make the healthcheck loading service part of balena.service"
              hash: c26f2d203a87d1578d9d52d5bbd8b0b18869916e
              body: >
                This prevents issues with the health check when the image is
                manually

                removed.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: https://github.com/balena-os/meta-balena/issues/2010
                connects-to: https://github.com/balena-os/meta-balena/issues/2010
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: meta-balena-2.71.3
          date: 2021-02-26T12:34:11.073Z
        - commits:
            - subject: "dnsmasq: enable dbus support"
              hash: 372980ca6aa6bd2793ac856c303c3b3ac4eeffdb
              body: >
                This config option is disabled by default in the upstream
                package

                so I'm including the change here as a separate commit.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "dnsmasq: update to 2.84 with dnspooq fix"
              hash: 3afbe8dfbbaf9f73a09048e0350622535befa0a8
              body: >
                https://github.com/balena-os/meta-balena/issues/2099


                Copy dnsmasq 2.84 recipe and files from this upstream patch:


                http://cgit.openembedded.org/meta-openembedded/commit/meta-networking/recipes-support/dnsmasq?id=3e28a31bb479f292b9a052a3d2eee84c49319ee3
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.71.2
          date: 2021-02-23T19:57:37.313Z
        - commits:
            - subject: "recipes-bsp: grub: install only release modules"
              hash: 78a8049218d8ce3a9172b7fca6fe00270544e7f1
              body: >
                GRUB builds modules with both debug and release variants, with
                *.module

                and *.mod extensions respectively.


                Install only the release modules in do_deploy() to avoid balooning the

                size of the boot partition.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.71.1
          date: 2021-02-23T17:59:51.133Z
        - commits:
            - subject: "meta-balena-common: add grub-efi support"
              hash: 3bfbd05d81d59c82fb131117700325416fb152cb
              body: >
                Use upstream grub and grub-efi recipes with a new grub-conf
                recipe

                employing a config template.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.71.0
          date: 2021-02-15T17:58:51.450Z
        - commits:
            - subject: Update PR template to specify test coverage in more detail
              hash: ce0bb95e1d045ef32c377d4fc9de959c6ebbfd88
              body: >
                All PRs should include details about test coverage, including
                whether the

                tests are automated on manually recorded.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: Update codeowners
              hash: a00b54679aa6804f6a5c9fa75826764cf21c5c2e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.70.2
          date: 2021-02-12T09:31:46.288Z
        - commits:
            - subject: Add leviathan automated OS test suite
              hash: 3f6d7588874721c506a70f66603d2b153f9a6fcf
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: meta-balena-2.70.1
          date: 2021-02-11T16:18:58.778Z
        - commits:
            - subject: "systemd/timeinit: use systemd mount unit for /etc/fake-hwclock"
              hash: 7d6ec3d411af78b9b1f979b90461e9efb059e4e7
              body: >
                Replace the 'bind-etc-fake-hwclock.service' with a systemd mount

                unit (etc-fake\x2dhwclock.mount).


                Using a systemd service to bind mount the /etc/fake-hwclock directory

                results in systemd generating an internal mount unit for the same

                directory. This causes problems at shutdown when both methods try to

                unmount the directory. This frequently leads to the directory being

                unmounted before the fake-hwclock service has managed to save the

                system time. This results in an inaccurate fake-hwclock time

                at next boot and corruption of the journal log.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: "#1919 #2107"
                connects-to: "#1919 #2107"
                Changelog-entry: "systemd/timeinit: use systemd mount unit for
                  /etc/fake-hwclock"
                changelog-entry: "systemd/timeinit: use systemd mount unit for
                  /etc/fake-hwclock"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.70.0
          date: 2021-02-11T10:02:08.246Z
    - subject: Update balena-yocto-scripts from v1.10.1 to v1.11.0
      hash: bb156a5b577c937b671e90f4aa217f9cff306e35
      body: |
        Update balena-yocto-scripts from 1.10.1 to 1.11.0
      footer:
        Changelog-entry: Update balena-yocto-scripts from v1.10.1 to v1.11.0
        changelog-entry: Update balena-yocto-scripts from v1.10.1 to v1.11.0
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.72.0+rev1
  date: 2021-03-11T20:15:47.083Z
- commits:
    - subject: Update balena-yocto-scripts to v1.10.1
      hash: afba88eadc5b0d11d4bf356a59c63da9b1b3f67b
      body: ""
      footer:
        Changelog-entry: Update balena-yocto-scripts to v1.10.1
        changelog-entry: Update balena-yocto-scripts to v1.10.1
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.69.1+rev4
  date: 2021-02-27T09:25:57.224Z
- commits:
    - subject: Set default ASPM policy for photon-nano
      hash: 50db202be5a34f76c14d31a9a10f83089860346b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Set default ASPM policy for photon-nano
        changelog-entry: Set default ASPM policy for photon-nano
        Signed-off-by: Pelle van Gils <pelle@vangils.xyz>
        signed-off-by: Pelle van Gils <pelle@vangils.xyz>
      author: Pelle van Gils
      nested: []
  version: 2.69.1+rev3
  date: 2021-02-26T09:00:40.193Z
- commits:
    - subject: "linux-tegra: Remove patches for device SRD3 that has been moved"
      hash: fbb9dc3a2fdfd8af30f174bf8680eb572b653937
      body: |
        SRD3 is no longer part of this repository, so we can
        cleanup all its patches
      footer:
        Changelog-entry: "linux-tegra: Remove patches for device SRD3 that has been moved"
        changelog-entry: "linux-tegra: Remove patches for device SRD3 that has been moved"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.69.1+rev2
  date: 2021-02-23T16:24:11.300Z
- commits:
    - subject: Update meta-balena from v2.68.1 to v2.69.1
      hash: ddda8f1cd746c98e158080dab0abbd2af471636d
      body: |
        Update meta-balena from 2.68.1 to 2.69.1
      footer:
        Changelog-entry: Update meta-balena from v2.68.1 to v2.69.1
        changelog-entry: Update meta-balena from v2.68.1 to v2.69.1
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: Update balena-supervisor from v12.3.0 to v12.3.5
              hash: 8f8a57760b82a1378adc078c86bb25aeafd7d6e8
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supervisor from v12.3.0 to v12.3.5
                changelog-entry: Update balena-supervisor from v12.3.0 to v12.3.5
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: meta-balena-2.69.1
          date: 2021-02-03T23:42:05.644Z
        - commits:
            - subject: "openvpn: remove resin-ntp-config call from upscript.sh"
              hash: 958cd8f4bfc5d052d29c5d60c43e9ede58e39825
              body: >
                Running resin-ntp-config from openvpn upscript.sh is no longer

                necessary as it is now run automatically when config.json changes.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: "#2073"
                connects-to: "#2073"
                Changelog-entry: "openvpn: remove resin-ntp-config call from upscript.sh"
                changelog-entry: "openvpn: remove resin-ntp-config call from upscript.sh"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "resin-vars: trigger NTP config script on config.json changes"
              hash: 8dd222087f58c596bf3d30a956c985fcb0214baa
              body: |
                Add resin-ntp-config.service to config-json.service so that the
                resin-ntp-config script is automatically run on changes to
                config.json.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: "#2073"
                connects-to: "#2073"
                Changelog-entry: "resin-vars: trigger NTP config script on config.json changes"
                changelog-entry: "resin-vars: trigger NTP config script on config.json changes"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "resin-ntp-config: update script and add systemd service"
              hash: 7084f736b988706f71fe1d1ec95db6641be8a85e
              body: >
                Update the resin-ntp-config script to work with dynamic chrony

                source configuration. Any NTP sources configured by config.json

                are added to a chrony sources file. Changes to the sources file

                are picked up by chrony either when it starts up or at runtime

                using the chrony-helper script.


                A systemd service has been added to run the resin-ntp-config script

                once at boot. Previously the script was being run up to 8 times at

                boot via a NetworkManager dispatcher script.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: "#2073"
                connects-to: "#2073"
                Changelog-entry: "resin-ntp-config: update script and add systemd service"
                changelog-entry: "resin-ntp-config: update script and add systemd service"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "networkmanager: add improved dispatcher scripts for NTP handling"
              hash: 23e52eaca7f0983ac6da27289fc293e43e7dbebd
              body: >
                Update the existing DHCP dispatcher script for adding NTP
                sources to

                make use of dynamic chrony source configuration. Any DHCP configured

                NTP sources for a particular interface are added to a sources file on

                network 'up' or DHCP lease renewal events. Any DHCP configured NTP

                sources for a particular interface are deleted on network 'down'

                events. Changes to the sources file are picked up by chrony either

                when it starts up or at runtime using the chrony-helper script.


                Add a dispatcher script to trigger the chrony online/offline

                status on network 'up' and 'down' events. This will make chrony

                re-run an iburst for sources when the appropriate network interface

                comes back up.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: "#2073"
                connects-to: "#2073"
                Changelog-entry: "networkmanager: add improved dispatcher scripts for NTP
                  handling"
                changelog-entry: "networkmanager: add improved dispatcher scripts for NTP
                  handling"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "chrony: add sourcedir support and helper script"
              hash: d6c64b0a08b64593d6684605bd5268f28ff1b1c9
              body: >
                Add the 'sourcedir' parameter to the chrony configuration to
                support

                dynamic source configuration files. Any NTP source files that are

                created in 'sourcedir' (/run/chrony) can be used to update the chrony

                source configuration at runtime.


                Add a helper script to support the dynamic re-loading of chrony

                sources. This script uses the chrony 'reload sources' feature.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: "#2073"
                connects-to: "#2073"
                Changelog-entry: "chrony: add sourcedir support and helper script"
                changelog-entry: "chrony: add sourcedir support and helper script"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.69.0
          date: 2021-02-01T09:33:15.826Z
  version: 2.69.1+rev1
  date: 2021-02-15T15:33:09.610Z
- commits:
    - subject: Fix nvidia-container-toolkit to build with Go v1.12
      hash: a10e34862c098f0c733b901ae6693d2b43634898
      body: >
        Poky Dunfell is using Go v1.14 while meta-balena is still in v1.12. The

        -trimpath flag is introduced in v1.13 so we need to remove it from the

        build flags for the time being.


        Poky defaulted to using -trimpath in commit 2d0c2242136e8c823d58218844c6e082122d0bce
      footer:
        Changelog-entry: Fix nvidia-container-toolkit to build with Go v1.12
        changelog-entry: Fix nvidia-container-toolkit to build with Go v1.12
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: Fix nvidia-container-runtime to build with Go v1.12
      hash: 9b9941df002a986bc29600ff8fd602c207e6f1d1
      body: >
        Poky Dunfell is using Go v1.14 while meta-balena is still in v1.12. The

        -trimpath flag is introduced in v1.13 so we need to remove it from the

        build flags for the time being.


        Poky defaulted to using -trimpath in commit 2d0c2242136e8c823d58218844c6e082122d0bce
      footer:
        Changelog-entry: Fix nvidia-container-runtime to build with Go v1.12
        changelog-entry: Fix nvidia-container-runtime to build with Go v1.12
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.68.1+rev2
  date: 2021-02-11T17:52:17.597Z
- commits:
    - subject: Update meta-balena from v2.67.3 to v2.68.1
      hash: 78d83d315be01ec7a8c200286e4e09d86587975e
      body: |
        Update meta-balena from 2.67.3 to 2.68.1
      footer:
        Changelog-entry: Update meta-balena from v2.67.3 to v2.68.1
        changelog-entry: Update meta-balena from v2.67.3 to v2.68.1
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: Fix task ordering for the iwlwifi_firmware_clean task
              hash: 5d039b111a964e21a637a5c7806aea6bb510a43e
              body: >
                We need to make sure the firmware cleanup function runs before

                do_populate_sysroot otherwise do_populate_sysroot will race with it and

                will fail complaining about the missing firmware that

                iwlwifi_firmware_clean had just deleted at the same time.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix task ordering for the iwlwifi_firmware_clean task
                changelog-entry: Fix task ordering for the iwlwifi_firmware_clean task
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.68.1
          date: 2021-01-29T13:02:49.703Z
        - commits:
            - subject: Update NetworkManager to 1.28.0
              hash: 20e9c276f8d79b6051066e24b159c8bd9ffe3bc2
              body: >
                Fixes #2075


                Needed were a number of various changes to make the package compile properly:


                Removed is 0001-wwan-Set-MTU-based-on-what-ModemManager-exposes.patch that is now

                included upstream.


                Our patch for removing HTTPS connectivity checking warning is reworked for ease of

                maintainance. It now keeps the log entry, but changes it to debug level.


                Fixed are UPSTREAM_CHECK_* definitions as they referenced a wrong version number.


                The following additional configuration options were added/removed:


                *. Introspection is disabled through `--enable-introspection=no`. Other services do

                not depend on it, so it is safe to remove it. A related patch is no longer needed

                0002-Do-not-create-settings-settings-property-documentati.patch


                *. A new option for using firewalld zone for shared mode is disabled as we do not

                use firewalld.


                *. The polkit agent option no longer is available, so `--enable-polkit-agent` and

                `--disable-polkit-agent` are no longer defined.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update NetworkManager to 1.28.0
                changelog-entry: Update NetworkManager to 1.28.0
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
              nested: []
          version: meta-balena-2.68.0
          date: 2021-01-29T09:45:01.458Z
        - commits:
            - subject: "docs: mention balenaRootCA as a config.json parameter"
              hash: d0be88530c630d68f8582dce99442c6d94ba5455
              body: ""
              footer:
                Connects-to: https://github.com/balena-os/meta-balena/issues/2011
                connects-to: https://github.com/balena-os/meta-balena/issues/2011
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.67.6
          date: 2021-01-28T17:45:30.693Z
        - commits:
            - subject: replace busybox ps with procps [klutchell]
              hash: 00556af37cf241e2b95d9b719f1ab58cc9bbddb6
              body: >
                Replace busybox ps link with ps.procps without installing

                any other procps packages. This will avoid regression and bloat

                from swapping existing busybox links with procps variants.


                By using procps as docker expects we can properly handle ps args

                such as -e and -o to format output. Busybox is only capable of this

                when compiled in "desktop" mode.


                This upstream commit to poky has already split the ps binary into

                a separate procps package:


                - https://git.yoctoproject.org/cgit/cgit.cgi/poky/commit/?id=507a47a4e5077d5f8f76d9629be6b871dfd8eb90


                So for now we can copy this recipe at the commit above into compat branches

                and use that version until we pick up a branch newer than gatesgarth.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: https://github.com/balena-os/balena-engine/issues/236
                connects-to: https://github.com/balena-os/balena-engine/issues/236
                Changelog-entry: replace busybox ps with procps [klutchell]
                changelog-entry: replace busybox ps with procps [klutchell]
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.67.5
          date: 2021-01-27T18:47:18.617Z
        - commits:
            - subject: Update aufs4 and aufs5 kernel patches
              hash: 62231bee3dd12698522130b224371ff82a3de567
              body: |
                We update to the newest patch revisions from upstream
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update aufs4 and aufs5 kernel patches
                changelog-entry: Update aufs4 and aufs5 kernel patches
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.67.4
          date: 2021-01-27T11:08:07.030Z
  version: 2.68.1+rev1
  date: 2021-02-09T09:28:35.717Z
- commits:
    - subject: 'linux-tegra: revert: Port imx477 sensor driver changes"'
      hash: 0b26a7075e155691c060e424249b8c92b9a71d73
      body: |
        This reverts commit 37093b58463f1f2bdae0c800ef27bc64ecef4f70,
        testing with the hardware attached has been reported to work
        with this change, only the right dtb was necessary.

        See comments in: https://github.com/balena-os/balena-jetson/pull/132
      footer:
        Changelog-entry: 'linux-tegra: revert: Port imx477 sensor driver changes"'
        changelog-entry: 'linux-tegra: revert: Port imx477 sensor driver changes"'
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.67.3+rev7
  date: 2021-02-08T08:16:09.028Z
- commits:
    - subject: "jetson-dtbs: Add imx477 dtb for CTI Photon Nano"
      hash: c0cd185a89e99ddd6e9bd54a76ce5c7789cb8c5d
      body: ""
      footer:
        Changelog-entry: "jetson-dtbs: Add imx477 dtb for CTI Photon Nano"
        changelog-entry: "jetson-dtbs: Add imx477 dtb for CTI Photon Nano"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.67.3+rev6
  date: 2021-02-04T09:03:04.862Z
- commits:
    - subject: "tegra194-nxde-sdcard-flash: Update signed patch for 32.4.4"
      hash: 3ecb79973700123f169f926d544f1d66b4d62a2c
      body: |
        cboot from 32.4.4 now includes a few extra patches from
        the meta-tegra layer, and this breaks boot after HUP on the
        Xavier NX SD-CARD because the patched offsets no longer match.
        Update bindiff for signed boot blob to address this.
      footer:
        Changelog-entry: "tegra194-nxde-sdcard-flash: Update signed patch for 32.4.4"
        changelog-entry: "tegra194-nxde-sdcard-flash: Update signed patch for 32.4.4"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.67.3+rev5
  date: 2021-02-02T17:20:06.373Z
- commits:
    - subject: "linux-tegra: Update Spacely and Orbitty dtbs to 32.4.4"
      hash: fb5fd19d615dc13c8fa90eb9c6511865e27b8665
      body: ""
      footer:
        Changelog-entry: "linux-tegra: Update Spacely and Orbitty dtbs to 32.4.4"
        changelog-entry: "linux-tegra: Update Spacely and Orbitty dtbs to 32.4.4"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.67.3+rev4
  date: 2021-01-29T15:14:51.443Z
- commits:
    - subject: "hostapp-update-hooks: Add hooks for Nano 2GB"
      hash: 75c23dc6ed17fde3b73750eff17a20f0c8f08477
      body: ""
      footer:
        Changelog-entry: "hostapp-update-hooks: Add hooks for Nano 2GB"
        changelog-entry: "hostapp-update-hooks: Add hooks for Nano 2GB"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.67.3+rev3
  date: 2021-01-28T19:49:07.775Z
- commits:
    - subject: "nvidia-container-runtime: update library list to r32.4.4"
      hash: 9beb3a1a0fd6ee5352013412c9004233a66a0452
      body: ""
      footer:
        Changelog-entry: "nvidia-container-runtime: update library list to r32.4.4"
        changelog-entry: "nvidia-container-runtime: update library list to r32.4.4"
        Signed-off-by: Pelle van Gils <pelle@hwky.ai>
        signed-off-by: Pelle van Gils <pelle@hwky.ai>
      author: Pelle van Gils
      nested: []
    - subject: "linux-tegra: Update dtb files for photon-* to 32.4.4"
      hash: 4736e9448fc015a9568e0604fc784ac67e585ea4
      body: ""
      footer:
        Signed-off-by: Pelle van Gils <pelle@hwky.ai>
        signed-off-by: Pelle van Gils <pelle@hwky.ai>
        Changelog-entry: "linux-tegra: Update dtb files for photon-* to 32.4.4"
        changelog-entry: "linux-tegra: Update dtb files for photon-* to 32.4.4"
      author: Pelle van Gils
      nested: []
  version: 2.67.3+rev2
  date: 2021-01-24T16:08:22.106Z
- commits:
    - subject: Update meta-balena from v2.67.2 to v2.67.3
      hash: bed1a694659c1b34f7438b8bdf1cd94e8a3a66b0
      body: |
        Update meta-balena from 2.67.2 to 2.67.3
      footer:
        Changelog-entry: Update meta-balena from v2.67.2 to v2.67.3
        changelog-entry: Update meta-balena from v2.67.2 to v2.67.3
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "kernel-headers-test: Install python dependency"
              hash: 6b648fa36bb8f7b2f90799a9c331210e34d3c438
              body: |
                Some makefiles for the kernel modules build, like for
                instance the one in the kernel for the lec-px30 machine,
                want python to be available in the environment. Let's add
                it to the build dependencies.
              footer:
                Change-type: Patch
                change-type: Patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.67.3
          date: 2021-01-15T11:10:16.824Z
  version: 2.67.3+rev1
  date: 2021-01-22T10:52:25.367Z
- commits:
    - subject: Update meta-balena from v2.60.1 to v2.67.2
      hash: 74cba584e99e2463551b410e9034f1827bb3c234
      body: |
        Update meta-balena from 2.60.1 to 2.67.2
      footer:
        Changelog-entry: Update meta-balena from v2.60.1 to v2.67.2
        changelog-entry: Update meta-balena from v2.60.1 to v2.67.2
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: Fix pppd timeout when launched by NetworkManager
              hash: e86c83e9be007bbedf5bad8bb961931c4f4f649c
              body: >
                Fixes #1846


                UART modems (RaspberryPi HATs) are not working currently under

                balenaOS as NetworkManager times out while attempting to establish

                ppp connection. This is not a balenaOS specific issue.


                This commits adds a `connect ""` declaration to `/etc/ppp/options`

                to workaround this as the NULL default value causes the timeout.


                The connect option specifies an external script to establish the

                physical link. When using NetworkManager/ModemManager it is

                ModemManager that establishes the physical link before passing it

                to NetworkManager. Thus `connect` should be empty.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix pppd timeout when launched by NetworkManager
                changelog-entry: Fix pppd timeout when launched by NetworkManager
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
              nested: []
          version: meta-balena-2.67.2
          date: 2021-01-14T12:39:10.901Z
        - commits:
            - subject: "resin-device-register: Fix post provisioning state not reported"
              hash: 62016c3931c08cbc4c4bdb1e4069c6f9d9533b04
              body: >
                Starting with dee971c0dbeb6e8363f3e321af582e99627626e9, flasher

                images, which don't contain a supervisor version, try to register

                in the API using the parameter supervisor_version='null'.


                However, the API expects this parameter to be unset completely if

                there's no version to be reported during registration, otherwise

                the call fails and the device doesn't show up in dashboard during

                flashing or report the post-provisioning state.
              footer:
                Change-type: Patch
                change-type: Patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.67.1
          date: 2021-01-13T14:55:01.572Z
        - commits:
            - subject: Update balena-supervisor from v12.2.11 to v12.3.0
              hash: fc41d16085b331d032a3666fc25af7c43eee5369
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor from v12.2.11 to v12.3.0
                changelog-entry: Update balena-supervisor from v12.2.11 to v12.3.0
                Change-type: minor
                change-type: minor
                Signed-off-by: Felipe Lalanne <felipe@balena.io>
                signed-off-by: Felipe Lalanne <felipe@balena.io>
              author: Felipe Lalanne
              nested: []
          version: meta-balena-2.67.0
          date: 2021-01-12T13:41:49.881Z
        - commits:
            - subject: Respect custom CA in supervisor
              hash: 4cf82392c78d804a18737de80dcfa6f8f34d0494
              body: >
                This is necessary because node has its own built-in CA bundle
                and ignores

                the system-wide bundle. Bind-mount the system-wide bundle to the supervisor

                container as well to keep the previous behavior. Make it read-only though,

                any modifications should be performed by the host OS.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Respect custom CA in supervisor
                changelog-entry: Respect custom CA in supervisor
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.66.3
          date: 2021-01-12T09:38:46.408Z
        - commits:
            - subject: "README: Rename resin-logo to balena-logo."
              hash: 47a7a0ab9a99ea45b4fcf4e684d973088328eca9
              body: >
                The file rename happened in v2.51 but the README has not been
                updated

                accordingly.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.66.2
          date: 2021-01-11T17:30:40.806Z
        - commits:
            - subject: "kernel-devsrc: use upstream recipe starting with dunfell"
              hash: 1300a223f5b58dd4584b62e87df41ec72f783961
              body: |
                Remove the kernel-devsrc package from meta-balena and
                use the one from the upstream Poky project instead.

                Initially I hoped thud and warrior could also use the respective
                upstreams but I see several differences between the meta-balena
                version and the upstreams so I updated those compat layers
                as well.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "gen_mod_headers: add missing arch headers to tools"
              hash: 5485f1fbc901a04eedbcc3b72cc95fdfb2d03665
              body: >
                Upstream changes to the kernel have switched to a shared x86

                insn decoder required by tools/objtool so we must add those

                include and lib components to our target dir.


                https://lore.kernel.org/lkml/20190830201021.utzjr6cs5hoxygyi@treble/T/
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.66.1
          date: 2021-01-04T13:06:56.017Z
        - commits:
            - subject: "chrony: bump to version 4.0"
              hash: 67e8632a8a6c82dcf382b0204af40b79dd1a279a
              body: |
                Update chrony from version 3.4 to version 4.0.

                The new version has enhancements and new features that will
                help to improve time synchronisation, including:

                - the ability to add server pools via scripts using chronyc.
                - support for dynamic NTP source files that can be reloaded
                  as necessary (useful for DHCP and config.json sources).
                - source name options for improved handling of pool addresses.
                - repeat 'iburst' when a source is changed from offline to
                  online state.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: "chrony: bump to version 4.0"
                changelog-entry: "chrony: bump to version 4.0"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.66.0
          date: 2020-12-18T11:02:16.858Z
        - commits:
            - subject: "u-boot: Add required configuration for BalenaOS environment"
              hash: 401345c86a3a017dc548a94c7afa3977d547fc21
              body: >
                The BalenaOS u-boot environment patch requires u-boot to support
                importing

                and exporting of the environment as well as the fsuuid command.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.65.1
          date: 2020-12-17T10:39:35.947Z
        - commits:
            - subject: Update balena-supervisor from v12.1.1 to v12.2.11
              hash: 0f301c4bba35737149c6489b4cd6716506496372
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor from v12.1.1 to v12.2.11
                changelog-entry: Update balena-supervisor from v12.1.1 to v12.2.11
                Change-type: minor
                change-type: minor
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: meta-balena-2.65.0
          date: 2020-12-14T22:04:19.165Z
        - commits:
            - subject: Add IPV6 multicast routing capability
              hash: 510bb7a7107f538f56c35a87a7426e7c12a3cdb3
              body: >
                Add IPV6 multicast routing capability to the default
                configuration.


                Fixes #2051
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add IPV6 multicast routing capability
                changelog-entry: Add IPV6 multicast routing capability
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.64.4
          date: 2020-12-14T12:36:30.487Z
        - commits:
            - subject: 'Revert "resin-data.mount: Remove default dependencies"'
              hash: 0101e6289b2a05ab688db43f73772ebfeeb97c53
              body: >
                This reverts commit dc6cfa2e90b29b0fdcfc05c1b85e2196de4f950b.


                Once the core problem with the resin-data mount has been fixed this

                commit is no longer needed.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "hostapp-update-hooks: Add supervisor database fix"
              hash: f3e7e164cf095218c1f92f2afecdd186cbbdfadd
              body: >
                When adding hostapp extension support to mobynit, in:

                https://github.com/balena-os/meta-balena/commit/6be3f1153d56c1c0c21e6d84db7be70be96bcd10


                the supervisor database was relocated by mistake. On this version the database

                returns to its original place, and these hooks copy the old database to the

                new location to avoid data loss.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "resin-supervisor: Make sure the database directory exists"
              hash: d070fe38a3b2a91fcc7c07d716fa90fdd3e9d078
              body: >
                If this directory is removed by mistake, the supervisor will not
                be

                able to start.


                This commit checks the directory existence and creates it if required

                independently of whether the supervisor container is present.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: Correct the data partition mountpoint
              hash: 36dca74acc9e7db23b8980fff735360332927125
              body: |
                Correct the mount point for the resin-data directory.

                Fixes https://github.com/balena-os/meta-balena/issues/2070
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Correct the data partition mountpoint
                changelog-entry: Correct the data partition mountpoint
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.64.3
          date: 2020-12-11T07:52:52.415Z
        - commits:
            - subject: "meta-balena-common: kernel-resin: enable task-accounting by default"
              hash: d308c67666e612fad7e6bb7ac88d5bec2bfd8f9e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "meta-balena-common: kernel-resin: create task-accounting config"
              hash: ea3c787c5ad31af758844a0242a9d9baf1a47135
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.64.2
          date: 2020-12-10T10:19:16.893Z
        - commits:
            - subject: Update codeowners
              hash: d18fc8cdfab02a4c5016b29eca23b4f1f73c7e9b
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.64.1
          date: 2020-12-09T08:47:40.115Z
        - commits:
            - subject: "rust: remove merged fix for TUNE_FEATURES parsing"
              hash: 9a4ea159051825461007cff90c7c370ce74d7680
              body: >
                https://github.com/meta-rust/meta-rust/issues/240

                https://github.com/meta-rust/meta-rust/pull/242


                The fix for TUNE_FEATURES parsing has been merged in meta-rust master

                and should be present when they fork for dunfell.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "systemd: update patches to avoid fuzzy matching"
              hash: 03d64e57466c66acd710b089c4ae8d777f963554
              body: >
                The content applied by the patches has not changed, just the
                context

                in order to properly inject changes without fuzzy matching since the source

                files have changed upstream.


                `devtool modify systemd`

                `devtool finish --force-patch-refresh systemd ../layers/meta-balena/meta-balena-dunfell/`
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "systemd: add missing udev rules"
              hash: 02b48c9523ff5ed36cc2cfd94225ea4234649371
              body: >
                https://github.com/balena-os/poky/commit/e3cd4e584239c207e3c82bdf5d7216d26fd28fc7


                add missing udev rules since systemd began including rules explicitly
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "systemd: avoid conflicts with timeinit package"
              hash: 97d14daa8f1bc8887883fd56c1512bdd51b2e351
              body: |
                Both systemd and timeinit attempt to install time-set.target so
                we will remove the systemd version during install.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "dropbear: prevent conflicts with openssh"
              hash: 169c1652e46e3a31d4f96bb98cbcf8240f3453ca
              body: >
                [https://github.com/balena-os/poky/commit/d365948ebd76625f82ef04e77d35bcfeced42fec]


                Dropbear is still required to migrate keys. Avoid the upstream conflict with openssh.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "networkmanager: add bash requirement"
              hash: 9d380ec203a80afc15b4c902c36da7c25300515d
              body: |
                99dhcp_ntp in networkmanager requires bash
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "networkmanager: remove deprecated bluetooth inherit"
              hash: 1993db9f3027936119248bd193e350456ba035bc
              body: >
                In poky dunfell and newer the bluetooth class has been
                deprecated.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "meta-balena-common: replace distro_features_check with features_check"
              hash: c907611d66aa4d2ff27f9940178cbcdbc2273459
              body: >
                Replace distro_features_check that was deprecated upstream in
                dunfell.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "avahi: remove example services"
              hash: 317c7a6404195e78a21c76e43f8743a47cf542d1
              body: >
                In dunfell the example ssh service files don't exist so avoid
                failing

                during do_install for services that we don't use anyway.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "u-boot: disable u-boot-initial-env"
              hash: 9346f58cdd73924aec4279861ff43611c125ab5d
              body: >
                https://github.com/balena-os/poky/commit/d7b8ae3faa9344f2ada22e0402066c2fff5958c6


                We have no use for u-boot-initial-env and enabling it would require

                additional changes in do_compile to match the commit linked above.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "dnsmasq: fix build after y2038 changes in glib"
              hash: fca86497476cf3d275ae3d4f8274d51b6b96a9b8
              body: >
                SIOCGSTAMP is defined in linux/sockios.h, not asm/sockios.h

                http://thekelleys.org.uk/gitweb/?p=dnsmasq.git;a=commit;h=3052ce208acf602f0163166dcefb7330d537cedb
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "bluez5: replace experimental flag patch with service conf"
              hash: 8d5a67522eda56acb583c5ab26f6144fef7038a1
              body: >
                In dunfell, rather than patching the bluetooth.service.in file,

                we will just override the ExecStart value via bluetooth.conf.systemd
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "mtools: remove initialize-direntry patch"
              hash: c35b98165cc698188b978c34c7fb20f58a4c83e1
              body: >
                Remove initialize-direntry.patch that has been fixed in mtools
                4.0.23
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "meta-balena-dunfell: dunfell compatibility layer support"
              hash: e8c34101f13d0327ac278207c8d7d500214f5f6f
              body: >
                Create meta-balena-dunfell layer base by copying
                meta-balena-warrior
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: "meta-balena-dunfell: dunfell compatibility layer support"
                changelog-entry: "meta-balena-dunfell: dunfell compatibility layer support"
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.64.0
          date: 2020-12-07T16:42:10.390Z
        - commits:
            - subject: "start-resin-supervisor: fix directory creation for 'balena start'"
              hash: ce9e4f211a2356a866edee5ca3dbada3faa27689
              body: >
                Ensure that the /var/log/supervisor-log directory exists prior
                to

                running 'balena start --attach resin_supervisor' as well as

                'runSupervisor'.


                Updates to the 'start-resin-supervisor' script in v2.62.1 removed

                the check for updates to the REGISTRY_ENDPOINT variable. Previously

                this had been detected as changing every time the script was run

                due to a comparison between 'null' and ''. This resulted in the

                'start-resin-supervisor' script always running through the

                'runSupervisor' path. With this variable check removed, and no config

                updates being detected, the script was trying to run

                'balena start --attach resin_supervisor' and failing due to the

                absence of the /var/log/supervisor-log directory. To fix this problem we

                unconditionally test for and create this directory (if necessary) so

                that it is available regardless of the path taken through the script.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: "#2064"
                connects-to: "#2064"
                Changelog-entry: "start-resin-supervisor: fix directory creation for 'balena
                  start'"
                changelog-entry: "start-resin-supervisor: fix directory creation for 'balena
                  start'"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.63.1
          date: 2020-12-04T17:24:10.321Z
        - commits:
            - subject: "zram-swap-init: adjust default to lesser of 50%/4GB"
              hash: 155af3386029a0e76b74ee60d58c32ba72073a82
              body: >
                Copied from Fedora zram defaults [0]. This may be adjusted later
                after

                doing our own profiling.


                [0] https://fedoraproject.org/wiki/Changes/SwapOnZRAM#Default_zram_device_configuration:
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.63.0
          date: 2020-11-30T21:37:10.077Z
        - commits:
            - subject: "chrony: use a non-privileged UDP source port"
              hash: 447449808ef08577712db43b1042599ad4d7d23c
              body: >
                Change the chrony UDP source port from 123 (privileged) to

                1234 (non-privileged).


                Previous issues with Phicomm routers had required the use of a fixed

                UDP source port, so port 123 was chosen as this is used by both ntpd

                and ntpdate. However recent testing has shown that using a privileged

                port such as 123 can cause issues on other networks. By changing the

                port to be non-privileged (i.e. 1234) we can satisfy both network

                requirements.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: "#2000"
                connects-to: "#2000"
                Changelog-entry: "chrony: use a non-privileged UDP source port"
                changelog-entry: "chrony: use a non-privileged UDP source port"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.62.2
          date: 2020-11-25T13:53:40.649Z
        - commits:
            - subject: "supervisor: remove old/unnecessary balenaRootCA references"
              hash: 65c7c232082185ddecbedca579327f6c80686bc5
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.62.1
          date: 2020-11-19T20:26:12.667Z
        - commits:
            - subject: "systemd/timeinit: improve RTC handling at boot"
              hash: 1c1374f3c8b5914b7e645f8068ebafc8b4cbbe3a
              body: >
                The handling of the RTC at boot time has been improved as
                follows:


                1) A 'timeinit-rtc.sh' script has been added to improve logging of
                   system time updates from the RTC and to prevent system time
                   being set when RTC time is behind system time. If RTC time is
                   found to be behind system time a warning is issued regarding
                   potential RTC battery failure.

                2) The 'timeinit-rtc.service' has been added to the new systemd
                   'time-set.target'. This allows for better control and
                   co-ordination between the various time source services.

                3) Systemd dependencies have been updated to ensure that the
                   RTC is the final time service before the 'time-set.target'
                   is reached.

                The 'timeinit-buildtime.sh' script has been updated to use the

                new support functions provided by the 'os-helpers-time' script.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: "#2048"
                connects-to: "#2048"
                Changelog-entry: "systemd/timeinit: improve RTC handling at boot"
                changelog-entry: "systemd/timeinit: improve RTC handling at boot"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "os-helpers: add support functions for system date/time"
              hash: 66d4d61b4e00f9da99de041d262a1f7b4bf70d37
              body: |
                Add helper functions for manipulating system date/time.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.62.0
          date: 2020-11-13T10:26:52.111Z
        - commits:
            - subject: "modemmanager: add u-blox-modeswitch scripts"
              hash: a30ab44f40f1c059e64075c567fc388800d960a4
              body: >
                Add the u-blox-modeswitch scripts to modemmanager. The scripts
                are

                generic and therefore it makes sense to provide them as part of

                meta-balena instead of balena-raspberrypi.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: "#510 (in balena-raspberrypi)"
                connects-to: "#510 (in balena-raspberrypi)"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.61.3
          date: 2020-11-05T17:05:16.519Z
        - commits:
            - subject: Check the API for configuration changes once a day
              hash: 19f6942a9864c6393a36af36aea21d685ddb9819
              body: ""
              footer:
                Connects-to: "#2018"
                connects-to: "#2018"
                Changelog-entry: Check the API for configuration changes once a day
                changelog-entry: Check the API for configuration changes once a day
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.61.2
          date: 2020-11-05T14:41:20.617Z
        - commits:
            - subject: Enable kernel user space probes support
              hash: 8af9bc8fbc58096d986d8db7df81a0c9505dc420
              body: >
                This is needed to make use of eBPF and all the debugging and
                extra

                features it brings.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Enable kernel user space probes support
                changelog-entry: Enable kernel user space probes support
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.61.1
          date: 2020-11-04T21:12:06.448Z
        - commits:
            - subject: Update balena-supervisor from v11.14.0 to v12.1.1
              hash: fd41103bc0538f53ac37bfb2ce6203f712090bc7
              body: |
                Update balena-supervisor from v11.14.0 to v12.1.1
              footer:
                Changelog-entry: Update balena-supervisor from v11.14.0 to v12.1.1
                changelog-entry: Update balena-supervisor from v11.14.0 to v12.1.1
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested:
                - commits:
                    - subject: Use root mount point to find device-type.json
                      hash: 9d19a457017b1f696579f57569ec4cfadab3b385
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-12.1.1
                  date: 2020-10-28T13:03:20.901Z
                - commits:
                    - subject: Change log source from docker to journalctl
                      hash: 2c83864f22b01e7196f6ed321c96f6cb9f40593b
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Thomas Manning <thomasm@balena.io>
                        signed-off-by: Thomas Manning <thomasm@balena.io>
                      author: Thomas Manning
                      nested: []
                  version: balena-supervisor-12.1.0
                  date: 2020-10-28T06:12:20.363Z
                - commits:
                    - subject: Change source of deviceType to device-type.json
                      hash: f5183df35677f091f1374c3f6e86706b141471f3
                      body: |
                        The source of truth for the device-type should be
                        device-type.json instead of config.json
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Felipe Lalanne <felipe@balena.io>
                        signed-off-by: Felipe Lalanne <felipe@balena.io>
                        Connects-to: "#1472"
                        connects-to: "#1472"
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.0.9
                  date: 2020-10-27T12:43:11.383Z
                - commits:
                    - subject: Fixed evaluating if updates are needed to reach target state
                      hash: 77333f1e110070f17f4bf95c1554075c94a35d63
                      body: ""
                      footer:
                        Closes: "#1476"
                        closes: "#1476"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.0.8
                  date: 2020-10-26T18:56:16.649Z
                - commits:
                    - subject: Improved log message when networks do not match
                      hash: edf23871d9a057b9bae8837f3ee39d7401247514
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.0.7
                  date: 2020-10-19T16:04:51.506Z
                - commits:
                    - subject: Fixes check allowing preloading in local (unmanaged) mode
                      hash: 0fd9b6376251c73f2adfd37ec80d2145178683d6
                      body: |
                        * adds apiEndpoint empty string check
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: ab77
                      nested: []
                    - subject: Handle delete of multiple images with same dockerImageId
                      hash: 4795c336d055862706be42ebb544caef93d55e35
                      body: >
                        A docker-compose.yml with the following structure


                        ```

                        version: '2.1'

                        services:
                          app_1:
                            build: ./noisy-1
                            image: noisy1
                          app_2:
                            build: ./noisy-1
                            image: noisy1
                          app_3:
                            build: ./noisy-1
                            image: noisy1
                        ```


                        Will lead to the supervisor creating multiple image database entries

                        with the same dockerId (this is because of how the engine handles this

                        particular case). This case is not handled by the removal process

                        leading to image pile up and increased disk usage.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Felipe Lalanne <felipe@balena.io>
                        signed-off-by: Felipe Lalanne <felipe@balena.io>
                        Connects-to: "#1434"
                        connects-to: "#1434"
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.0.6
                  date: 2020-10-16T22:32:07.462Z
                - commits:
                    - subject: Improve calculation for used system memory
                      hash: dd5f62227a0b0d2024db924e7028c9fec8b2b1d9
                      body: >
                        The memory information reported by the supervisor
                        currently

                        estimates the value of used memory as `MemTotal - MemFree`.

                        However, linux systems will try to cache and buffer as much

                        memory as possible, which will affect the output of `MemFree`

                        (from /proc/meminfo) and in consequence the memory usage seen

                        by the user on the dashboard, which will appear much greater than

                        it is.


                        The correct calculation should be `MemTotal - MemFree - Buffers - Cached`,

                        which the calculation performed by `htop` and the `free` commands.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Felipe Lalanne <felipe@balena.io>
                        signed-off-by: Felipe Lalanne <felipe@balena.io>
                        Connects-to: "#1471"
                        connects-to: "#1471"
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.0.5
                  date: 2020-10-14T16:19:41.551Z
                - commits:
                    - subject: Don't require an existing supervisor container to sync
                      hash: 629b410e10fb6590806d546ff94101951ec6c9a2
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-12.0.4
                  date: 2020-10-13T09:49:51.370Z
                - commits:
                    - subject: Refactor system information filtering
                      hash: a2ceb5c93189704beaf8b4f5c8b71c46d8e2a966
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                    - subject: "tests: Clean up and consistify naming scheme"
                      hash: 9e0c99e797fa379c66b7312b40a17d9d31f5ce79
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-12.0.3
                  date: 2020-10-12T14:46:39.730Z
                - commits:
                    - subject: Attempt a state report once every maxReportFrequency
                      hash: 0e3c0263922043b9d53a7eb3545622106f10100c
                      body: >
                        With the addition of the system information feature (CPU
                        temp) etc if

                        there wasn't any changes in the docker or config state of the device,

                        updates in system information would not be sent to the API. Now we

                        attempt to send data once every maxReportFrequency (although this does

                        not mean that we will be sending data that often, we still only send the

                        delta, if one exists)
                      footer:
                        Change-type: patch
                        change-type: patch
                        Closes: "#1481"
                        closes: "#1481"
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                    - subject: Remove superfluous current state reporting code from api-binder
                      hash: 975129188a9fcb11a081f7ba75a1b8b973499a21
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-12.0.2
                  date: 2020-10-12T10:55:40.890Z
                - commits:
                    - subject: Add features label `io.balena.features.journal-logs`
                      hash: 1eeff698aca56558fa09832b9bcb02c99e275dbe
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Thomas Manning <thomasm@balena.io>
                        signed-off-by: Thomas Manning <thomasm@balena.io>
                      author: Thomas Manning
                      nested: []
                  version: balena-supervisor-12.0.1
                  date: 2020-10-12T05:41:14.895Z
                - commits:
                    - subject: "version: drop SUPERVISOR_VERSION env var"
                      hash: 8e65466f2d8540918b1fa8d8af88d0c21fcbf7f8
                      body: >
                        In order to make supervisor upgrades more transparent,
                        lets move away

                        from this env var since it requires a container restart any time the supervisor

                        is upgraded. We should ultimately move towards providing the supervisors

                        set of capabilities, but that can come later
                      footer:
                        Connects-to: "#1447"
                        connects-to: "#1447"
                        Change-type: major
                        change-type: major
                        Signed-off-by: Matthew McGinn <matthew@balena.io>
                        signed-off-by: Matthew McGinn <matthew@balena.io>
                      author: Matthew McGinn
                      nested: []
                  version: balena-supervisor-12.0.0
                  date: 2020-09-29T15:25:15.693Z
                - commits:
                    - subject: Fix supervisor deadlock during migration
                      hash: adffde932ec28b114a5821b9ae332a42bb330be2
                      body: >
                        Due to the singleton work, when performing migration
                        M00005 and there

                        are apps with services created in the database, a deadlock occurs

                        during database initialization due to a circular

                        dependency for generating scoped keys.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Felipe Lalanne <felipe@balena.io>
                        signed-off-by: Felipe Lalanne <felipe@balena.io>
                        Connects-to: "#1468"
                        connects-to: "#1468"
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-11.14.8
                  date: 2020-09-29T03:00:51.902Z
                - commits:
                    - subject: Correctly evaluate if scheduledApply.delay is not set
                      hash: 90981a00bed100e1496dc71bf0631bc0ab04ffa7
                      body: ""
                      footer:
                        Closes: "#1428"
                        closes: "#1428"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.14.7
                  date: 2020-09-25T17:16:42.247Z
                - commits:
                    - subject: Fix config checks for ConfigFS backend
                      hash: a5f3002e708c949b6de3c8ba495b2a89c13214fc
                      body: >
                        When trying to apply SSDT overlays in Up Board, the
                        supervisor currently

                        gets stuck in a loop trying to apply target state. See #1465


                        This was due to a bug in parsing the configuration, which lead to

                        the method bootConfigChangeRequired returning true when no change was

                        needed.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Felipe Lalanne <felipe@balena.io>
                        signed-off-by: Felipe Lalanne <felipe@balena.io>
                        Connects-to: "#1465"
                        connects-to: "#1465"
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-11.14.6
                  date: 2020-09-24T19:51:09.936Z
                - commits:
                    - subject: "mixpanel: superisor_version -> supervisor_version"
                      hash: eebadebb53af68d9b63c948e59c1c78fb38302aa
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Matthew McGinn <matthew@balena.io>
                        signed-off-by: Matthew McGinn <matthew@balena.io>
                      author: Matthew McGinn
                      nested: []
                  version: balena-supervisor-11.14.5
                  date: 2020-09-24T14:47:47.663Z
                - commits:
                    - subject: "api: Implement scoped Supervisor API keys"
                      hash: c08de8701e49f417d2fc5849d237b9ed69b438e2
                      body: >
                        Each service, when requesting access to the Supervisor
                        API, will

                        now get an individual key which can be scoped to specific resources.

                        In this iteration the default scope will be to the application that

                        the service belongs to.


                        We also have a `global` scope which is used by the cloud API when in

                        managed mode.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.14.4
                  date: 2020-09-18T13:02:39.469Z
                - commits:
                    - subject: Clarify docs for toggling update lock override from dashboard
                      hash: 1b51db06c118ab4c60296f394e854436584c6437
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: M. Casqueira
                      nested: []
                  version: balena-supervisor-11.14.3
                  date: 2020-09-17T22:25:21.020Z
                - commits:
                    - subject: Refactor extra_uEnv backend to match with more devices
                      hash: 07e644d0b69f412fb14aeaba17914b9eacd6477f
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.14.2
                  date: 2020-09-15T18:25:31.240Z
                - commits:
                    - subject: "application-manager: Convert to a singleton"
                      hash: 96c68166a1e1d9b400fca84d33910d526009ecfd
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Rich Bayliss
                      nested: []
                    - subject: "device-state: Convert to a singleton"
                      hash: e3864915bcf3b8c2865f3c14d2ad85023218db3c
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Rich Bayliss
                      nested: []
                    - subject: "api-binder: Convert to a singleton"
                      hash: d50f7791e1f89750a35791c1ea3bd4a7472da9a1
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.14.1
                  date: 2020-09-14T10:26:09.557Z
          version: meta-balena-2.61.0
          date: 2020-11-04T13:01:10.938Z
  version: 2.67.2+rev1
  date: 2021-01-15T11:40:34.732Z
- commits:
    - subject: "resin-image: Install tegra-udrm probeconf file for NX Devkit"
      hash: 9de340594c468f32710b24eb6659d837b1f17a2c
      body: |
        This is present in the official image for the NX Devkit,
        let's add it here too.
      footer:
        Changelog-entry: "resin-image: Install tegra-udrm probeconf file for NX Devkit"
        changelog-entry: "resin-image: Install tegra-udrm probeconf file for NX Devkit"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.60.1+rev2
  date: 2020-11-24T15:33:22.753Z
- commits:
    - subject: Update meta-balena from v2.58.6 to 2.60.1
      hash: 9301cdd1f9835ad213a1f6e147dcce003628f8e5
      body: |
        Update meta-balena from 2.58.6 to 2.60.1
      footer:
        Changelog-entry: Update meta-balena from v2.58.6 to 2.60.1
        changelog-entry: Update meta-balena from v2.58.6 to 2.60.1
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "chrony: set the source UDP port for NTP requests to 123"
              hash: 6b95bd55f12054d996a412e7a6bc202e518b4e29
              body: >
                By default chrony uses a random UDP source port for each NTP
                request.

                This can cause problems with particular routers/firewalls (issues have

                been reported for the Phicomm KE 2P).


                The chrony `acquisitionport` configuration setting has been added

                to the chrony.conf file to change the UDP source port for NTP requests

                to 123 (this is the same as the default source port used by both

                ntpdate and ntpd).
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: "#2000"
                connects-to: "#2000"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.60.1
          date: 2020-10-30T11:34:35.642Z
        - commits:
            - subject: "chrony: don't restore time from drift file or RTC"
              hash: 5a4842786f365c9d167f29fd310427b4f0bb61b6
              body: >
                Drop the '-s' command line parameter from chronyd as:

                a) restoring time from the drift file is no longer necessary due to

                the fake-hwclock service, and

                b) restoring time from the RTC is already covered by the timeinit-rtc

                service.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "systemd/timeinit: add fake.hwclock to maintain system time over
                reboots"
              hash: 96c2c495819ba6175261a5179e1cdb4673552e6c
              body: >
                In order to produce sensible timestamps for journald log
                messages:

                a) the system time needs to be maintained correctly over a reboot, and

                b) the system time needs to be set before journald is started.


                Currently the system time is maintained over reboots on systems

                without an RTC using the last modified time of the chrony drift file.

                However there are a couple of issues with this approach:


                a) /var/lib/chrony/ is not mounted early enough in the boot process

                to be available for setting the time before journald is started.

                b) there is an issue with the current systemd dependencies that result

                in the last modified time of the drift file not being updated when the

                system is shutdown or rebooted (see #1995).


                The Debian fake-hwclock service (as used by Raspberry Pi OS) has been

                added to overcome these issues.


                The fake-hwclock service will save and restore the system time from

                the fake-hwclock.data file (in /etc/fake-hwclock/). The system time

                is loaded from this file at boot and saved to it on shutdown. An

                additional timer service has been added to update the file on an

                hourly basis to cater for unexpected shutdown scenarios, e.g. power

                failure.


                The timeinit-timestamp service has improved logging and has been

                renamed to timeinit-buildtime for clarity.


                A new time-set.target has been added as per upstream systemd and

                the fake-hwclock and timeinit-buildtime services have been added

                to it.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: "#1367 #1919"
                connects-to: "#1367 #1919"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "resin-mounts: add bind mount service for /etc/fake-hwclock"
              hash: 394aa52f77ec222e6fda856a92cd499bd464fa07
              body: >
                Add a persistent r/w location (root-overlay/etc/fake-hwclock/)
                to

                the resin-state partition for storage of the fake-hwclock.data file.

                This file is used by the fake-hwclock service to load the system

                time at boot and save the system time on shutdown.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.60.0
          date: 2020-10-29T14:25:50.275Z
        - commits:
            - subject: Add host extensions support
              hash: 1d33429f0bc925bc97b4b7820aeb812eac9098d2
              body: >
                Add a new section that described the host extensions
                functionality.


                Fixes #1984
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add host extensions support
                changelog-entry: Add host extensions support
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "packagegroup-resin: Add hostapp extensions update script"
              hash: a03e5c9eed5105c5af85c79df29546ec641d873c
              body: >
                This commit adds the update-hostapp-extensions utility. It can
                be run

                with:

                 systemd-run update-hostapp-extensions -r
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "hostapp-extensions-update: Add host extensions update script"
              hash: 0fe293eb118913e667b52b2f6df032227719efc8
              body: >
                This script triggers an installation or update of the hostapp
                extensions

                in the system.


                The list of hostapp extensions to install can either be passed to the

                script or it will use the ones set in config.json or hostapp-extensions.conf

                in that order.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "resin-vars: Parse the HOSTEXT_IMAGES variable from config.json"
              hash: 761f517f955f829e12b2c7f0a0f88830ded39e13
              body: >
                This variable allows the hostapp extensions updater script to
                update the

                hostapp extensions in the system.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "docker-disk: Add the host extension images to the data partition"
              hash: cd44a94cf1646828832070417a2deb9236b0f5ee
              body: >
                Host extension images contain extra content that is overlayed
                over the

                root filesystem at boot.


                This commits adds the default host extensions to the data partition

                image, stores their repository tags in the /etc directory, and creates

                the containers so that mobynit can mount the container filesystems on

                boot.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "docker-disk: Generalize hostapp platform variable"
              hash: 416544bd9c7b7e9080857dc0258668f388a55aa7
              body: >
                Rename HELLO_PLATFORM to HOSTAPP_PLATFORM so it can be used with
                any

                app type.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "initrdscripts: Busybox switch_root does not support -c argument"
              hash: a62a8189825de9dbcf52dbb3116d213fc7ceb84f
              body: >
                Calling busybox switch_root in this way has always been
                complaining but

                the error log did not get to the console.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "resin-filesystem-expand: Omit fs check and resize if partition is
                mounted"
              hash: d70fbd050e5a1f7c695782b99187d583103111e0
              body: >
                Now that the data partition will be mounted from the initramfs
                for host

                extensions support, this script will only run if something went wrong.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "initrdscripts: Expand the resin-data filesystem"
              hash: 00cad826c157ac2d5c13137fb1023f1eb7570c58
              body: >
                As the resin-data partition will be mounted in the initramfs,
                its

                filesystem needs to be expanded before that.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "initrdscripts: Add resin-data to fs UUID generation"
              hash: d2794dd2d559ca0c55a4cbab9ae5ef3c01ebdcf3
              body: >
                The resin-data partition will be mounted in the initramfs for
                the host

                extension support so the UUID generation needs to happen before that.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "resin-data.mount: Remove default dependencies"
              hash: dc6cfa2e90b29b0fdcfc05c1b85e2196de4f950b
              body: >
                With the data partition being mounted in the initramfs to
                support host

                extensions, the runtime systemd-udev no longer sees the resin-data mount

                event and this mount is blocked.


                This is resolved by not adding the default dependency on the block device.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "packagegroup-resin: Add independent mobynit package to image"
              hash: 08e15adb2f21c330b9c92cef527e23770a6fe521
              body: |
                The mobynit tool also needs to be in resin-image.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-engine: Do not build mobynit"
              hash: 29844ed3bd936c581e20b72df133a2b6ed498512
              body: |
                The mobynit package has now been moved to an independent recipe.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "mobynit: Fix source directory"
              hash: e6dc1b20c45ffdbcc33f82b2ef78f46715317b06
              body: |
                The Go class in mobynit predates Go modules support.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "mobynit: Separate recipe from balena-engine"
              hash: 6be3f1153d56c1c0c21e6d84db7be70be96bcd10
              body: >
                This commit adds a new recipe to build mobynit independently
                from balena-engine.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.59.0
          date: 2020-10-27T12:04:22.881Z
  version: 2.60.1+rev1
  date: 2020-11-19T14:00:28.744Z
- commits:
    - subject: Update balena-yocto-scripts to v1.9.0
      hash: 2d8f8b678fa8db4ded89501b362a11c5209ee58e
      body: ""
      footer:
        Changelog-entry: Update balena-yocto-scripts to v1.9.0
        changelog-entry: Update balena-yocto-scripts to v1.9.0
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.58.6+rev5
  date: 2020-11-09T08:27:20.399Z
- commits:
    - subject: Allow to build some graphics meta-tegra recipes
      hash: b1a644c543f53a980c9b3a772b2a0c25e9af0e60
      body: |
        We are still masking individual recipes in recipes-graphics, but we now
        need to use some to build tegra libraries.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Allow to build some graphics meta-tegra recipes
        changelog-entry: Allow to build some graphics meta-tegra recipes
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.58.6+rev4
  date: 2020-11-04T21:04:05.819Z
- commits:
    - subject: "coffee files: Rename resin occurrences in docs links"
      hash: 843a17314e33c3cd5b09d6ee519774d1fb132eca
      body: ""
      footer:
        Changelog-entry: "coffee files: Rename resin occurrences in docs links"
        changelog-entry: "coffee files: Rename resin occurrences in docs links"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.58.6+rev3
  date: 2020-11-04T16:01:41.072Z
- commits:
    - subject: "linux-tegra: Add BT and WiFi for NX SDCARD"
      hash: 78abb8a362107f5f98d6334e16817ff865c0b793
      body: ""
      footer:
        Changelog-entry: "linux-tegra: Add BT and WiFi for NX SDCARD"
        changelog-entry: "linux-tegra: Add BT and WiFi for NX SDCARD"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.58.6+rev2
  date: 2020-10-29T07:44:39.155Z
- commits:
    - subject: Update meta-balena from v2.58.3 to v2.58.6
      hash: 0b128a797ed53b72abb46827a17339f1ef8b556d
      body: |
        Update meta-balena from 2.58.3 to 2.58.6
      footer:
        Changelog-entry: Update meta-balena from v2.58.3 to v2.58.6
        changelog-entry: Update meta-balena from v2.58.3 to v2.58.6
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "readme: DCHP -> DHCP"
              hash: 9694909d8eb0dea7f775eeb5a92546f00b381909
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.58.6
          date: 2020-10-15T13:43:08.320Z
        - commits:
            - subject: "bootfiles: blacklist proper grub configuration backend"
              hash: 1362d9916b0b7b414b9d920296021379e34f00be
              body: ""
              footer:
                Connects-to: "#2022"
                connects-to: "#2022"
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.58.5
          date: 2020-10-13T14:20:39.972Z
        - commits:
            - subject: "docker-disk: Allow expanding data filesystem on 2TB disks"
              hash: 62b3763b44dcd9397f964d0812b7292885b04f66
              body: |
                Switch to 4k block size for the resin-data filesystem
                so it can be expanded to sizes greater than 1023GiB.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.58.4
          date: 2020-10-05T12:38:50.221Z
  version: 2.58.6+rev1
  date: 2020-10-23T06:35:04.838Z
- commits:
    - subject: "jetson-xavier: Add AGX to the device name"
      hash: 697f2d3dfeced0c6eb5feeff323719bbb4d6ffc8
      body: |
        Do so to avoid any confusion about the device
        type.
      footer:
        Changelog-entry: "jetson-xavier: Add AGX to the device name"
        changelog-entry: "jetson-xavier: Add AGX to the device name"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.58.3+rev7
  date: 2020-10-21T12:34:04.849Z
- commits:
    - subject: "linux-tegra: Add gasket driver for Jetson Nano"
      hash: 137d4557e5b233b6c926147cd9a7621281390b26
      body: ""
      footer:
        Changelog-entry: "linux-tegra: Add gasket driver for Jetson Nano"
        changelog-entry: "linux-tegra: Add gasket driver for Jetson Nano"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.58.3+rev6
  date: 2020-10-19T09:06:26.281Z
- commits:
    - subject: "hostapp-update-hooks: Preserve odm value during HUP for TX2"
      hash: c80e2a67489eee1e4fe35eb9f00e443c42ba5cef
      body: |
        Also, check if an update is necessary before writing
        to any raw partition.
      footer:
        Changelog-entry: "hostapp-update-hooks: Preserve odm value during HUP for TX2"
        changelog-entry: "hostapp-update-hooks: Preserve odm value during HUP for TX2"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.58.3+rev5
  date: 2020-10-12T09:22:14.322Z
- commits:
    - subject: fix machine overrides for photon-xavier-nx
      hash: 9d21df6899e595b4aeab4cc9a939ae6c564c669a
      body: |
        With the new include hierarchy in meta-tegra's machine configs:
        OE4T/meta-tegra@5f70dc8
        'jetson-xavier-nx-devkit-emmc' is not appended to MACHINEOVERRIDES when
        including jetson-xavier-nx-devkit-emmc.conf.
        Append it here to assure statements for 'jetson-xavier-nx-devkit-emmc'
        are applied for this machine.
      footer:
        Changelog-entry: fix machine overrides for photon-xavier-nx
        changelog-entry: fix machine overrides for photon-xavier-nx
        Signed-off-by: Pelle van Gils <pelle@hwky.ai>
        signed-off-by: Pelle van Gils <pelle@hwky.ai>
      author: Pelle van Gils
      nested: []
  version: 2.58.3+rev4
  date: 2020-10-08T19:07:49.897Z
- commits:
    - subject: "tegra194-nxde-flash-dry: Update boot0 signing for Xavier NX 32.4.3"
      hash: 12957c6e6edd4ae39b4e29948fb53a21e231c494
      body: ""
      footer:
        Changelog-entry: "tegra194-nxde-flash-dry: Update boot0 signing for Xavier NX 32.4.3"
        changelog-entry: "tegra194-nxde-flash-dry: Update boot0 signing for Xavier NX 32.4.3"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.58.3+rev3
  date: 2020-10-05T11:33:31.553Z
- commits:
    - subject: "linux-tegra: Update photon-nx dtb to 32.4.3"
      hash: 95d2ffe2eee4d74fd50a55775db9fac9a7344f85
      body: ""
      footer:
        Changelog-entry: "linux-tegra: Update photon-nx dtb to 32.4.3"
        changelog-entry: "linux-tegra: Update photon-nx dtb to 32.4.3"
        Signed-off-by: Pelle van Gils <pelle@hwky.ai>
        signed-off-by: Pelle van Gils <pelle@hwky.ai>
      author: Pelle van Gils
      nested: []
    - subject: "linux-tegra: Update photon-nano dtb to 32.4.3"
      hash: b07ffc9c5a5aba07c9978bbb885a33e6eb0e19e5
      body: ""
      footer:
        Changelog-entry: "linux-tegra: Update photon-nano dtb to 32.4.3"
        changelog-entry: "linux-tegra: Update photon-nano dtb to 32.4.3"
        Signed-off-by: Pelle van Gils <pelle@hwky.ai>
        signed-off-by: Pelle van Gils <pelle@hwky.ai>
      author: Pelle van Gils
      nested: []
  version: 2.58.3+rev2
  date: 2020-10-01T21:13:14.166Z
- commits:
    - subject: "tegra194-flash-dry: Allow signing other carrier boards"
      hash: 422d7c652babfc09ccdff879975d68a816159f21
      body: ""
      footer:
        Changelog-entry: "tegra194-flash-dry: Allow signing other carrier boards"
        changelog-entry: "tegra194-flash-dry: Allow signing other carrier boards"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
    - subject: Update meta-balena from v2.56.0 to v2.58.3
      hash: 2fefb2b6dbebd248f14ddaf63a1d74c746001f5d
      body: |
        Update meta-balena from 2.56.0 to 2.58.3
      footer:
        Changelog-entry: Update meta-balena from v2.56.0 to v2.58.3
        changelog-entry: Update meta-balena from v2.56.0 to v2.58.3
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: Blacklist supervisor configuration backend files during HUP
              hash: 43a14fef9875f0d0afc23a833cc8e9dc4ae80536
              body: >
                The hostapp update process should not overwrite the supervisor
                configuration

                backend files to avoid the supervisor being forced to set the target state

                after HUP and reboot the device during the rollback period.


                This only applies to the host configuration files which are the only ones

                that force a reboot.
              footer:
                Connects-to: https://github.com/balena-io/balena-supervisor/issues/1464
                connects-to: https://github.com/balena-io/balena-supervisor/issues/1464
                Change-type: patch
                change-type: patch
                Changelog-entry: Blacklist supervisor configuration backend files during HUP
                changelog-entry: Blacklist supervisor configuration backend files during HUP
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.58.3
          date: 2020-09-18T10:34:55.646Z
        - commits:
            - subject: "hooks: fix up improperly named variable"
              hash: 2b42bc65dfc32817015d532c0a05d28670956bb7
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.58.2
          date: 2020-09-17T22:33:04.792Z
        - commits:
            - subject: Wait for the root device to come up when necessary
              hash: 494eeb4a699b4dd5e48547d6e5e45cffb7bf0720
              body: >
                If the rootfs is on a slow-to-bring-up device (e.g. RPi4 + USB)

                the fsuuidsinit_enabled() function may return before the balena symlinks

                are created. This gets wrongly interpreted as missing UUIDs leading to

                a chain of failures in the subsequent scripts.

                This patch moves the symlink waiting loop from fsuuidsinit_run()

                to fsuuids_enabled() before the first usage of the symlink.
              footer:
                Changelog-Entry: Wait for the root device to come up when necessary
                changelog-entry: Wait for the root device to come up when necessary
                Change-Type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.58.1
          date: 2020-09-15T18:24:58.280Z
        - commits:
            - subject: Respect balenaRootCA system-wide
              hash: 2218cb21d1fc813ac59c08b77046c5d014ad9a42
              body: >
                We allow the user to specify a custom CA in the .balenaRootCA
                key

                of config.json but at this moment each tool has to implement support

                if it wants to use it. This commit adds it to the system-wide CA bundle

                so that the CA is respected everywhere.


                Fixes #1398
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.58.0
          date: 2020-09-05T06:47:40.132Z
        - commits:
            - subject: "os-helpers-logging: Log to stderr rather than stdout"
              hash: 94c60a30c6147838f4a91449f3960025625ce709
              body: |
                This is where the logs and error messages should go by default
                as they are not part of the tool's output.
              footer:
                Change-Type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.57.1
          date: 2020-09-04T17:13:50.058Z
        - commits:
            - subject: Update libmbim to 1.24.2, libqmi to 1.26.0, modemmanager to 1.14.2
              hash: 1c80d6cc69d687fab6f2385efca5d6564c28370d
              body: |
                Update libmbim from 1.22.0 to 1.24.2
                Update libqmi from 1.24.10 to 1.26.0
                Update modemmanager from 1.12.8 to 1.14.2
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update libmbim to 1.24.2, libqmi to 1.26.0, modemmanager to
                  1.14.2
                changelog-entry: Update libmbim to 1.24.2, libqmi to 1.26.0, modemmanager to
                  1.14.2
                Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
                signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
              author: Vicentiu Galanopulo
              nested: []
          version: meta-balena-2.57.0
          date: 2020-09-04T13:54:00.370Z
  version: 2.58.3+rev1
  date: 2020-10-01T14:55:33.198Z
- commits:
    - subject: "linux-variscite: Add package for custom dtbs"
      hash: b1989bee39f390b09e37b55d3dc02ba7a83bc028
      body: |
        We do so because the kernel-devicetree
        class deploys only the dtbs that were
        built along the kernel.
      footer:
        Changelog-entry: "linux-variscite: Add package for custom dtbs"
        changelog-entry: "linux-variscite: Add package for custom dtbs"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.56.0+rev4
  date: 2020-09-11T11:42:03.645Z
- commits:
    - subject: "linux-tegra: Switch input drivers to modules"
      hash: b5bdd09f6e26aed027e69bd33537391556e22d61
      body: |
        Switched some built-in input drivers to modules
        to save some space in the boot part for flasher images.
      footer:
        Changelog-entry: "linux-tegra: Switch input drivers to modules"
        changelog-entry: "linux-tegra: Switch input drivers to modules"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.56.0+rev3
  date: 2020-09-09T13:40:24.618Z
- commits:
    - subject: "nvidia-container-runtime: update library list to r32.4.2"
      hash: 95a27dee550340734cd87e2d880cc8924bccfe2c
      body: ""
      footer:
        Changelog-entry: "nvidia-container-runtime: update library list to r32.4.2"
        changelog-entry: "nvidia-container-runtime: update library list to r32.4.2"
        Signed-off-by: Pelle van Gils <pelle@hwky.ai>
        signed-off-by: Pelle van Gils <pelle@hwky.ai>
      author: Pelle van Gils
      nested: []
  version: 2.56.0+rev2
  date: 2020-09-08T14:32:24.263Z
- commits:
    - subject: "linux-tegra: Update dtb for jn30b-nano to bsp v3.1 for 32.4.2"
      hash: d2f32072dc546b12e564463345e713dac28a024d
      body: ""
      footer:
        Changelog-entry: "linux-tegra: Update dtb for jn30b-nano to bsp v3.1 for 32.4.2"
        changelog-entry: "linux-tegra: Update dtb for jn30b-nano to bsp v3.1 for 32.4.2"
        Signed-off-by: Pelle van Gils <pelle@hwky.ai>
        signed-off-by: Pelle van Gils <pelle@hwky.ai>
      author: Pelle van Gils
      nested: []
    - subject: Update meta-balena from v2.54.3 to v2.56.0
      hash: bc85030759ca4e515b7fc6dbe1c80d9bd9bda662
      body: |
        Update meta-balena from 2.54.3 to 2.56.0
      footer:
        Changelog-entry: Update meta-balena from v2.54.3 to v2.56.0
        changelog-entry: Update meta-balena from v2.54.3 to v2.56.0
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: Update balena-supervisor from v11.13.0 to v11.14.0
              hash: afdfc4ec7d46f74bc2b104a6d899a6587b3596cc
              body: |
                Update balena-supervisor from v11.13.0 to v11.14.0
              footer:
                Changelog-entry: Update balena-supervisor from v11.13.0 to v11.14.0
                changelog-entry: Update balena-supervisor from v11.13.0 to v11.14.0
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested:
                - commits:
                    - subject: Add device system information to state endpoint patch
                      hash: f305a333ba70e90d098decdf81c220bfcbeec899
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-11.14.0
                  date: 2020-09-03T13:43:00.299Z
          version: meta-balena-2.56.0
          date: 2020-09-03T14:43:29.913Z
        - commits:
            - subject: Update balena-supervisor from v11.12.4 to v11.13.0
              hash: e8fb036f3ce51f29dbda1d969bb41e505a22f389
              body: |
                Update balena-supervisor from v11.12.4 to v11.13.0
              footer:
                Changelog-entry: Update balena-supervisor from v11.12.4 to v11.13.0
                changelog-entry: Update balena-supervisor from v11.12.4 to v11.13.0
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested:
                - commits:
                    - subject: added support for configuring ODMDATA
                      hash: 662826d3495f551a5451395d0eb6660bfb65b599
                      body: ""
                      footer:
                        Closes: "1206"
                        closes: "1206"
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.13.0
                  date: 2020-08-29T13:07:31.541Z
                - commits:
                    - subject: "bug: Resolve mDNS API URLs"
                      hash: f0c2a3cba7a6879a506d9151c7c0d9ea89544dae
                      body: |
                        Due to switching to Alpine the ability to resolve mDNS
                        hostnames was lost. This patch overrides the lookup and
                        manually resolves the names.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.12.11
                  date: 2020-08-27T10:36:31.040Z
                - commits:
                    - subject: Preventing removing all configurations if device has no backends
                      hash: 7ea49bf4fb317346badf141e6eea8910e599c837
                      body: ""
                      footer:
                        Closes: "#1437"
                        closes: "#1437"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.12.10
                  date: 2020-08-24T17:43:41.125Z
                - commits:
                    - subject: Don't enforce the vc4-fkms-v3d dtoverlay on rpi4
                      hash: de4c1b25385630b6f9fadb7a362d5556c2cc5008
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Closes: "#1404"
                        closes: "#1404"
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-11.12.9
                  date: 2020-08-20T09:24:11.110Z
                - commits:
                    - subject: Update dependencies
                      hash: ea34a2d10a3acd19cfefe4c847eb96579315429a
                      body: |
                        Update docker-delta from 2.2.9 to 2.2.11
                        Update docker-progress from 3.0.5 to 4.0.3
                        Update docker-toolbelt from 3.3.8 to 3.3.10
                        Update livepush from 3.3.0 to 3.5.1
                        Update resin-docker-build from 1.1.4 to 1.1.6
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                              hash: b0f552f9a21d350cb9fdca77d4f7c309f88bf68b
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: node-docker-delta-2.2.11
                          date: 2020-08-19T11:52:46.348Z
                        - commits:
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: patch
                              hash: 70b5359fedc100907c0086f7d25b7ad19cc210ad
                              subject: Removed unused dependencies
                            - author: Pagan Gazzard
                              body: ""
                              hash: 8670e850ba5d97fbaecc938fc2060ea3b4f157ed
                              subject: "circleci: update docker"
                          date: 2020-08-05T15:20:21Z
                          version: node-docker-delta-2.2.10
                        - commits:
                            - subject: Update to balena-lint 5.x
                              hash: 9563bf5150c39c6d6f298a9ed24f7969650273f7
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: docker-progress-4.0.3
                          date: 2020-08-17T12:03:45.249Z
                        - commits:
                            - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                              hash: 2cec0f2ef1eb24797b650024873c91c942e74017
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: docker-progress-4.0.2
                          date: 2020-08-17T11:47:14.543Z
                        - commits:
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: patch
                              hash: 9bb049ea3be13fb1362e39b057f78b19d8e3153d
                              subject: Update dependencies
                          date: 2020-03-04T14:17:04Z
                          version: docker-progress-4.0.1
                        - commits:
                            - author: Paulo Castro
                              body: >-
                                The change type is considered 'major' because,
                                by default, errors are

                                now thrown for relatively common occurrences such as authentication

                                failures when pulling from private registries, and library users may

                                have to adapt.
                              footers:
                                change-type: major
                                signed-off-by: Paulo Castro <paulo@balena.io>
                              hash: 3eef3685262e6bae8de064b9c50129e5597f4318
                              subject: Detect error events in push/pull progress streams
                          date: 2019-03-26T16:03:31Z
                          version: docker-progress-4.0.0
                        - commits:
                            - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                              hash: ccd1e99c5501257f1304f4cb68dd02383411e0b8
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: docker-toolbelt-3.3.10
                          date: 2020-08-19T12:10:49.102Z
                        - commits:
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: patch
                              hash: e89aedf563c4158894265c885cb86a834b5c9c7f
                              subject: Update to balena-lint 5.x
                          date: 2020-08-17T12:49:42Z
                          version: docker-toolbelt-3.3.9
                        - commits:
                            - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                              hash: 580a4229374fc96fc3f7aeb80e6b5a09aa958d7f
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: livepush-3.5.1
                          date: 2020-08-19T12:27:19.448Z
                        - commits:
                            - author: Roman Mazur
                              body: ""
                              footers:
                                change-type: minor
                                signed-off-by: Roman Mazur <roman@balena.io>
                              hash: c180b489f3a537468f3347398824ca285354caaa
                              subject: Allow setting ENV variables in the live image
                            - author: Roman Mazur
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Roman Mazur <roman@balena.io>
                              hash: 7a053dd801ee5bdc8e5b0792044be611d8981a58
                              subject: Bump dockerode types dependency
                          date: 2020-07-13T11:46:04Z
                          version: livepush-3.5.0
                        - commits:
                            - author: Cameron Diver
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Cameron Diver <cameron@balena.io>
                              hash: 68ebf4a50acb2b451770f79a44e256dc14adbde0
                              subject: Update README with information about live directives
                          date: 2020-05-05T10:39:11Z
                          version: livepush-3.4.1
                        - commits:
                            - author: Cameron Diver
                              body: ""
                              footers:
                                change-type: minor
                                closes: "#76"
                                signed-off-by: Cameron Diver <cameron@balena.io>
                              hash: f4caa2052af2a820f8bf86d202b21b2fe6680af9
                              subject:  Add a file watcher which can be used by library users
                          date: 2020-04-15T10:50:17Z
                          version: livepush-3.4.0
                        - commits:
                            - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                              hash: 139561ad61ca4f0e2a6203fe3c5f3345ba32cf83
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: resin-docker-build-1.1.6
                          date: 2020-08-19T12:14:05.986Z
                        - commits:
                            - author: CameronDiver
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Cameron Diver <cameron@balena.io>
                              hash: 0e84ec3d48268c0ae1a2390a2dad2cf8ec9e0eec
                              subject: Update README with correct instantiation method
                          date: 2020-04-02T16:54:05Z
                          version: resin-docker-build-1.1.5
                  version: balena-supervisor-11.12.8
                  date: 2020-08-19T12:38:52.114Z
                - commits:
                    - subject: Update typed-error to 3.x
                      hash: 379730a9e1d6530ea8bc13715a46fe895b0d4ec8
                      body: |
                        Update typed-error from 2.0.0 to 3.2.1
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Update dependencies
                              hash: dc41949015399154efb4529183daa0dfc9269b52
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: typed-error-3.2.1
                          date: 2020-08-05T12:34:06.377Z
                        - commits:
                            - subject: update deps and specify minimum engine requirements
                              hash: 22f293afc187e67b88dab280951eb6e2bb504b24
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                                Signed-off-by: Will Boyce <will@balena.io>
                                signed-off-by: Will Boyce <will@balena.io>
                              author: Will Boyce
                          version: typed-error-3.2.0
                          date: 2019-11-20T09:52:39.017Z
                        - commits:
                            - subject: "dev: Enforce prettier coding standards"
                              hash: 47c07a641fa39ddb833b41aff7a918accad08289
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                                Signed-off-by: Will Boyce <will@balena.io>
                                signed-off-by: Will Boyce <will@balena.io>
                              author: Will Boyce
                            - subject: "npm: Update dependencies and remove `package-lock.json`"
                              hash: 067bceb5c8dfd46f7e4ff0f58dead46fd9626167
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Will Boyce <will@balena.io>
                                signed-off-by: Will Boyce <will@balena.io>
                              author: Will Boyce
                            - subject: "codeowners: Add top contributors @wrboyce, @Page-, and @dfunckt"
                              hash: 6acc8757a594f74f264c8d68ea4501c61bda9951
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Will Boyce <will@balena.io>
                                signed-off-by: Will Boyce <will@balena.io>
                              author: Will Boyce
                            - subject: "versionbot: Add CHANGELOG.yml (for nested changelogs)"
                              hash: 2b684a0bb0c95a5dbd3b130ba0f184d3464d298f
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Will Boyce <will@balena.io>
                                signed-off-by: Will Boyce <will@balena.io>
                              author: Will Boyce
                          version: typed-error-3.1.0
                          date: 2019-04-01T10:20:01.427Z
                        - commits:
                            - author: CameronDiver
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Cameron Diver <cameron@balena.io>
                              hash: aaa9391dc463c1037f85e845d30f6f9434bb4dc1
                              subject: Update README with new import style
                          date: 2018-11-01T12:08:25Z
                          version: typed-error-3.0.2
                        - commits:
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: patch
                              hash: 627cdd281d7b086df8fe5ed1ccb0e0e0df3df062
                              subject: Update to typescript 3
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: patch
                              hash: 00d182bb2bc29bd82adb4e8ea4527f6bda6c5278
                              subject: Update dev dependencies
                            - author: Pagan Gazzard
                              body: ""
                              hash: 94adac5d747f16b9228b39e56007ee0126c6f99c
                              subject: Add node-10 to the circle test suite
                          date: 2018-10-29T14:05:23Z
                          version: typed-error-3.0.1
                        - commits:
                            - author: Will Boyce
                              body: >-
                                * Switch to `export ...` syntax (from `export =
                                ...`)

                                * Fix invalid export of class inheriting non-exported class
                              footers:
                                change-type: major
                              hash: a6307b8c04d3456ad7d8a6ac19035b5e718c4311
                              subject: Distribute generated typescript declaration
                            - author: Will Boyce
                              body: ""
                              footers:
                                change-type: patch
                              hash: 37c4b700baadba8cdd6bc0c40df74b30b1a6301c
                              subject: use circle for build/publish and add package-lock
                            - author: Will Boyce
                              body: ""
                              footers:
                                change-type: patch
                              hash: 83e809281f5172ca1ff71bdf0ee663cd504f1428
                              subject: add lint scripts/requirements
                            - author: Will Boyce
                              body: ""
                              footers:
                                change-type: minor
                              hash: da9431d08e501a0d4d0db3a7fb2c0bd06d76d064
                              subject: Remove `BaseError` class and  directly subclass `Error`
                            - author: Will Boyce
                              body: ""
                              footers:
                                change-type: patch
                              hash: e46a36b54498b68f513c6cb947e217c11525e160
                              subject: Update dependencies, clean up package/tsconfig
                          date: 2018-04-17T08:19:27Z
                          version: typed-error-3.0.0
                        - commits:
                            - author: Akis Kesoglou
                              body: ""
                              footers:
                                change-type: patch
                              hash: d35c44f1e57f6386c6f769f8cafc28e0886719cc
                              subject: Add LICENSE
                          date: 2017-12-15T17:19:00Z
                          version: typed-error-2.0.1
                  version: balena-supervisor-11.12.7
                  date: 2020-08-19T09:09:56.021Z
                - commits:
                    - subject: Update pinejs-client-request to 7.2.1
                      hash: 90fab43022c91bce7cea5ce6cd3b4440a6f707a0
                      body: |
                        Update pinejs-client-request from 7.1.0 to 7.2.1
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Update dependencies
                              hash: f4502c9364bb5dd3ac4cb7242b8d08dca047b8ee
                              body: |
                                Update pinejs-client-core from 6.6.1 to 6.7.1
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                              nested:
                                - commits:
                                    - subject: Fix prepare $count typings
                                      hash: fe63b2ba648b0ef545afe9fd18d433faca4af6a2
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.7.1
                                  date: 2020-08-12T14:30:20.061Z
                                - commits:
                                    - subject: Improve typings for request/post/put/patch/delete
                                      hash: 32c0d5b40c14e44155391099a9051255c38b1c05
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.7.0
                                  date: 2020-08-12T13:42:49.438Z
                          version: pinejs-client-request-7.2.1
                          date: 2020-08-18T17:01:01.637Z
                        - commits:
                            - subject: Update pinejs-client-core to 6.6.1
                              hash: 8b45f326d07939279b5c4271c74579cdf5da3bb3
                              body: |
                                Update pinejs-client-core from 6.1.0 to 6.6.1
                                Update typed-error from 3.2.0 to 3.2.1
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                              nested:
                                - commits:
                                    - subject: Update dependencies
                                      hash: dc41949015399154efb4529183daa0dfc9269b52
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: typed-error-3.2.1
                                  date: 2020-08-05T12:34:06.377Z
                                - commits:
                                    - subject: Fix typing when id is specified to be `AnyObject | undefined`
                                      hash: c4802cb748b1552345f036120c3aa6254e6cc946
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.6.1
                                  date: 2020-08-11T17:10:09.498Z
                                - commits:
                                    - subject: "Deprecate `$expand: { 'a/$count': {...} }`"
                                      hash: 8be33ad064905476e3f21978b7e1d760f5e27f4e
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                    - subject: "Deprecate `resource: 'a/$count'` and update typings to reflect it"
                                      hash: 779cc424cb6d2562aa9a98a3ff083b68308d9797
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.6.0
                                  date: 2020-08-11T16:18:59.088Z
                                - commits:
                                    - subject: "Add `options: { $count: { ... } }` sugar for top level $count"
                                      hash: 13072f715da6c0ca3eab08584eaa48f39ea985b2
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                    - subject: "Add `$expand: { a: { $count: { ... } } }` sugar for $count in expands"
                                      hash: b2afb397c09a31c9ab3c1c370846c1b8762db32d
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.5.0
                                  date: 2020-08-11T10:25:19.860Z
                                - commits:
                                    - subject: Improve return typing of `subscribe` method
                                      hash: 2311fe03b04f4e6149693a9e5c392f9f0bb2a549
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.4.0
                                  date: 2020-08-11T10:16:40.301Z
                                - commits:
                                    - subject: Fix Poll.on typings
                                      hash: 315697d9c2c0e59652bcceddb7f36cb498269f64
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                    - subject: Improve return typing when id is passed to GET methods
                                      hash: 2d174f758314a20c01a171ac5826b71e4f623dcc
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                    - subject: Remove `PromiseResult` type, use `Promise<PromiseResultTypes>` instead
                                      hash: 905f275731af6ce2560c37f41343052f05365cd1
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                    - subject: Remove `PromiseObj` type, use `Promise<{}>` instead
                                      hash: 78aa2410aa86bf73cc4831f2149fc85e28a6ea23
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.3.0
                                  date: 2020-08-11T08:57:09.655Z
                                - commits:
                                    - subject: "Add `$filter: { a: { $count: 1 } }` sugar for $count in filters"
                                      hash: f2fef3833f321bf81543c62a9a3db09d7fbc0a4a
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.2.0
                                  date: 2020-08-10T16:44:49.238Z
                                - commits:
                                    - subject: Remove redundant ParamsObj/SubscribeParamsObj types
                                      hash: f5fc6762aa8f1918424fb5e1c1a05435f07af285
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.1.2
                                  date: 2020-08-10T16:32:09.666Z
                                - commits:
                                    - subject: Make use of `mapObj` helper in more places
                                      hash: 2189f9918cb515071d2f6ecb941b0d838ee6c5ea
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                    - subject: Use `Object.keys` in preference to `hasOwnProperty` where applicable
                                      hash: 2ea0e9549974150ef9e7f82206f25000407e37ba
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.1.1
                                  date: 2020-08-10T15:42:09.364Z
                          version: pinejs-client-request-7.2.0
                          date: 2020-08-12T07:00:59.754Z
                  version: balena-supervisor-11.12.6
                  date: 2020-08-18T17:30:40.807Z
                - commits:
                    - subject: Refactor configurable backend class names
                      hash: ff404456b3c3edaf33fe2199387db47d9be03503
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.12.5
                  date: 2020-08-12T19:06:59.672Z
          version: meta-balena-2.55.0
          date: 2020-09-03T09:07:51.151Z
  version: 2.56.0+rev1
  date: 2020-09-05T10:20:29.434Z
- commits:
    - subject: Update balena-yocto-scripts to v1.8.1
      hash: fc85f448a4fa938058e5ea8ab84d092b9f4674f7
      body: ""
      footer:
        Changelog-entry: Update balena-yocto-scripts to v1.8.1
        changelog-entry: Update balena-yocto-scripts to v1.8.1
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
    - subject: "linux-tegra: Update Aetina N510 to L4T 32.4.2"
      hash: 3d6571817c3239f7eb41c79a1d9796ca067b8b68
      body: ""
      footer:
        Changelog-entry: "linux-tegra: Update Aetina N510 to L4T 32.4.2"
        changelog-entry: "linux-tegra: Update Aetina N510 to L4T 32.4.2"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Raphael Drscheid
      nested: []
  version: 2.54.3+rev2
  date: 2020-09-03T08:18:25.078Z
- commits:
    - subject: Update meta-balena from v2.53.12 to v2.54.3
      hash: b3fee7396b3e2511a1ef1ec43147462d0b056a7c
      body: |
        Update meta-balena from 2.53.12 to 2.54.3
      footer:
        Changelog-entry: Update meta-balena from v2.53.12 to v2.54.3
        changelog-entry: Update meta-balena from v2.53.12 to v2.54.3
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: Pack /lib/vdso/Makefile in kernel-modules-headers
              hash: 37ce34cbb4d1ddb8af5a0eafb40fc16436b6e2b8
              body: >
                For the updated 5.4 kernel on RPI4, kernel-headers-test fails
                with

                arch/arm64/kernel/vdso/Makefile lib/vdso/Makefile No such file or directory

                make[1] *** No rule to make target 'lib/vdso/Makefile'.  Stop.

                make *** [vdso_prepare] Error 2


                when doing modules_pepare in the docker build


                This patch adds /lib/vdso/Makefile to kernel-modules-headers

                compressed archive
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Pack /lib/vdso/Makefile in kernel-modules-headers
                changelog-entry: Pack /lib/vdso/Makefile in kernel-modules-headers
                Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
                signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
              author: Vicentiu Galanopulo
              nested: []
          version: meta-balena-2.54.3
          date: 2020-08-25T11:58:10.547Z
        - commits:
            - subject: "balena-supervisor: Update to v11.12.4"
              hash: 99d9a4df967535d77f3918d696845ade57aa198e
              body: |
                Update balena-supervisor from v11.12.2 to v11.12.4
              footer:
                Change-type: patch
                change-type: patch
                Backport-to: next
                backport-to: next
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested:
                - commits:
                    - subject: "bug: Firewall not blocking supervisor access from outside the device"
                      hash: 5aecd94e243ee55cffbb9aa47e7adfc437401de3
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.12.4
                  date: 2020-08-12T12:45:26.689Z
                - commits:
                    - subject: "bug: Allow DNS through firewall for local containers"
                      hash: e9b536a889542588e2f79247ed7937c709fdf3d2
                      body: >
                        We provide a local DNS server for containers to use and
                        this

                        was not allowed through the firewall when enabled.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.12.3
                  date: 2020-08-11T14:19:40.945Z
          version: meta-balena-2.54.2
          date: 2020-08-12T17:01:50.068Z
        - commits:
            - subject: Package iwlwifi-cc-a0-48 firmware separately
              hash: 6d92504349952a0bafc13afc1631c09dadf4d257
              body: |
                We add this fw on its own package so that boards can add it to
                rootfs (for Microsoft Surface Go 2 more specifically)
              footer:
                Changelog-entry: Package iwlwifi-cc-a0-48 firmware separately
                changelog-entry: Package iwlwifi-cc-a0-48 firmware separately
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.54.1
          date: 2020-08-07T07:33:15.659Z
        - commits:
            - subject: Update balena-supervisor from v11.9.9 to v11.12.2
              hash: 9772bf13f7f1a07946138eb713d23b245ffb6dd0
              body: |
                Update balena-supervisor from v11.9.9 to v11.12.2
              footer:
                Changelog-entry: Update balena-supervisor from v11.9.9 to v11.12.2
                changelog-entry: Update balena-supervisor from v11.9.9 to v11.12.2
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested:
                - commits:
                    - subject: Fix device-tag fetching function
                      hash: aa823c1cfca7a026b1c4cf3580e690625fee0d58
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-11.12.2
                  date: 2020-08-05T12:33:50.608Z
                - commits:
                    - subject: Update resumable-request
                      hash: abf5cac4a3d784a6ad1f545f14b15b5149f13afa
                      body: |
                        Update resumable-request from 2.0.0 to 2.0.1
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                              hash: e11bf1fd3f505a83eb1c0bd872d3a90ee1ba4137
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: Optimize lodash dependency
                              hash: 40146b216300b0b16f7004e8266d16696928ea14
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: resumable-request-2.0.1
                          date: 2020-08-05T09:48:49.433Z
                  version: balena-supervisor-11.12.1
                  date: 2020-08-05T11:28:50.822Z
                - commits:
                    - subject: Update contrato to 0.5
                      hash: 17c370863cca6bf5ddfaceffdbae96b92db24bbc
                      body: |
                        Update contrato from 0.2.1 to 0.5.0
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Remove handlebars-helpers to shrink bundle size
                              hash: 1305553f48747e0e450c89254790e67674c252b7
                              body: >
                                We can re-add specific helpers as necessary
                                without needing to bloat

                                with the entirety of the helpers package
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                              nested: []
                          version: contrato-0.5.0
                          date: 2020-08-05T08:38:30.030Z
                        - commits:
                            - subject: Update skhema to 5.x
                              hash: 1eb7058e8e34d708c03c5270e849aff4576773e7
                              body: |
                                Update skhema from 2.3.0 to 5.3.2
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                              nested:
                                - commits:
                                    - subject: Switch to typed-error
                                      hash: 234c6da3d4b2ca6784d7714a7b7d46813b43310a
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: skhema-5.3.2
                                  date: 2020-08-04T21:33:19.366Z
                                - commits:
                                    - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                                      hash: 7c61cf2f1e120944c3aef29dfe208f2e37139a6a
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: skhema-5.3.1
                                  date: 2020-08-04T21:07:49.365Z
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: ""
                                      footers:
                                        change-type: minor
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 7e3fd20fb84d71c67e2f11206c4cf60b4b2866c1
                                      subject: "filter: Throw a custom error if the schema is invalid"
                                  date: 2020-05-05T15:22:49Z
                                  version: skhema-5.3.0
                                - commits:
                                    - author: StefKors
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Stef Kors <stef@balena.io>
                                      hash: e90802b28b908dfcd4c54e432e72cd36ba390b09
                                      subject: Add test to show .filter() not working correctly
                                    - author: StefKors
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Stef Kors <stef@balena.io>
                                      hash: 4ff1988ca8c78192ad0f92afb7f2bb3d2679fdd2
                                      subject: When combining with baseSchema merge enum with AND operator
                                  date: 2019-12-12T11:38:32Z
                                  version: skhema-5.2.9
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 2f8725cde8fc23de39346860a4fc283ada408eab
                                      subject: Ensure values in "enum" are unique
                                  date: 2019-11-27T20:30:03Z
                                  version: skhema-5.2.8
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 5afd0f25d791fe1f0d85957369a46292212de79e
                                      subject: 'filter: Correctly handle "enum" inside "anyOf"'
                                  date: 2019-11-27T19:34:08Z
                                  version: skhema-5.2.7
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 0bb8c525b58dc358b80ddd7a2ed53dc95fe662ae
                                      subject: "merge: Be explicit about additionalProperties"
                                  date: 2019-11-19T09:19:11Z
                                  version: skhema-5.2.6
                                - commits:
                                    - author: Lucian
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 864db6644a2cddfada888c3cb979498b2107eabe
                                      subject: Add a resolver for the const keyword
                                  date: 2019-05-09T15:49:10Z
                                  version: skhema-5.2.5
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: >-
                                        This is very similar to the cache class
                                        they use by default, with the

                                        difference that it has a limit and won't grow indefinitely, causing

                                        memory leaks on long running applications like Jellyfish.
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 8dcdde578bdae9dad5786270b451bd45a7204115
                                      subject: Configure AJV instances with an LRU cache
                                  date: 2019-04-15T15:32:41Z
                                  version: skhema-5.2.4
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: So we don't leak `SchemaObject` in the AJV `_refs` object.
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: f55993458fe587fa2884f116506bd27cb2aa3e87
                                      subject: Set addUsedSchema to false in all AJV instances
                                  date: 2019-04-15T15:15:23Z
                                  version: skhema-5.2.3
                                - commits:
                                    - author: Lucian
                                      body: "Fixes #43"
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 90dd1490303d06c0e44be715464ddc4f598f4adb
                                      subject: Fix bug in scoreMatch when handling arrays
                                  date: 2019-03-20T10:24:26Z
                                  version: skhema-5.2.2
                                - commits:
                                    - author: Lucian
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 846dc2265f73018870d88c704630578e6715afa8
                                      subject: Fix bad require name and .only in tests
                                  date: 2019-03-19T15:47:17Z
                                  version: skhema-5.2.1
                                - commits:
                                    - author: Lucian Buzzo
                                      body: >-
                                        Only match elements with .filter() if
                                        the base schema (the schema with no

                                        anyOf branches) matches the element.
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                                      hash: 9652d825d07fd8de0b51a5ae2645f3f6f79ee860
                                      subject: ".filter(): Only match if the base schema matches"
                                  date: 2020-04-30T16:22:18Z
                                  version: skhema-5.2.10
                                - commits:
                                    - author: Lucian
                                      body: ""
                                      footers:
                                        change-type: minor
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 647943a9d7fad1338ad800509a85636b150d576e
                                      subject: Add ability to provide custom resolvers to merge()
                                  date: 2019-03-19T12:14:12Z
                                  version: skhema-5.2.0
                                - commits:
                                    - author: Lucian
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: c00be29c12b14858982cd2997088d065ff173870
                                      subject: Split up and optimize lodash dependencies
                                  date: 2019-02-08T11:58:56Z
                                  version: skhema-5.1.1
                                - commits:
                                    - author: Lucian Buzzo
                                      body: ""
                                      footers:
                                        change-type: minor
                                        signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                                      hash: 5c48f980bfad6eb0a15d6c18d0898fbe226ddddd
                                      subject: "feature: Implement method for restricting a schema by another schema"
                                  date: 2019-01-08T11:00:52Z
                                  version: skhema-5.1.0
                                - commits:
                                    - author: Lucian
                                      body: Using a strictly defined API allows us to improve performance
                                      footers:
                                        change-type: major
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 04f497a509e4129977e696a6637fe2724a7fb7e0
                                      subject: Remove ability to add custom keywords or formats
                                  date: 2018-12-31T07:38:57Z
                                  version: skhema-5.0.0
                                - commits:
                                    - author: Lucian
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 219f90ed5751e2211d9acb0bbd3311c39e12a180
                                      subject: Improve performance of clone operations
                                  date: 2018-12-31T07:20:46Z
                                  version: skhema-4.0.4
                                - commits:
                                    - author: Lucian
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 61318967874690eb3b85a9921fe27d3ce5c2494d
                                      subject: Don't bust AJV cache
                                  date: 2018-12-10T12:09:43Z
                                  version: skhema-4.0.3
                                - commits:
                                    - author: Giovanni Garufi
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Giovanni Garufi <giovanni@balena.io>
                                      hash: 1f6c87de94ef905ea39972630364c74beb55057a
                                      subject: Add benchmark tests
                                  date: 2018-12-10T11:47:01Z
                                  version: skhema-4.0.2
                                - commits:
                                    - author: Lucian
                                      body: "Fixes #30"
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: d59a81567bf84a90182687a5385538ff7a599ce0
                                      subject: Recurse through nested `anyOf` statements when filtering
                                  date: 2018-12-04T13:29:31Z
                                  version: skhema-4.0.1
                                - commits:
                                    - author: Lucian
                                      body: This better follows the way that JSON schema works
                                      footers:
                                        change-type: major
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 7c479564ca6c611c1576c32b63ac9dba06c8b2c7
                                      subject: Treat undefined additionalProperties as true instead of false
                                  date: 2018-12-03T13:40:59Z
                                  version: skhema-4.0.0
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 842aaf252085b9a80a1cd84776b0c871c8c949aa
                                      subject: "stryker: Increase test timeout"
                                    - author: Juan Cruz Viotti
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 781b74d9ca847acfbfa3883fda66f4828824e3bc
                                      subject: "test: Configure Stryker for mutative testing"
                                  date: 2018-11-30T16:58:05Z
                                  version: skhema-3.0.1
                                - commits:
                                    - author: Giovanni Garufi
                                      body: >-
                                        Merge multiple anyOf subschemas that
                                        match into a single one.

                                        Add axioms in test
                                      footers:
                                        change-type: minor
                                        signed-off-by: Giovanni Garufi <giovanni@balena.io>
                                      hash: 23cec34382d98b6c10a1d5483113a1155ba6565a
                                      subject: Define additionalProperty inheritance in anyOf
                                    - author: Lucian
                                      body: ""
                                      footers:
                                        change-type: major
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 93a65b6edb10397b3417a3719d4471cd0eeb4f68
                                      subject: Formalising filtering logic
                                    - author: Lucian
                                      body: ""
                                      hash: d55a7cac6bd9ce238918eea99ed64894e5e7d066
                                      subject: Added failing test case with mutation
                                  date: 2018-11-29T17:53:28Z
                                  version: skhema-3.0.0
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: >-
                                        This is a hack, and should be reverted
                                        once we get to the bottom of it.

                                        It will impact performance, but right now there are things that should

                                        be filtered and are not, so lets get this merged for security purposes.

                                        Hopefully this library will be re-written soon.
                                      footers:
                                        change-type: patch
                                        see: https://github.com/balena-io/jellyfish/pull/878
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: fd9841b296007e1ddc04d092c3b28c61a438be6c
                                      subject: "hotfix: Make sure things that should be filtered are filtered"
                                  date: 2018-11-07T13:42:47Z
                                  version: skhema-2.5.2
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: ""
                                      footers:
                                        change-type: patch
                                        see: https://github.com/balena-io/jellyfish/issues/845
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 3ef59f5e552a11dffa72c6ff758210aebfe35bcb
                                      subject: "filter: Force additionalProperties: true on match schemas"
                                  date: 2018-11-06T17:26:53Z
                                  version: skhema-2.5.1
                                - commits:
                                    - author: Lucian Buzzo
                                      body: ""
                                      footers:
                                        change-type: minor
                                        signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                                      hash: 3536e75a128f7b79d13727d3a5562df48e6f9d00
                                      subject: Validate against just the schema if `options.schemaOnly` is true
                                  date: 2018-10-16T11:59:41Z
                                  version: skhema-2.5.0
                                - commits:
                                    - author: Lucian Buzzo
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                                      hash: 513eeb6d006270ac25a2fb9a802df9c398658548
                                      subject: "merge: When merging an empty array, return a wildcard schema"
                                  date: 2018-10-09T20:19:28Z
                                  version: skhema-2.4.1
                                - commits:
                                    - author: Lucian Buzzo
                                      body: ""
                                      footers:
                                        change-type: minor
                                        signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                                      hash: 5a3844a72a7bb0bad355d6a991a9a2f005c3a3b9
                                      subject: "validate: Make object optional"
                                  date: 2018-10-09T16:52:53Z
                                  version: skhema-2.4.0
                          version: contrato-0.4.0
                          date: 2020-08-04T21:58:55.782Z
                        - commits:
                            - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                              hash: 783273aac70fd631d5a80e33b55ef468be4c3ec7
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: contrato-0.3.1
                          date: 2020-08-04T21:46:25.163Z
                        - commits:
                            - author: Stevche Radevski
                              body: >-
                                Handlebars supports very basic if condition
                                checking, but it only checks for

                                existence of a field. There are times when we want to combine conditions in order

                                to generate something as part of a blueprint, without defining a completely separate

                                blueprint for it (like generating network config schema if a dt has a wifi chip or

                                a usb port to which we can connect a dongle).
                              footers:
                                change-type: minor
                                signed-off-by: Stevche Radevski <stevche@balena.io>
                              hash: 90c3356b356920b8a6dd95a478dd6cb39e6ad148
                              subject: Add logical operator support in templates
                          date: 2020-07-17T12:02:34Z
                          version: contrato-0.3.0
                  version: balena-supervisor-11.12.0
                  date: 2020-08-05T09:55:18.695Z
                - commits:
                    - subject: Bump elliptic from 6.5.2 to 6.5.3
                      hash: c11004cd24fe66e6af7f16a79c0cc9e8847eb415
                      body: >
                        Bumps [elliptic](https://github.com/indutny/elliptic)
                        from 6.5.2 to 6.5.3.

                        - [Release notes](https://github.com/indutny/elliptic/releases)

                        - [Commits](https://github.com/indutny/elliptic/compare/v6.5.2...v6.5.3)
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: dependabot[bot] <support@github.com>
                        signed-off-by: dependabot[bot] <support@github.com>
                      author: dependabot[bot]
                      nested: []
                    - subject: Update pinejs-client-request and make use of a named key
                      hash: 511cbbe74e9dce51490234c66035ded873091b4e
                      body: |
                        Update pinejs-client-request from 7.0.0 to 7.1.0
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Update dependencies
                              hash: c46281f165eb6b05def4bd9eed82df37629c56e7
                              body: |
                                Update pinejs-client-core from 6.0.0 to 6.1.0
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                              nested:
                                - commits:
                                    - subject: Add support for using named ids
                                      hash: f6035bf5240e8aea1b92997d976cebd9a1857a61
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.1.0
                                  date: 2020-07-21T10:31:09.457Z
                                - commits:
                                    - subject: Drop unnecessary async from request()
                                      hash: dfd4c8c39327fe2e1706a8180e3c3f56d4229b77
                                      body: >
                                        This allows consumers like
                                        pinejs-client-supertest

                                        to have all the methods returning different Promise

                                        types based solely on the implementation of the

                                        request() method.
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                        Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                        signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                      author: Thodoris Greasidis
                                  version: pinejs-client-js-6.0.1
                                  date: 2020-06-19T16:55:46.305Z
                          version: pinejs-client-request-7.1.0
                          date: 2020-07-28T10:43:21.213Z
                        - commits:
                            - subject: Increase default timeout to 59s
                              hash: fc17266fe147bf40086feb81b6c96a344bf74f29
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                              nested: []
                          version: pinejs-client-request-7.0.1
                          date: 2020-07-28T10:29:41.385Z
                  version: balena-supervisor-11.11.7
                  date: 2020-08-04T09:33:41.743Z
                - commits:
                    - subject: Fixes documentation - ping doesn't need apiKey and minor documentation
                        formatting changes.
                      hash: 82dda7d852773a58ddbdc4a614ef3a3b7ff15462
                      body: ""
                      footer:
                        Change-Type: patch
                        change-type: patch
                        Signed-off-by: Nitish Agarwal <1592163+nitishagar@users.noreply.github.com>
                        signed-off-by: Nitish Agarwal <1592163+nitishagar@users.noreply.github.com>
                        Co-authored-by: xginn8 <xginn8@users.noreply.github.com>
                        co-authored-by: xginn8 <xginn8@users.noreply.github.com>
                      author: Nitish Agarwal
                      nested: []
                  version: balena-supervisor-11.11.6
                  date: 2020-07-31T18:10:27.470Z
                - commits:
                    - subject: "Fixes #1299 v1 start/stop endpoint issue with service access."
                      hash: 11cac2dd696dc267758351be131c3db8eae4470e
                      body: ""
                      footer:
                        Change-Type: patch
                        change-type: patch
                        Signed-off-by: Nitish Agarwal <1592163+nitishagar@users.noreply.github.com>
                        signed-off-by: Nitish Agarwal <1592163+nitishagar@users.noreply.github.com>
                      author: Nitish Agarwal
                      nested: []
                  version: balena-supervisor-11.11.5
                  date: 2020-07-31T17:42:23.827Z
                - commits:
                    - subject: "bug: Fix undefined containerId object"
                      hash: 59561132cc11074d2acf4ac06b477196b42cf569
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.11.4
                  date: 2020-07-31T10:53:18.364Z
                - commits:
                    - subject: fix matching extra_uEnv backend with unsupported devices
                      hash: 9b37ce96f959ccf27963ebb1c3e9eccd2ed998c7
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.11.3
                  date: 2020-07-30T18:15:41.698Z
                - commits:
                    - subject: Fix an issue with reporting initial config using a stale target state
                      hash: ffe3da6261e486b875c5c1792b7bdc8e0a0f996e
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested: []
                  version: balena-supervisor-11.11.2
                  date: 2020-07-30T09:50:26.292Z
                - commits:
                    - subject: fix up "atleast" -> "at least"
                      hash: 15c57a86b47c4df3dbf5e20c5dbbbd40a6344812
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Matthew McGinn <matthew@balena.io>
                        signed-off-by: Matthew McGinn <matthew@balena.io>
                      author: Matthew McGinn
                      nested: []
                  version: balena-supervisor-11.11.1
                  date: 2020-07-29T15:57:59.129Z
                - commits:
                    - subject: Support setting device/fleet configuration in extra_uEnv.txt
                      hash: cac2e3612c978b5fbcf837d78a4a0bff5ba5166a
                      body: ""
                      footer:
                        Closes: "#1385"
                        closes: "#1385"
                        Change-Type: minor
                        change-type: minor
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.11.0
                  date: 2020-07-28T20:38:18.462Z
                - commits:
                    - subject: Extract current state reporting to its own module
                      hash: eeda7e3ab17dc68d592acc2e4f58f20dad9a677a
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                      nested: []
                  version: balena-supervisor-11.10.0
                  date: 2020-07-24T16:39:30.078Z
                - commits:
                    - subject: log detection of changes to VPN status
                      hash: 41987d8e7600550da2d09e050db58c3ad969210e
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: dt-rush <nickp@balena.io>
                        signed-off-by: dt-rush <nickp@balena.io>
                      author: dt-rush
                      nested: []
                  version: balena-supervisor-11.9.10
                  date: 2020-07-23T23:22:47.297Z
          version: meta-balena-2.54.0
          date: 2020-08-06T23:12:50.461Z
        - commits:
            - subject: "balena-unique-key: Ensure config.json is synced after replacing"
              hash: d0e218929b779b1051e14414b3b378b6d5928969
              body: |
                Ensuring changes are flushed to the filesystem at this point
                helps prevent config.json from becoming corrupt if power is cut.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.53.14
          date: 2020-08-06T12:48:20.058Z
        - commits:
            - subject: "flasher-register: if no supervisor information found, report null"
              hash: dee971c0dbeb6e8363f3e321af582e99627626e9
              body: >
                In b791055f3f6ffd6cc5796569a7321c5060129eea I attempted to have
                flasher

                images report their preconfigured supervisor version without a good

                understanding of how flasher images work. As it turns out no supervisor

                information is maintained in the flasher image itself, so until that is

                sorted stop reporting a blank string for the supervisor version.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.53.13
          date: 2020-08-05T20:17:40.378Z
  version: 2.54.3+rev1
  date: 2020-08-27T14:06:25.275Z
- commits:
    - subject: Update meta-balena from v2.53.9 to v2.53.12
      hash: 5150ea77b55662a55647bb579956983fc17bda36
      body: |
        Update meta-balena from 2.53.9 to 2.53.12
      footer:
        Changelog-entry: Update meta-balena from v2.53.9 to v2.53.12
        changelog-entry: Update meta-balena from v2.53.9 to v2.53.12
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "systemd: Set net.ipv4.conf.all.rp_filter in balena-os-sysctl"
              hash: a0573b7df13292aff6c7670246ed780342593376
              body: >
                The warrior branch does not backport this configuration

                like the older branches do. Let's move this setting in the

                balena-os-sysctl file to avoid issues where some device integration

                layers set the rp_filter mode to strict and break connectivity.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.53.12
          date: 2020-08-04T14:01:14.955Z
        - commits:
            - subject: Use a named key when querying for device by uuid
              hash: e2c6614d28fe498853297891eb0feeb4b1577a7b
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: meta-balena-2.53.11
          date: 2020-07-30T15:32:30.333Z
        - commits:
            - subject: "supervisor: allow supervisor updates without controlling the
                supervisor state"
              hash: 6208f065e59d9c15e10e872bff788c0b80020983
              body: >
                Recently the supervisor added a codepath that assumes no files
                underneath it will change during runtime.

                OS update hooks can trigger a condition whereby the supervisor reboots the device during a HUP,

                which in turn bricks the device.


                Additionally, since unknown args cause this update to fail-closed,

                remove that barrier to future-proof more flag expansion.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.53.10
          date: 2020-07-29T12:42:50.816Z
  version: 2.53.12+rev1
  date: 2020-08-06T13:11:55.184Z
- commits:
    - subject: Update meta-balena from v2.52.7 to v2.53.9
      hash: bd34b033bb2a6f4dbdc729c89b7d724956d5a73f
      body: |
        Update meta-balena from 2.52.7 to 2.53.9
      footer:
        Changelog-entry: Update meta-balena from v2.52.7 to v2.53.9
        changelog-entry: Update meta-balena from v2.52.7 to v2.53.9
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "balena-supervisor: Update to v11.9.9"
              hash: b991ede01e5140ef04f2e6fe9baa37a8ded95ab5
              body: |
                Update balena-supervisor from 11.9.8 to 11.9.9
              footer:
                Change-type: patch
                change-type: patch
                Backport-to: next
                backport-to: next
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested:
                - commits:
                    - subject: "common: Fix bug where aliases might be undefined"
                      hash: 60132134deffd770a40d1e6f18fdd87cb2f9f52e
                      body: >
                        Should handle the scenario where the network aliases are
                        undefined.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.9.9
                  date: 2020-07-23T15:45:31.161Z
          version: meta-balena-2.53.9
          date: 2020-07-23T17:44:58.146Z
        - commits:
            - subject: "resin-supervisor: Create required directories before launch"
              hash: 7be7738c655e37e48c1a98f9e1e0ff2795d66bf8
              body: >
                On commit a4ce26caadabcb1e87d944d78218cc32c579914e the
                supervisor moved

                from using --volume to using --mount to avoid the implicit creation of

                directories instead of files.


                However, in the case where the mount referred to a directory, these have

                to exist in the rootfs beforehand as --mount will not create them.


                This commit checks for the existence of the /var/log/supervisor-log

                directory and creates it if required.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.53.8
          date: 2020-07-23T04:33:45.808Z
        - commits:
            - subject: "balena-supervisor: Update to v11.9.8"
              hash: f919017e873062d30efa73d93a99ad0272675d24
              body: |
                Update balena-supervisor from 11.9.6 to 11.9.8
              footer:
                Change-type: patch
                change-type: patch
                Backport-to: next
                backport-to: next
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested:
                - commits:
                    - subject: Bump lodash from 4.17.15 to 4.17.19
                      hash: 01655b595555ae63ea1b70d623451c9ad3ec03dd
                      body: >
                        Bumps [lodash](https://github.com/lodash/lodash) from
                        4.17.15 to 4.17.19.

                        - [Release notes](https://github.com/lodash/lodash/releases)

                        - [Commits](https://github.com/lodash/lodash/compare/4.17.15...4.17.19)
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: dependabot[bot] <support@github.com>
                        signed-off-by: dependabot[bot] <support@github.com>
                      author: dependabot[bot]
                      nested: []
                  version: balena-supervisor-11.9.8
                  date: 2020-07-22T14:44:00.974Z
                - commits:
                    - subject: "docker-utils: Test network gateway determination logic"
                      hash: 6ef3bd2362ebd185053a351490f6561ec10b84d8
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                    - subject: Fix docker-util using incorrect reference for function
                      hash: 3b3babfd62868e986788d6c2f4fcede915fb4711
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.9.7
                  date: 2020-07-22T12:19:06.693Z
          version: meta-balena-2.53.7
          date: 2020-07-23T03:02:50.027Z
        - commits:
            - subject: "recipes-containers/balena: Use separate service for loading
                healthcheck image"
              hash: 94a21624ccc1871d911b12654967b60a76a7e77a
              body: |
                In rocko, systemd kills any script started in background,
                same thing happening to children that get re-parented.

                One solution to this is to use a separate service file for
                starting the healtcheck image load script, after balena.service
                was started.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.53.6
          date: 2020-07-21T13:44:11.006Z
        - commits:
            - subject: "balena-supervisor: Update to v11.9.6"
              hash: 826a68296c1ed3c7ce44753f6b8f85b9f8f87ef3
              body: |
                Update balena-supervisor from 11.9.4 to 11.9.6
              footer:
                Change-type: patch
                change-type: patch
                Backport-to: next
                backport-to: next
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Rich Bayliss
              nested:
                - commits:
                    - subject: Fix purge and restart invocations by providing instanced apps
                      hash: d14d8f31ccee62fa8cec88209cc3674a1b280e34
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                    - subject: Fix purge invocations of new singletons
                      hash: d2a7d3b9653a2afbd8eca009b75871cf54dbf3ac
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-11.9.6
                  date: 2020-07-20T17:25:37.311Z
                - commits:
                    - subject: Update ESR version information
                      hash: c2b534a51b3863bf3c787db00c7299517224464f
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-11.9.5
                  date: 2020-07-14T14:31:17.340Z
          version: meta-balena-2.53.5
          date: 2020-07-21T11:58:00.018Z
        - commits:
            - subject: Add support for aufs5 on kernel 5.x variants
              hash: 6bdf4211aefb1f2c842f0797c50ae537fe2baae5
              body: |
                We add support for aufs on kernels 5.x variants
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add support for aufs5 on kernel 5.x variants
                changelog-entry: Add support for aufs5 on kernel 5.x variants
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
            - subject: Force choosing busybox-hwclock over util-linux-hwclock
              hash: 86dd4c761038ab0214a1fca8dd2839b4dbddfa39
              body: >
                Otherwise, as util-linux has a higher default alternative
                priority, the

                version in util-linux is chosen. It would seem they are exchangeable, but

                the busybox version reportedly works even if the RTC interrupt line is not

                connected.


                Fixes #1936
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Force choosing busybox-hwclock over util-linux-hwclock
                changelog-entry: Force choosing busybox-hwclock over util-linux-hwclock
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.53.4
          date: 2020-07-21T08:03:00.660Z
        - commits:
            - subject: "provisioning: provide base supervisor_version during provision"
              hash: b791055f3f6ffd6cc5796569a7321c5060129eea
              body: >
                In order to get closer to formally requiring a target supervisor
                release

                in the model, we should expand our provisioning process to provide the

                initial supervisor_version metadata. This connects back to tri-app.
              footer:
                Depends-on: https://github.com/balena-io/open-balena-api/pull/394
                depends-on: https://github.com/balena-io/open-balena-api/pull/394
                HQ: https://github.com/balena-io/balena-io/pull/2177
                hq: https://github.com/balena-io/balena-io/pull/2177
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.53.3
          date: 2020-07-16T13:48:11.858Z
        - commits:
            - subject: Add LZ4 support config for older kernels
              hash: 403fc033b75b2672bf9c8ef9a27879096e7b88b7
              body: |
                Kernel versions between 4.0 and 4.9 use
                CONFIG_ZRAM_LZ4_COMPRESS, whereas newer ones
                use CONFIG_CRYPTO_LZ4.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.53.2
          date: 2020-07-16T08:17:26.378Z
        - commits:
            - subject: Remove unnecessary config.json keys
              hash: b3222e619bbeebc0a2bd9e7419a9d8ae12b34dce
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Pagan Gazzard
              nested: []
          version: meta-balena-2.53.1
          date: 2020-07-14T14:53:06.752Z
        - commits:
            - subject: "resin-supervisor: Create required directories before launch"
              hash: a93bd242d37246da83c1fa4368174d89b5c045f4
              body: >
                On commit a4ce26caadabcb1e87d944d78218cc32c579914e the
                supervisor moved

                from using --volume to using --mount to avoid the implicit creation of

                directories instead of files.


                However, in the case where the mount referred to a directory, these have

                to exist in the rootfs beforehand as --mount will not create them.


                This commit checks for the existence of the /resin-data/resin-supervisor

                directory and creates it if required.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: Rebrand custom resin logos
              hash: dc215462dd5adcb171496be9aef237351d749d71
              body: >
                When performing hostOS updates, the resin-logo.png might have

                been customized by the customer.

                This commits renames it to the newly branded balena-logo.png


                If the resin-logo.png was unmodified, it will forcefully replace to

                balena-logo.png to force rebranding of older resin branded release.


                Fixes #1801
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Rebrand custom resin logos
                changelog-entry: Rebrand custom resin logos
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "plymouth: Remove patch that sets plymouth resin theme"
              hash: 8ccc9fc6862fdcaf9197bd443549411a3965279d
              body: |
                This is now configured as part of the plymouth-theme package.
              footer:
                Changelog-type: patch
                changelog-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "docker-disk: Update dind container to v19.03.10"
              hash: 6b325f57ff50be11e0c5f1f2420b911211f0ef06
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "docker-disk: Update to still supported dind container"
              hash: e325ab34b9d7f14ad5a0d85b36b02ee1e2b7fdf8
              body: >
                The `docker` Docker Hub repository lists what versions of the
                image

                are supported and 18.6 is not among them at all. Use the current stable

                line of 18.09 instead, to stay on supported versions. See more info at:

                https://hub.docker.com/_/docker


                For more reproducability, we are also including the patch level version

                of the container, which will give us more responsibility to update more

                frequently, but fewer surprises.


                Also explicitly set `DOCKER_HOST` for the daemon being started, otherwise

                the base image's setting might silently take over, and modify this.


                Replace deprecated `-g` (graph driver) with `--data-root` as well.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Gergely Imreh <gergely@balena.io>
                signed-off-by: Gergely Imreh <gergely@balena.io>
              author: Gergely Imreh
              nested: []
            - subject: Use udev for setting up wlan power management
              hash: 7826c8ba9a9b6a97021fbcd352f627518afa8d73
              body: >
                resin-init has a hardcoded command to disable power management

                on wlan0. This commit moves the logic to udev rule as there is

                no guarantee wlan0 is the only or default wlan adapter in the system.


                There seems to be no better way to identify a wlan device in udev

                than KERNEL=="wl*" which should match both net.ifnames=0 (wlanX)

                and net.ifnames=1 (wlpX).


                Fixes #1422
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Use udev for setting up wlan power management
                changelog-entry: Use udev for setting up wlan power management
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: Use --mount instead of --volume for bind mounts to the supervisor
                container.
              hash: 0fd442943d6b6c802df2f6e35d334ecde0f748e9
              body: >
                This makes sure the source path refers to an existing
                file/directory on

                the host.


                https://docs.docker.com/engine/reference/commandline/service_create/#differences-between---mount-and---volume


                This avoids situations where --volume implicitely creates a directory (see #1748)


                Fixes #1754
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Use --mount instead of --volume for bind mounts to the
                  supervisor container.
                changelog-entry: Use --mount instead of --volume for bind mounts to the
                  supervisor container.
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: meta-balena-2.53.0
          date: 2020-07-14T09:38:34.861Z
  version: 2.53.9+rev1
  date: 2020-08-01T14:58:33.597Z
- commits:
    - subject: Update meta-balena from v2.52.0 to v2.52.7
      hash: 072902531e8b802aa556979bf0b58826937391b0
      body: |
        Update meta-balena from 2.52.0 to 2.52.7
      footer:
        Changelog-entry: Update meta-balena from v2.52.0 to v2.52.7
        changelog-entry: Update meta-balena from v2.52.0 to v2.52.7
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: Update balena-supervisor from v11.9.3 to v11.9.4
              hash: ac5bedaf68a8898d9102c1106d2cf374bbd00628
              body: |
                Update balena-supervisor from v11.9.3 to v11.9.4
              footer:
                Changelog-entry: Update balena-supervisor from v11.9.3 to v11.9.4
                changelog-entry: Update balena-supervisor from v11.9.3 to v11.9.4
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested:
                - commits:
                    - subject: "bug: Fix unhandled promise rejection"
                      hash: 898c7e71dae28aa046bdd3e075ecf0d6aa364142
                      body: >
                        When invoking iptables-restore it can fail. This wasn't
                        handled

                        and this makes sure that it fails gracefully.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.9.4
                  date: 2020-07-13T12:07:37.513Z
          version: meta-balena-2.52.7
          date: 2020-07-13T16:25:46.435Z
        - commits:
            - subject: Update to use api v6 and fix a quoting bug
              hash: 1e5bd5d984945a3e97d6b4bf64c5ae6a0e81b0b3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: meta-balena-2.52.6
          date: 2020-07-13T13:35:04.787Z
        - commits:
            - subject: Allow comments in iptables ruleset
              hash: a93ac5695c77cb36e6ec3ee1355b7b9da7b81d39
              body: >
                The latest v11.9.3 supervisor includes firewall configuration
                functionality

                that requires this module to be enabled on all platforms.
              footer:
                Connects-to: balena-io/balena-supervisor#1393
                connects-to: balena-io/balena-supervisor#1393
                Change-type: patch
                change-type: patch
                Changelog-entry: Allow comments in iptables ruleset
                changelog-entry: Allow comments in iptables ruleset
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.52.5
          date: 2020-07-10T16:11:02.635Z
        - commits:
            - subject: Update balena-supervisor from v11.4.10 to v11.9.3
              hash: 16fc81358477615b26b6ee6917dc2b5a36081a57
              body: |
                Update balena-supervisor from v11.4.10 to v11.9.3
              footer:
                Changelog-entry: Update balena-supervisor from v11.4.10 to v11.9.3
                changelog-entry: Update balena-supervisor from v11.4.10 to v11.9.3
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested:
                - commits:
                    - subject: Fix bug where a promise was not resolved in db-format
                      hash: 270f9f854add8db84fadc0a96e127a6035128aef
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Convert deviceConfig module to a singleton
                      hash: 5337c0102cd9bdbaaa41812fb1b8c44796ae9898
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.9.3
                  date: 2020-07-08T11:07:16.427Z
                - commits:
                    - subject: "avahi: Control with HOST_DISCOVERABILITY"
                      hash: 03ca0ee9add9872b5577833971b43682ae6cc427
                      body: >
                        The host config variable HOST_DISCOVERABILITY can be set
                        to

                        true or false, controlling the state of the avahi service. This

                        determines if the device advertises it's presence over mDNS.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.9.2
                  date: 2020-07-06T12:04:46.333Z
                - commits:
                    - subject: "firewall: Add Host Firewall functionality"
                      hash: 28c5a44e714a3f155fbd528d0ec672dec1d96ef8
                      body: >
                        Controlled by BALENA_HOST_FIREWALL_MODE, the firewall
                        can

                        either be 'on' or 'off'.


                        - In the 'off' state, all traffic is allowed.

                        - In the 'on' state, only traffic for the core services provided
                          by Balena is allowed.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                  version: balena-supervisor-11.9.1
                  date: 2020-07-01T17:45:22.146Z
                - commits:
                    - subject: Added support for configuring FDT directive in extlinux.conf
                      hash: 59fc589eb23bdf8c79c677734d2792b93380c94c
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                  version: balena-supervisor-11.9.0
                  date: 2020-06-23T19:58:27.412Z
                - commits:
                    - subject: "state: Report device MAC address to the API"
                      hash: 1b91ef3405d1d2013cbdd6381ed69256c6432d18
                      body: >
                        When reporting device information, send the MAC address
                        of any

                        interfaces on the system. Also expose in the Supervisor API at

                        the route GET /v1/device.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                  version: balena-supervisor-11.8.4
                  date: 2020-06-22T09:43:53.370Z
                - commits:
                    - subject: Update pinejs-client-request to 7.x
                      hash: c15f77434ba3b957dc55f5df207026eb2028bd57
                      body: |
                        Update pinejs-client-request from 5.2.0 to 7.0.0
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Empty commit to attempt republish
                              hash: 72c0214672a1e552cb8fa63f9a96aa47b5db19b1
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: Switch from bluebird-lru-cache to lru-cache for caching
                              hash: e69b9cb202140de25f5b6cc9258cccb71854fd6f
                              body: ""
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: Update target to es2018
                              hash: 1c2e8725305219f0c144cca583a1e8225d64c503
                              body: ""
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: Remove bluebird dependency
                              hash: b066e578427c179c9cb7fca6dda2e2e17da01a46
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: Convert to async/await
                              hash: 3ca7a939c2e25861cf3484b1ef31f7ccbec9369a
                              body: ""
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: Update to pinejs-client-core 6.x
                              hash: 33f1f63efbb0a4a1c9fae0f45c4f2e00e59572f2
                              body: |
                                Update pinejs-client-core from 5.8.0 to 6.0.0
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                              nested:
                                - commits:
                                    - subject: Increase minimum es version to es2015
                                      hash: 52f3a97dc2b5aba07090a688fcd7afa2d2d789d8
                                      body: ""
                                      footer:
                                        Change-type: major
                                        change-type: major
                                      author: Pagan Gazzard
                                    - subject: Convert to async/await
                                      hash: b6c6d1f1dc9e9b05e60964a87e1677b0b4cc74eb
                                      body: ""
                                      footer:
                                        Change-type: major
                                        change-type: major
                                      author: Pagan Gazzard
                                    - subject: Remove now unnecessary PinejsClientCoreFactory
                                      hash: 35adea3c7c33a74920652ea547e8d649592e86fc
                                      body: ""
                                      footer:
                                        Change-type: major
                                        change-type: major
                                      author: Pagan Gazzard
                                    - subject: Switch to using native promises
                                      hash: d87e4570be580dccb1e511068beaf79878e66d06
                                      body: ""
                                      footer:
                                        Change-type: major
                                        change-type: major
                                      author: Pagan Gazzard
                                    - subject: Drop support for deprecated request overrides
                                      hash: 5aa89779bb06b9437382439b324f91d5fa9061b7
                                      body: ""
                                      footer:
                                        Change-type: major
                                        change-type: major
                                      author: Pagan Gazzard
                                    - subject: Drop support for deprecated `query` method
                                      hash: 2a0d315b111832c0a15a4cc581cd3f3cb5c32cd7
                                      body: ""
                                      footer:
                                        Change-type: major
                                        change-type: major
                                      author: Pagan Gazzard
                                    - subject: Drop support for deprecated string based requests
                                      hash: 493a2bc970923eb8d79e684e10d4ec433803a20c
                                      body: ""
                                      footer:
                                        Change-type: major
                                        change-type: major
                                      author: Pagan Gazzard
                                    - subject: Use `;` for expand options instead of `&`
                                      hash: 62f0f4c406ce87b2ba6d4a7f74c88107ac3144cb
                                      body: ""
                                      footer:
                                        Change-type: major
                                        change-type: major
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.0.0
                                  date: 2020-06-04T12:58:07.304Z
                          version: pinejs-client-request-7.0.0
                          date: 2020-06-16T10:57:45.926Z
                        - commits:
                            - subject: Lazy load bluebird-lru-cache and lodash
                              hash: a2b6b74600b9ddecc98cb90a5d2d9ca28495b835
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-request-6.2.0
                          date: 2020-06-08T15:32:03.904Z
                        - commits:
                            - subject: Convert some lodash usage to native versions
                              hash: 93aaa1f518859bbe08a5746fbb1668c9fd446ae3
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-request-6.1.4
                          date: 2020-06-08T11:53:33.697Z
                        - commits:
                            - subject: Remove unused dependencies
                              hash: 58a13f0fbe9692be029812db19f22aac7bd6f0f9
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-request-6.1.3
                          date: 2020-06-04T15:00:55.621Z
                        - commits:
                            - subject: Update dependencies
                              hash: 0087b900328f1ba02699fc75664b0d23eb433e67
                              body: |
                                Update pinejs-client-core from 5.6.11 to 5.8.0
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                              nested:
                                - commits:
                                    - subject: Generate optional builds for es2015/es2018 as well as the default es5
                                      hash: 510682b0e2a9d2a338aa977bd4782ec60fc5b196
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.8.0
                                  date: 2020-05-29T13:12:21.476Z
                                - commits:
                                    - subject: Update dependencies
                                      hash: 8141a6dfe6edd4c7e432d85c3533e6e02a43e2ff
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.7.1
                                  date: 2020-05-25T16:57:46.154Z
                                - commits:
                                    - subject: Make transformGetResult a method , to ease overriding the get method
                                      hash: f267d4bfc006d1aabfb0ed1f79c9234ecb5c7d5f
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                        See: https://github.com/balena-io/balena-api/pull/2532
                                        see: https://github.com/balena-io/balena-api/pull/2532
                                      author: Thodoris Greasidis
                                  version: pinejs-client-js-5.7.0
                                  date: 2020-04-15T13:13:28.186Z
                          version: pinejs-client-request-6.1.2
                          date: 2020-06-02T15:55:01.003Z
                        - commits:
                            - subject: Add linting
                              hash: 988d58f708da1bd1a4389a1a2129fa5d30706065
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-request-6.1.1
                          date: 2020-03-19T21:47:11.959Z
                        - commits:
                            - subject: Move require-npm4-to-publish to dev dependencies
                              hash: 084a19f61c408643d9a9448c1d656bed7791fec5
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: Update dependencies
                              hash: 1b06cd6c26b60a4d043ad1aaaf6e4ab9b822ace2
                              body: |
                                Update pinejs-client-core from 5.3.6 to 5.6.11
                                Update typed-error from 3.1.0 to 3.2.0
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                              nested:
                                - commits:
                                    - subject: update deps and specify minimum engine requirements
                                      hash: 22f293afc187e67b88dab280951eb6e2bb504b24
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                        Signed-off-by: Will Boyce <will@balena.io>
                                        signed-off-by: Will Boyce <will@balena.io>
                                      author: Will Boyce
                                  version: typed-error-3.2.0
                                  date: 2019-11-20T09:52:39.017Z
                                - commits:
                                    - subject: ": Fix missing `deprecated.getStringParams` function"
                                      hash: 53edb7e7485acd4310e9b04291894f6ab746285a
                                      body: >
                                        The function
                                        `deprecated.getStringParams` was used,
                                        but

                                        not defined.
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                        Signed-off-by: Andreas Fitzek <andreas@balena.io>
                                        signed-off-by: Andreas Fitzek <andreas@balena.io>
                                      author: Andreas Fitzek
                                  version: pinejs-client-js-5.6.11
                                  date: 2020-02-21T13:35:51.993Z
                                - commits:
                                    - subject: Update to resin-lint 3.x
                                      hash: f1b415154cc21b9880ad8ee1134ea9340220aba2
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.6.10
                                  date: 2020-02-14T15:37:12.741Z
                                - commits:
                                    - subject: "CircleCI: Remove deploy job as it's handled by balenaCI"
                                      hash: d6c9a485e0da5f6aa600597b6d076a8dce411df7
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.6.9
                                  date: 2020-02-14T15:27:02.200Z
                                - commits:
                                    - subject: Add the missing `method` on the post method
                                      hash: 2f649c3157a50277f6e168a64abb1593ac9d7a4f
                                      body: |
                                        Fixes a regression of v5.6.7.
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                        Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                        signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                      author: Thodoris Greasidis
                                  version: pinejs-client-js-5.6.8
                                  date: 2020-02-14T14:59:02.633Z
                                - commits:
                                    - subject: Deprecate request overrides
                                      hash: 84fa00ab60a98bbe56885ee5fabcccfc876a86d6
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                    - subject: Deprecate queries using a string url
                                      hash: 8cd9be6b0642ff5b1cba0596f827a74fd76bbff5
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                    - subject: Deprecate `query` in favor of `get`
                                      hash: ab77d10cad0a57914018b76c9755deddb3e078ef
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.6.7
                                  date: 2020-02-14T12:52:12.207Z
                                - commits:
                                    - subject: Allow resource/$count in $filter
                                      hash: 7eac38f1ed6a3bcdf1e6c4be5dde50aca953359e
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.6.6
                                  date: 2020-02-14T12:35:22.507Z
                                - commits:
                                    - subject: Remove `defaults` helper in favour of `??`
                                      hash: 806852bceb07a858572511609dc88ea0b748038e
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.6.5
                                  date: 2020-01-30T17:09:03.006Z
                                - commits:
                                    - subject: Avoid allocations when destroying a poll
                                      hash: 8f397a83803ae43d19331f4c32952384ba9e7fe6
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.6.4
                                  date: 2020-01-30T16:25:12.292Z
                                - commits:
                                    - subject: Improve `RawFilter` typing
                                      hash: 2006d4e7f0fecbb99357b82215da28978194db41
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.6.3
                                  date: 2020-01-30T12:59:22.535Z
                                - commits:
                                    - subject: Update dependencies
                                      hash: e7314acbdd029ece267a4568bf15cb5dc333eec1
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.6.2
                                  date: 2020-01-29T21:12:32.246Z
                                - commits:
                                    - subject: Switch most CODEOWNERS entries to a team
                                      hash: 3ef7e0db285ae54f96aee3f52319ac8d8c4d61e8
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.6.1
                                  date: 2020-01-22T16:38:22.045Z
                                - commits:
                                    - subject: Add 'upsert' method supporting natural keys, requires Pinejs ^10.19.1
                                      hash: c8ebfceec3ecc1cc57ee6942db35730c6d993192
                                      body: >
                                        Detects unique constrain errors by 409
                                        statusCodes.

                                        Because of this, the upsert() method is only

                                        supported when Pinejs ^10.19.0 is used.
                                      footer:
                                        Resolves: "#77"
                                        resolves: "#77"
                                        Change-type: minor
                                        change-type: minor
                                        Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                        signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                      author: Thodoris Greasidis
                                  version: pinejs-client-js-5.6.0
                                  date: 2019-07-12T20:46:17.091Z
                                - commits:
                                    - subject: Remove unnecessary `string` type that is handled by the `Params` type
                                      hash: 0ab1242860aa8b3ed4162a5ee25081c640297676
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.5.4
                                  date: 2019-06-18T14:46:38.983Z
                                - commits:
                                    - subject: Use an .npmrc to prevent creating a package-lock on each install
                                      hash: 993c4ae09c3ba50e1d48e4156e86a7c890e54749
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                        Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                        signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                      author: Thodoris Greasidis
                                  version: pinejs-client-js-5.5.3
                                  date: 2019-06-18T10:24:38.995Z
                                - commits:
                                    - subject: Add some type casting so that it compiles on TypeScript 3.5
                                      hash: 695c053ceab9b146a8b755f9b041eb03e70b5914
                                      body: ""
                                      footer:
                                        Resolves: "#79"
                                        resolves: "#79"
                                        Change-type: patch
                                        change-type: patch
                                        Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                        signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                      author: Thodoris Greasidis
                                  version: pinejs-client-js-5.5.2
                                  date: 2019-06-10T10:48:07.772Z
                                - commits:
                                    - subject: Fix downstream declaration creation errors due to `Dictionary`
                                      hash: a8a39edff8cc7e1d05fb9b67037718970e94296c
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.5.1
                                  date: 2019-05-15T13:32:13.920Z
                                - commits:
                                    - subject: Add a prepare method that prepares a query into a function
                                      hash: eb7eccca7d90c453710575ebdf3adb9ef56835a7
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.5.0
                                  date: 2019-05-15T11:51:46.450Z
                                - commits:
                                    - subject: Add CODEOWNERS
                                      hash: e01174008f812e0c24ec1036aa1f9ff0bc716e85
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                        Signed-off-by: Gergely Imreh <gergely@balena.io>
                                        signed-off-by: Gergely Imreh <gergely@balena.io>
                                      author: Gergely Imreh
                                  version: pinejs-client-js-5.4.1
                                  date: 2019-05-10T10:14:00.677Z
                                - commits:
                                    - subject: Add support for parameter aliases in resource ids
                                      hash: a4e6a640a3ced56bcd3ef7bf22770338e089a90d
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.4.0
                                  date: 2019-05-10T09:57:46.863Z
                                - commits:
                                    - subject: Deduplicate transformation of GET results
                                      hash: dd856e24072f652684adf63af97408ee0ba7389c
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.3.10
                                  date: 2019-05-10T09:44:09.422Z
                                - commits:
                                    - subject: Simplify how we expose types, which means `subscribe` is now exposed
                                      hash: f81e0cc59e75e0f9ffc71d9f122b9cfab9c05165
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.3.9
                                  date: 2019-05-10T08:57:16.276Z
                                - commits:
                                    - subject: Add automatic formatting via prettier
                                      hash: a345d32f295acfa8ed4e5b815c24e1e7fdb335f2
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.3.8
                                  date: 2019-05-09T17:38:43.260Z
                                - commits:
                                    - subject: Remove node 4 build, add node 12
                                      hash: 8d549277d80746feadbdd8a6bba37eb076270440
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                    - subject: Add .versionbot/CHANGELOG.yml for downstream changelogs
                                      hash: 067bedf65e86a902b7334ed6e5f117d6ac41afde
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.3.7
                                  date: 2019-05-08T15:41:50.201Z
                          version: pinejs-client-request-6.1.0
                          date: 2020-03-19T12:19:09.392Z
                        - commits:
                            - subject: Add CODEOWNERS
                              hash: efc40c853d4392b866eb3784839871fad086fccd
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-request-6.0.3
                          date: 2020-01-22T16:35:52.630Z
                        - commits:
                            - subject: Add node 12 tests
                              hash: 624b1efadfbb920d718bd2f54f99e8eef0e5c645
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: Add upstream for pinejs-client-core
                              hash: 33dc1299939483534686f52e903bb27f8a08b543
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-request-6.0.2
                          date: 2019-05-08T15:57:24.879Z
                        - commits:
                            - subject: Update target to es2016, part of/fixing the typed-error bump
                              hash: 6025bf882f6f2675b321571f327f59a4908da539
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-request-6.0.1
                          date: 2019-04-23T20:43:52.266Z
                        - commits:
                            - subject: "typed-error: Update to v3.1.0"
                              hash: 82e50ac9992b3a157360eef5163f43a90fa9feea
                              body: |
                                Update typed error from 2.0.0 to 3.1.0
                              footer:
                                Change-type: major
                                change-type: major
                                Signed-off-by: Will Boyce <will@balena.io>
                                signed-off-by: Will Boyce <will@balena.io>
                              author: Will Boyce
                          version: pinejs-client-request-6.0.0
                          date: 2019-04-17T15:08:00.745Z
                  version: balena-supervisor-11.8.3
                  date: 2020-06-18T12:26:43.171Z
                - commits:
                    - subject: Make service-manager module a singleton
                      hash: 0e8d92e08af5f18fce9aa9e3e1e7057c98dee1c3
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Make volume-manager module a singleton
                      hash: adaad786af161a7a3cdf61f2c63926e702fef790
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Make network-manager module a singleton
                      hash: 8fc97b9de89392bb9e6fd562e12d261ced3990cb
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Add supervisor upgrade document
                      hash: 989ec83a27621cab6c53dd026c2407dfe1b1b179
                      body: ""
                      footer:
                        Connects-to: https://github.com/balena-io/balena-io/issues/2157
                        connects-to: https://github.com/balena-io/balena-io/issues/2157
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Hugh Brown <hugh@balena.io>
                        signed-off-by: Hugh Brown <hugh@balena.io>
                      author: Hugh Brown
                  version: balena-supervisor-11.8.2
                  date: 2020-06-17T14:59:07.731Z
                - commits:
                    - subject: Update webpack dependencies
                      hash: e1fb8683f4687aa0844bf73780916db34e3ebd3d
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-11.8.1
                  date: 2020-06-16T12:08:37.495Z
                - commits:
                    - subject: Use API v6
                      hash: 1dccbaecd8a6cd8bf551e3b56131066e9de9ed35
                      body: ""
                      footer:
                        See: https://github.com/balena-io/open-balena/issues/80
                        see: https://github.com/balena-io/open-balena/issues/80
                        Change-type: minor
                        change-type: minor
                      author: Akis Kesoglou
                  version: balena-supervisor-11.8.0
                  date: 2020-06-16T09:16:47.483Z
                - commits:
                    - subject: Db-format module code fixups
                      hash: 695d91d4948aa5b89c602135ccc8fba8321fd8bd
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.7.3
                  date: 2020-06-15T09:55:57.277Z
                - commits:
                    - subject: Add label to expose gpu to container
                      hash: ae646a07ec6a6c96f7cb91f1d37898a94dbab47a
                      body: >
                        In the absence of an upstream implementation of the
                        DeviceRequest API introduced

                        as part of Docker API v1.40 we roll our own using a feature label.


                        As per my comment in the code, we fall back to the default behavior of

                        docker cli's `--gpu` and request single device with the `gpu` capabilty.

                        The only implementation at the moment is the NVIDIA driver; here:

                        https://github.com/balena-os/balena-engine/blob/master/daemon/nvidia_linux.go


                        Background on the composefile implementation:

                        https://github.com/compose-spec/compose-spec/issues/74

                        https://github.com/docker/compose/issues/6691
                      footer:
                        Change-type: patch
                        change-type: patch
                        Connects-to: https://github.com/balena-os/balena-jetson/pull/75
                        connects-to: https://github.com/balena-os/balena-jetson/pull/75
                        Signed-off-by: Robert Gnzler <robertg@balena.io>
                        signed-off-by: Robert Gnzler <robertg@balena.io>
                      author: Robert Gnzler
                  version: balena-supervisor-11.7.2
                  date: 2020-06-11T12:11:35.793Z
                - commits:
                    - subject: Move database app processing out to its own module
                      hash: b31d5007fba001fcb71f5103447823f9a27bbfaa
                      body: >
                        This is part of the work to make the application-manager
                        module much

                        less monolithic, in preperation for system apps and more generally

                        multi-app.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Make target-state-cache a singleton
                      hash: c0e170c61f05a8fc01dc167276ccb041d6d2d846
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.7.1
                  date: 2020-06-11T10:57:36.941Z
                - commits:
                    - subject: Respect an initialDeviceName field in the config.json
                      hash: b5918f0d84cea641c7ab9aae58aff99454d10253
                      body: ""
                      footer:
                        Closes: "#909"
                        closes: "#909"
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.7.0
                  date: 2020-06-10T12:30:37.459Z
                - commits:
                    - subject: Make images module a singleton
                      hash: 2b3dc2fbcef63ae2024fe5fe41f30b0d56357943
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.6.6
                  date: 2020-06-10T10:32:38.006Z
                - commits:
                    - subject: "fix: API auth missing on state GET/PATCH"
                      hash: b89425c6079b74c709ef9872c6fc53726ffda6d3
                      body: >
                        When performing a state GET/PATCH the authentication
                        header was being

                        missed off.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss
                        signed-off-by: Rich Bayliss
                      author: Rich Bayliss
                  version: balena-supervisor-11.6.5
                  date: 2020-06-09T14:06:37.184Z
                - commits:
                    - subject: Refactored @ts-ignore to @ts-expect-error in test file
                      hash: ffe814e4479a962979e759dfec8618dbfb53008b
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                  version: balena-supervisor-11.6.4
                  date: 2020-06-08T17:28:46.843Z
                - commits:
                    - subject: Make logger module a singleton
                      hash: 651e48b1bd8e9a9d356b63f8cb05aaeba622840d
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Fix exponential backoff for state polling
                      hash: e37b52dd689692eeca818907cf0d7e5876bec0b3
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-11.6.3
                  date: 2020-06-08T16:21:57.822Z
                - commits:
                    - subject: Make the event-tracker module a singleton
                      hash: 389e14ec6b63cf4a997f0d25f8bbe6a6a435dd5c
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.6.2
                  date: 2020-06-08T09:15:03.107Z
                - commits:
                    - subject: Convert all test files to TS and add .spec to all filenames
                      hash: 9fc2e86322249cfbc17db446bcd204f617b0a63e
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                    - subject: "fix: Pin alpine python version"
                      hash: 846545648bdc98392da7972558390f1ea26bfd24
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                  version: balena-supervisor-11.6.1
                  date: 2020-06-05T22:42:07.292Z
                - commits:
                    - subject: Isolate target state fetching to its own module which emits on update
                      hash: 17a5d8dd4918916c954990cfb9666754434ef527
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                  version: balena-supervisor-11.6.0
                  date: 2020-06-03T21:39:57.630Z
                - commits:
                    - subject: Make docker module a singleton
                      hash: aad20e2c2f9bf62dfb2e3092d898b100f911ecc5
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.5.3
                  date: 2020-06-02T16:59:27.552Z
                - commits:
                    - subject: Make the config module a singleton
                      hash: ff4a31a0e6269b823a04eeda2f433665617f583c
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Co-authored-by: Pagan Gazzard <page@balena.io>
                        co-authored-by: Pagan Gazzard <page@balena.io>
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.5.2
                  date: 2020-06-02T13:31:37.056Z
                - commits:
                    - subject: Remove unused dependencies and dedupe
                      hash: 6290993a79aa2231ac19bbe80a72af72cd8ae72e
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.5.1
                  date: 2020-06-01T08:52:49.304Z
                - commits:
                    - subject: Refactor device-state healthchecks to log reason for failure
                      hash: 5550a3a330b6a27addd940c185dc7d489cd89464
                      body: ""
                      footer:
                        Closes: "#1292"
                        closes: "#1292"
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                  version: balena-supervisor-11.5.0
                  date: 2020-05-29T20:26:07.486Z
                - commits:
                    - subject: Update dependencies
                      hash: 1decd87c21de6c6b2baf7cb9a93141c8d097b874
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-11.4.17
                  date: 2020-05-29T18:26:52.490Z
                - commits:
                    - subject: Make the db module a singleton
                      hash: 1d7381327e3114c0d005316846429d26b01a3e4c
                      body: >
                        We were treating the database class as a singleton, but
                        still having to pass

                        around the db instance. Now we can simply require the db module and have

                        access to the database handle.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.4.16
                  date: 2020-05-29T14:03:57.770Z
                - commits:
                    - subject: Check for ApiError before using it as such
                      hash: 972b896c95daf1305468137aefe1e12ead0d59ee
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.4.15
                  date: 2020-05-26T13:47:47.339Z
                - commits:
                    - subject: check for 409 status code, rather than string matching uuid conflicts
                      hash: eaaa9c257e750295ab6d464a7e1d2578297df84f
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.4.14
                  date: 2020-05-21T19:01:36.060Z
                - commits:
                    - subject: Use safeStateClone to avoid call-stack exceeding errors
                      hash: 87278c0d8c56a9c05511db83499f7476efca0edd
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.4.13
                  date: 2020-05-21T15:49:55.857Z
                - commits:
                    - subject: Improved handling of invalid appId in V2 state endpoint
                      hash: db7c27037cb3cc1e5f3ef8fbc676e0ee4a2ac0a1
                      body: ""
                      footer:
                        Closes: "#1294"
                        closes: "#1294"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                  version: balena-supervisor-11.4.12
                  date: 2020-05-19T14:58:36.939Z
                - commits:
                    - subject: Switch to balenaApi for the state patch as patching cannot be cached
                      hash: fb90042c3955e9a1a177076a711a12e226e0ab49
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-11.4.11
                  date: 2020-05-18T18:20:33.615Z
          version: meta-balena-2.52.4
          date: 2020-07-09T16:05:22.280Z
        - commits:
            - subject: "systemd: Simplify zram swap unit dependencies to avoid ordering cycle"
              hash: 22a529014b649df8a9b4bf94fa9922d6d692e238
              body: >
                The default dependency:


                Before=swap.target


                Causes randomly appearing ordering cycles that leave the system in not

                functioning states.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
          version: meta-balena-2.52.3
          date: 2020-07-09T08:03:52.827Z
        - commits:
            - subject: "kernel-resin: Make USB_SERIAL and USB_SERIAL_GENERIC built-ins"
              hash: 32c3f173fa4b8dc69f5ce8dc404d36585ab94c5b
              body: >
                These variables are defined as a bool and not tristate so they
                cannot be

                configured as a module.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: "kernel-resin: Fix configuration warnings from newer kernels"
              hash: 819b7276aaa7ac4b4492fb9800ea074085c1ca82
              body: >
                Also, make the security section not checked by the builder as
                these

                configurations have disappeared from kernels > v4.8
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: "kernel-resin: Update balena kernel configuration for updated engine"
              hash: f57846a1246e8fff506c95ee22c3347d83a5ec2e
              body: >
                Also, move configuration that will not be present in newer
                kernels to

                RESIN_CONFIGS_DEP so the kernel check task does not complain when not

                present.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
          version: meta-balena-2.52.2
          date: 2020-07-06T09:57:46.257Z
        - commits:
            - subject: Fix up UUID variable when communicating with API
              hash: 270c13c678d6dd67b5163063c8e8d9148c9a22e0
              body: ""
              footer:
                HQ: https://github.com/balena-io/balena-io/issues/2227
                hq: https://github.com/balena-io/balena-io/issues/2227
                Changelog-entry: Fix up UUID variable when communicating with API
                changelog-entry: Fix up UUID variable when communicating with API
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
          version: meta-balena-2.52.1
          date: 2020-07-02T14:30:47.139Z
  version: 2.52.7+rev1
  date: 2020-07-17T16:06:10.987Z
- commits:
    - subject: "u-boot: Remove custom fdt_addr patch"
      hash: 45efe0d71d887e741d4a83ba7d158fc9e9f8c25c
      body: |
        Recent patches in upstream meta-tegra
        u-boot 2020.04 make this patch inapplicable,
        it needs to be removed.
      footer:
        Changelog-entry: "u-boot: Remove custom fdt_addr patch"
        changelog-entry: "u-boot: Remove custom fdt_addr patch"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.52.0+rev2
  date: 2020-07-16T07:56:43.134Z
- commits:
    - subject: Update meta-balena from v2.51.1 to v2.52.0
      hash: bf7ab932d24a0f68d3c920d2aedaa4b87fd6b6e9
      body: |
        Update meta-balena from 2.51.1 to 2.52.0
      footer:
        Changelog-entry: Update meta-balena from v2.51.1 to v2.52.0
        changelog-entry: Update meta-balena from v2.51.1 to v2.52.0
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: Add compressed memory swap support
              hash: 157794a7ae5958b27152c642437c5c7fbe838364
              body: |
                Enable compressed swap using zram by default.

                Fixes #1908
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add compressed memory swap support
                changelog-entry: Add compressed memory swap support
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: "systemd-zram-swap: Add compressed memory swap support"
              hash: 4c5156543852a6c2d963bf33f4e4307a7cb303cb
              body: >
                This enables a compressed RAM swap of 25% of total system memory
                or 1GB,

                whichever smallest.


                Upstream Yocto has a zram implementation that's broken in warrior, and a

                new implementation introduced in Zeus that does not work in BalenaOS as

                we run two udevs, one in the initramfs and one in the main OS. The

                mkswap needs to happen in the initramfs udev otherwise the udev database

                is not updated with the swap device and the zram0 device is not detected

                by systemd.


                This implementation is simpler than the one upstream and common to all

                the supported Yocto versions. It uses a udev rule in the initramfs that

                creates the swap drive, and a swap unit in the main OS that enables it.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: "kernel-resin: Built-in zram configuration"
              hash: 2fcf092e08349bc66a2a90172668024e8a589d22
              body: >
                In preparation to using zram swap drives make this configuration
                built-in

                so it is available in the initramfs.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
          version: meta-balena-2.52.0
          date: 2020-06-30T15:06:27.072Z
        - commits:
            - subject: "resin-ntp-config: merge 'burst' command with 'add server' line"
              hash: 034ff61a58f30a980514157412c0455b52ddf744
              body: >
                When the user supplies an additional NTP server source which is
                a

                pool URL the 'burst' command may fail. This occurs when the pool

                URL resolves to a different IP addresses for the 'add server' and

                'burst' commands.


                To avoid this issue we can combine the burst functionality into the

                'add server' command by using the 'iburst' option. Although this

                option is not documented by the chronyc man page it has been present

                since v1.25 released in 2011.


                This fix has been tested via the balenaOS (2.51.1+rev1) command line

                running on a RPi3.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: "#1903"
                connects-to: "#1903"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
          version: meta-balena-2.51.8
          date: 2020-06-30T11:03:07.814Z
        - commits:
            - subject: "resin-image: Install extra_uEnv.txt in boot partition"
              hash: e323d312f518d1ad50382a72182cb3bcb2afbd1a
              body: |
                Do so only for devices that use u-boot.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
          version: meta-balena-2.51.7
          date: 2020-06-25T11:34:26.632Z
        - commits:
            - subject: "initrdscripts: rootfs: Fix comparison to account for empty variable"
              hash: 63b3fac98b09f2a98ca44223f98cbc7c419197e3
              body: >
                Enclosing bootparam_root in between quotes makes the comparison
                work as

                expected with an empty argument.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: Use UUID rather than ID when communicating with API
              hash: 9363bf9a0a634a5982b21870de08bc208d6e5f1f
              body: ""
              footer:
                Changelog-entry: Use UUID rather than ID when communicating with API
                changelog-entry: Use UUID rather than ID when communicating with API
                HQ: https://github.com/balena-io/balena-io/issues/2227
                hq: https://github.com/balena-io/balena-io/issues/2227
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
          version: meta-balena-2.51.6
          date: 2020-06-25T08:11:55.137Z
        - commits:
            - subject: Set chrony default servers as pools
              hash: 881e217ac1b1818237afb20312fd593259f44e2a
              body: >
                the `maxsources` directive is simply to maintain the current
                behavior of

                resolving four servers for synchronization. as noted in chrony's docs:


                > When a pool source is unreachable, marked as a falseticker, or has a distance larger than the limit set by the maxdistance directive, chronyd will try to replace the source with a newly resolved address from the pool.
              footer:
                Connects-to: "#1852"
                connects-to: "#1852"
                Change-type: patch
                change-type: patch
                Changelog-entry: Set chrony default servers as pools
                changelog-entry: Set chrony default servers as pools
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
          version: meta-balena-2.51.5
          date: 2020-06-18T14:02:47.372Z
        - commits:
            - subject: Generate nested changelogs for balena-engine
              hash: 16b4760bfe6958bacf67b00100ac5f8fc37fe6bd
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
          version: meta-balena-2.51.4
          date: 2020-06-15T15:27:55.173Z
        - commits:
            - subject: Revert allowing local resin-supervisor image updates
              hash: 1f689dbd57faf558dedf245462ed7c869a1aeb1a
              body: >
                The change this commit reverts allowed to update with a locally

                available image - but it also has the side effect of restarting the

                supervisor even if no update is required and that has unintentional

                consequences as https://github.com/balena-io/balena-supervisor/issues/1358


                This commit reverts 646e4ae809375f4abf35c55cd580e2c62a8812e2
              footer:
                Changelog-entry: Revert allowing local resin-supervisor image updates
                changelog-entry: Revert allowing local resin-supervisor image updates
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
          version: meta-balena-2.51.3
          date: 2020-06-10T10:22:46.347Z
        - commits:
            - subject: Disable u-boot console, silence u-boot in production builds
              hash: 908590c49f7f4f89bfd1c2f8fdcaf8a0f3f3eceb
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Disable u-boot console, silence u-boot in production builds
                changelog-entry: Disable u-boot console, silence u-boot in production builds
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Florin Sarbu
          version: meta-balena-2.51.2
          date: 2020-06-08T15:34:26.850Z
    - subject: "u-boot-tegra: Allow loading custom fdt specified in env"
      hash: e94724b333651882c5ccfaa1069f9f9e71f58048
      body: |
        If resinOS_uEnv.txt defines a custom dtb using
        custom_fdt_file then u-boot will try to load
        that file from the current active root partition.

        If it is not found or cannot be loaded,
        we default to raw partition dtb from emmc.
      footer:
        Changelog-entry: "u-boot-tegra: Allow loading custom fdt specified in env"
        changelog-entry: "u-boot-tegra: Allow loading custom fdt specified in env"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.52.0+rev1
  date: 2020-07-14T13:22:35.487Z
- commits:
    - subject: "linnux-tegra: Update photon-nano dtb to 32.4.2"
      hash: cefd3c1ff1554af26ac6f08bc7655f8ef03525cf
      body: |
        This dtb is taken directly from vendor's website,
        for nano on L4T 32.4.2 JP 4.4
      footer:
        Changelog-entry: "linnux-tegra: Update photon-nano dtb to 32.4.2"
        changelog-entry: "linnux-tegra: Update photon-nano dtb to 32.4.2"
        Signed-off-by: Pelle van Gils <pelle@hwky.ai>
        signed-off-by: Pelle van Gils <pelle@hwky.ai>
      author: Pelle van Gils
      nested: []
  version: 2.51.1+rev6
  date: 2020-07-10T15:25:22.230Z
- commits:
    - subject: Add support for CTI photon NX
      hash: c958a49eb22055bb7ebaefbf4a41953bffc17697
      body: |
        Add machine file for CTI Photon NX
        carrier board for Jetson Xavier NX
      footer:
        Changelog-entry: Add support for CTI photon NX
        changelog-entry: Add support for CTI photon NX
        Signed-off-by: Pelle van Gils <pelle@hwky.ai>
        signed-off-by: Pelle van Gils <pelle@hwky.ai>
      author: Pelle van Gils
  version: 2.51.1+rev5
  date: 2020-07-08T09:51:10.795Z
- commits:
    - subject: "linux-tegra: Update dtb for jn30b-nano to 32.4.2"
      hash: bd8f24789ad3a15cfc5b006afc8d7703c003bf6b
      body: |
        This dtb is from vendor's JN30B BSP package for L4T 32.4.2
      footer:
        Changelog-entry: "linux-tegra: Update dtb for jn30b-nano to 32.4.2"
        changelog-entry: "linux-tegra: Update dtb for jn30b-nano to 32.4.2"
        Signed-off-by: Pelle van Gils <pelle@hwky.ai>
        signed-off-by: Pelle van Gils <pelle@hwky.ai>
      author: Pelle van Gils
  version: 2.51.1+rev4
  date: 2020-06-26T15:27:21.211Z
- commits:
    - subject: Update balena-yocto-scripts to v1.8.0
      hash: 4c6f5efd9aeb6fdae6a5fb557cfc4de4252b7060
      body: ""
      footer:
        Changelog-entry: Update balena-yocto-scripts to v1.8.0
        changelog-entry: Update balena-yocto-scripts to v1.8.0
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.51.1+rev3
  date: 2020-06-26T11:26:59.986Z
- commits:
    - subject: "u-boot: Fix defconfig typo for tx2"
      hash: bbaa67bc5aa632e4a8c6024b02f7e52cab64aa30
      body: |
        While rebasing patches for the 2020 u-boot
        a typo has slipped in the tx2 defconfig, which
        can affect rollbacks. Let's fix it.
      footer:
        Changelog-entry: "u-boot: Fix defconfig typo for tx2"
        changelog-entry: "u-boot: Fix defconfig typo for tx2"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.51.1+rev2
  date: 2020-06-17T08:08:00.962Z
- commits:
    - subject: "linux-tegra: Update dtb for spacely-tx2 to 32.4.2"
      hash: 06e30f02cbefdf4578c87547ed36efdadf43fa31
      body: |
        This dtb is taken directly from vendor's website,
        for TX2 on L4T 32.4.2
      footer:
        Changelog-entry: "linux-tegra: Update dtb for spacely-tx2 to 32.4.2"
        changelog-entry: "linux-tegra: Update dtb for spacely-tx2 to 32.4.2"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: "linux-tegra: Update orbitty tx2 dtb to 32.4.2"
      hash: 99e24718d6a9459ac1be8f874cc19b584d8114c8
      body: |
        This dtb is taken directly from vendor's website,
        for TX2 on L4T 32.4.2
      footer:
        Changelog-entry: "linux-tegra: Update orbitty tx2 dtb to 32.4.2"
        changelog-entry: "linux-tegra: Update orbitty tx2 dtb to 32.4.2"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: Update meta-balena from v2.50.1 to v2.51.1
      hash: b6da63041e8f19ea7045afdbb862dfddbe117b25
      body: |
        Update meta-balena from 2.50.1 to 2.51.1
      footer:
        Changelog-entry: Update meta-balena from v2.50.1 to v2.51.1
        changelog-entry: Update meta-balena from v2.50.1 to v2.51.1
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "openvpn: Add runtime dependency on bash"
              hash: f84dcfdd4493ee23c84940348dbbffff9ced48a2
              body: >
                The dependency is introduced by the upstream.sh and
                downstream.sh scripts.

                Bash is also a dependency not only for internal packages but for external

                scripts too.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Willem Remie
          version: meta-balena-2.51.1
          date: 2020-06-04T10:21:31.775Z
        - commits:
            - subject: "balena-engine: Update to 19.03.13"
              hash: 6c08852dfad1bd4d62b4e86ce90602d0610e75b0
              body: |
                We also strip the binary using go's built-in mechanism instead
                of relying on yocto for it.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
          version: meta-balena-2.51.0
          date: 2020-06-03T09:11:52.603Z
        - commits:
            - subject: Use correct SRC_URI for bindmount
              hash: 38b1761db39bdd566396d0a2bbad1eda9273bf5d
              body: |
                The repo has changed and we need to accomodate for that change.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Use correct SRC_URI for bindmount
                changelog-entry: Use correct SRC_URI for bindmount
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
          version: meta-balena-2.50.4
          date: 2020-06-02T12:50:09.159Z
        - commits:
            - subject: "os-helpers-fs: Fix shellcheck warnings"
              hash: 746cabdd234e9b94aeb6bd71289ac87d996301be
              body: |
                Fix all warnings from the shellcheck linter.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: Fallback to label root device matching to support devices with closed
                source bootloaders
              hash: f41735550c6e29ecd520e58f84c2281e4daf6c9f
              body: >
                Devices with closed source bootloaders that cannot be made to
                pass the UUID

                of the booting device (like smartphones, Jetson NX and Xabier), need to

                fallback to passing a label in the kernel command line.


                Fixes #1905
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fallback to label root device matching to support devices with
                  closed source bootloaders
                changelog-entry: Fallback to label root device matching to support devices with
                  closed source bootloaders
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: Fallback to labels and partlabels for devices with custom HUPs
              hash: e267e1dd2fcd4a841b09ba204bee6a58403a316c
              body: >
                Devices with custom HUPs, like Jetson devices that run BSP
                partition update

                scripts, do not have state symlinks when updating from legacy pre state

                symlinks OS versions, so they need to fallback to legacy label/partname

                resolution.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fallback to labels and partlabels for devices with custom HUPs
                changelog-entry: Fallback to labels and partlabels for devices with custom HUPs
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
          version: meta-balena-2.50.3
          date: 2020-06-01T12:36:08.312Z
        - commits:
            - subject: Enable the Analog Devices AD5446 kernel driver
              hash: 0231d9c4b33cd3fed9e4f552e3a9b916184e9b9f
              body: |
                At customer request we enable this driver.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Enable the Analog Devices AD5446 kernel driver
                changelog-entry: Enable the Analog Devices AD5446 kernel driver
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
          version: meta-balena-2.50.2
          date: 2020-05-27T11:16:26.872Z
  version: 2.51.1+rev1
  date: 2020-06-12T08:53:37.666Z
- commits:
    - subject: Update balena-yocto-scripts to v1.7.2
      hash: 6cac23c010cb6bfd134d0488b400e814ed28ea71
      body: ""
      footer:
        Changelog-entry: Update balena-yocto-scripts to v1.7.2
        changelog-entry: Update balena-yocto-scripts to v1.7.2
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: Update meta-balena from v2.49.0 to v2.50.1
      hash: 93c92430acb4ca98172c401a597935bd3cce6c2c
      body: |
        Update meta-balena from 2.49.0 to 2.50.1
      footer:
        Changelog-entry: Update meta-balena from v2.49.0 to v2.50.1
        changelog-entry: Update meta-balena from v2.49.0 to v2.50.1
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "networkmanager: Remove build warning"
              hash: 5e5aa5c01e3f47a26ae055bb7b4fe44202a9b2f1
              body: >
                Include BPN in the generic bbappends extra path to avoid the

                following warning:

                    WARNING: networkmanager_1.16.0.bb: Unable to get checksum for networkmanager SRC_URI entry 0001-wwan-Set-MTU-based-on-what-ModemManager-exposes.patch: file could not be found
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: Remove busybox-syslog to use only systemd's journald
              hash: 9a1cedd66bbf298385c0a8460b3f9c3bb2da2f9e
              body: >
                All logging is handled by journald so remove the default
                dependency on

                busybox-syslog. It is still available to be explicitely included in

                images that might need it like initramfs images.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Remove busybox-syslog to use only systemd's journald
                changelog-entry: Remove busybox-syslog to use only systemd's journald
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: Update CODEOWNERS
              hash: 272d16d3d12c4dc8f02a62d3edbe2eee6a1fca75
              body: |
                Update codeowners. @ZubairLK thanks for all the fish.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: Backport NM patch for setting modem MTU correctly
              hash: fe7f8a33b1298f971b6dbc636bd06f86157196ce
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Backport NM patch for setting modem MTU correctly
                changelog-entry: Backport NM patch for setting modem MTU correctly
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: "update-resin-supervisor: short circuit if remote image cannot be
                fetched"
              hash: 859d4cba74bbbcdfbdcdc4ab8c7c8e7471d8c676
              body: ""
              footer:
                Changelog-entry: "update-resin-supervisor: short circuit if remote image cannot
                  be fetched"
                changelog-entry: "update-resin-supervisor: short circuit if remote image cannot
                  be fetched"
                HQ: https://github.com/balena-io/balena/issues/2108
                hq: https://github.com/balena-io/balena/issues/2108
                Connects-to: "#1869"
                connects-to: "#1869"
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
            - subject: Update balena-supervisor from v11.4.1 to v11.4.10
              hash: 98c7f8fae159151bea3c475747b7838d4b4a4174
              body: |
                Update balena-supervisor from v11.4.1 to v11.4.10
              footer:
                Changelog-entry: Update balena-supervisor from v11.4.1 to v11.4.10
                changelog-entry: Update balena-supervisor from v11.4.1 to v11.4.10
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested:
                - commits:
                    - subject: Fix leftover spurious return from typescript conversion
                      hash: 6972dcd92d36576517681685a129e89a8a06f722
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.4.10
                  date: 2020-05-18T14:23:19.048Z
                - commits:
                    - subject: Catch errors in the target state poll so polling will always continue
                      hash: dc187f0036875345ab489d14889c488eead24dc2
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-11.4.9
                  date: 2020-05-18T13:17:23.537Z
                - commits:
                    - subject: Avoid querying `instantUpdates` on every state poll
                      hash: afae5d15d49a75168ebe6d4f8911e96918d0da5e
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-11.4.8
                  date: 2020-05-18T12:25:53.833Z
                - commits:
                    - subject: Fix default request options
                      hash: b05d597ade83fcb1a58021ade0c11f70d232a39f
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-11.4.7
                  date: 2020-05-16T13:08:14.505Z
                - commits:
                    - subject: Remove CoffeeScript tests and all CoffeeScript tools
                      hash: 466c7999dbbe19acf7bfc2dff260778d229b5524
                      body: ""
                      footer:
                        Closes: "#1318"
                        closes: "#1318"
                        Change-Type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                  version: balena-supervisor-11.4.6
                  date: 2020-05-15T17:04:23.719Z
                - commits:
                    - subject: Update to @balena/lint 5.x
                      hash: 758f3caa48a53c00dd3230fe97e2f704968c4eb6
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-11.4.5
                  date: 2020-05-15T11:11:04.464Z
                - commits:
                    - subject: Add a random offset to the poll interval with each poll
                      hash: 58c6a69e5a6045e898ce5748089f4dcad7d12bc3
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Closes: "#1242"
                        closes: "#1242"
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.4.4
                  date: 2020-05-15T09:36:33.693Z
                - commits:
                    - subject: Cache service names in local log backend
                      hash: 0bceffffb61a5970db0293a8f6d83fe8015163ef
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.4.3
                  date: 2020-05-14T08:43:43.453Z
                - commits:
                    - subject: Update engine information in package.json
                      hash: bbfd87d3257dec064f62dc05ee7d523593e8f415
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.4.2
                  date: 2020-05-13T08:49:32.854Z
          version: meta-balena-2.50.1
          date: 2020-05-21T13:40:07.611Z
        - commits:
            - subject: Use /tmp as bootparam_root storage
              hash: bab3cd7f50022127bfef50fde9cd445b6b55a7b2
              body: >
                From v2.49, the hostapp-update utility creates the /run
                directory in the

                root filesystem, however when huping from previous versions /run is not there.


                This commit switches to use /tmp to store the new UUID for the root partition on

                first boot after generating new UUIDs.
              footer:
                Changelog-entry: Use /tmp as bootparam_root storage
                changelog-entry: Use /tmp as bootparam_root storage
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: Update to libqmi v1.24.10
              hash: c287550b2b2ca78c515b2d3336c5622af0c28303
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update to libqmi v1.24.10
                changelog-entry: Update to libqmi v1.24.10
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
            - subject: Set rust 1.36 as the preferred rust version from meta-balena-common
              hash: f0217237cd3c56dcada8909af1ba871356aaff8a
              body: >
                rust is used for various utilities in the OS.

                e.g. os-config, healthdog, bindmount, some others maybe


                At the moment, we haven't syncronized on one rust version and device

                integration layers can pick any meta-rust version. Which probably uses

                the latest rust version in the layer.


                Lets sync on 1.36 and move in steps when needed.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Set rust 1.36 as the preferred rust version from
                  meta-balena-common
                changelog-entry: Set rust 1.36 as the preferred rust version from
                  meta-balena-common
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Turn off wlan0 power save
              hash: 6aec8dc1e97d3a7cdbf494909c1696a4ebd1eb04
              body: |
                The power save has been switched from 'off' to 'on' in adf69fb
                with no apparent motivation, we consider it an oversight
                and the desired state is 'off'.

                Fixes #1850
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Turn off wlan0 power save
                changelog-entry: Turn off wlan0 power save
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
            - subject: Update os-config from 1.1.3 to 1.1.4
              hash: d5b311daccb6c4b3152562ab67d6ed3e4df608e1
              body: |
                Fixes versionbot's nested changelogs.

                Update os-config from 1.1.3 to 1.1.4
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update os-config from 1.1.3 to 1.1.4
                changelog-entry: Update os-config from 1.1.3 to 1.1.4
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested:
                - commits:
                    - subject: "versionbot: Add changelog yml file"
                      hash: 9b35f5e9cb6b27b92f7dc578a92532ade36c7a36
                      body: >
                        This file allows other components to uniquely parse the
                        information that

                        is contained in the changelog. It will be automatically managed by

                        versionist by appending the new commits on top. This is needed to

                        provide nested-changelogs.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Alex Gonzalez <alexg@balena.io>
                        signed-off-by: Alex Gonzalez <alexg@balena.io>
                      author: Alex Gonzalez
                  version: os-config-1.1.4
                  date: 2020-05-13T11:32:03.684Z
            - subject: Update balena-supervisor from v11.3.0 to v11.4.1
              hash: 4aafd0dc1991f34a64a2336876f95c71cf121178
              body: |
                Update balena-supervisor from v11.3.0 to v11.4.1
              footer:
                Changelog-entry: Update balena-supervisor from v11.3.0 to v11.4.1
                changelog-entry: Update balena-supervisor from v11.3.0 to v11.4.1
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested:
                - commits:
                    - subject: Correctly check if value is a valid Integer
                      hash: 838c1ebba4c3d4cba31f5ef233f09020fa3d03f7
                      body: ""
                      footer:
                        Closes: "#1180"
                        closes: "#1180"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                  version: balena-supervisor-11.4.1
                  date: 2020-05-12T16:50:20.376Z
                - commits:
                    - subject: Added endpoint to check if VPN is connected
                      hash: 8295858b328d885782c6f0cead44248b1f17fd50
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                  version: balena-supervisor-11.4.0
                  date: 2020-05-12T01:24:43.749Z
                - commits:
                    - subject: Fixed stubs for test suite
                      hash: f6aa4dd015e8bd07c795f6c1e70adf99a6ffec94
                      body: ""
                      footer:
                        Closes: "#1280"
                        closes: "#1280"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                  version: balena-supervisor-11.3.11
                  date: 2020-05-11T22:19:04.161Z
                - commits:
                    - subject: Added more documentation to help new contributors start developing
                      hash: 856e7cba2cc767ded0eeb5186a1cce19ea447735
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                  version: balena-supervisor-11.3.10
                  date: 2020-05-11T19:32:42.867Z
                - commits:
                    - subject: Fix dindctl script and update balenaos-in-container
                      hash: c317b02aef0bd2496f39ab245fa7c670e806f2e3
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Closes: "#1306"
                        closes: "#1306"
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.3.9
                  date: 2020-05-11T13:16:55.781Z
                - commits:
                    - subject: Remove unnecessary config.json keys
                      hash: 913418bb37aafe1e66dcc9cd6e1f84e89dee4712
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-11.3.8
                  date: 2020-05-08T11:59:18.907Z
                - commits:
                    - subject: "CI: Use node 12 for tests to match runtime version"
                      hash: 095f67c83011b60a06d75c5f0432937b93049ad5
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: "CI: Use docker 18 client to match remote"
                      hash: 8c1838fd5ea0d36787857d7040f8359d9618c061
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-11.3.7
                  date: 2020-05-08T11:43:11.578Z
                - commits:
                    - subject: Move SupervisorAPI state change logs to appropriate functions
                      hash: 60c07fc2fc2c352091995c2e599752fb12c05148
                      body: ""
                      footer:
                        Closes: "#1277"
                        closes: "#1277"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                  version: balena-supervisor-11.3.6
                  date: 2020-05-07T17:53:21.140Z
                - commits:
                    - subject: Add 20k-ultra to codeowners
                      hash: 74d012dc7f972ad30896007e78386a9c03224a05
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                  version: balena-supervisor-11.3.5
                  date: 2020-05-07T16:11:47.494Z
                - commits:
                    - subject: Don't use the openvpn alias to check VPN status
                      hash: 8f09022d1fd85f63d760017e19150b0f23a2884a
                      body: ""
                      footer:
                        Closes: "#1293"
                        closes: "#1293"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.3.4
                  date: 2020-05-06T16:19:09.090Z
                - commits:
                    - subject: Use lstat rather than stat to avoid error with symlinks in sync
                      hash: a7399fd78b914e6dccacd2935cd98f77176d65d8
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Closes: "#1301"
                        closes: "#1301"
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.3.3
                  date: 2020-05-06T12:51:38.623Z
                - commits:
                    - subject: Move build files into build-conf and rename to build-utils
                      hash: 02d088d351327ee5cab46029efb3ca7dce067fd6
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Fix knex migration require translation
                      hash: 585bd803134db999425fae322fd4e7259caaa27a
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Closes: "#1274"
                        closes: "#1274"
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.3.2
                  date: 2020-05-05T16:58:04.403Z
                - commits:
                    - subject: Remove legacy fallback to DROP rule in iptables
                      hash: 31957566e5f5b21910988319472721ce2a931a38
                      body: >
                        This has not been necessary for a long time, and wwe can
                        now remove it.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Add an ESTABLISHED flag to API iptables rules
                      hash: 7b1f03ced509cdbdbea950e079ba2fab5c3699bb
                      body: >
                        This allows a response to an input with dport=`supevisor
                        api port` and

                        is required when the host OS is doing stateful firewalling.


                        This should not affect things when stateful firewalling is not in

                        effect, as the standard OUTPUT chain policy is ACCEPT, so we're just

                        being explicit about it.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Backport-to: next, current, sunset
                        backport-to: next, current, sunset
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Add ESR information to repo.yml
                      hash: 7f5395da885146ccf707fa52f0916afa7c832eeb
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.3.1
                  date: 2020-05-05T11:18:20.667Z
            - subject: Update balena-supervisor from v10.11.0 to v11.3.0
              hash: 02dfac89f28dbf94f5069a68613147674f6c6c8b
              body: |
                Update balena-supervisor from v10.11.0 to v11.3.0
              footer:
                Changelog-entry: Update balena-supervisor from v10.11.0 to v11.3.0
                changelog-entry: Update balena-supervisor from v10.11.0 to v11.3.0
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested:
                - commits:
                    - subject: Added Bearer Authorization spec
                      hash: 2007a98940ea93f8064b045fce52133a4b48bac0
                      body: ""
                      footer:
                        Closes: "#1249"
                        closes: "#1249"
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                  version: balena-supervisor-11.3.0
                  date: 2020-05-04T17:26:19.216Z
                - commits:
                    - subject: Added explanation README for running specific tests
                      hash: a8ac3d0bc9344653d68c43fe3298171b379823d7
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                  version: balena-supervisor-11.2.0
                  date: 2020-04-30T19:05:08.820Z
                - commits:
                    - subject: Remove coverage running and modules
                      hash: 6c360c2273ad2ab66ed254a1172f138d4c1430d8
                      body: >
                        The coverage no longer works with es2020, and nobody
                        really pays any

                        attention to the coverage as it is.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.1.11
                  date: 2020-04-28T12:56:50.014Z
                - commits:
                    - subject: Update balena-register-device to fix provisioning
                      hash: 7c27a561a8401054304fb967d5805b446e0cb3a1
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.1.10
                  date: 2020-04-27T17:48:09.624Z
                - commits:
                    - subject: Added protocol to semver.org link
                      hash: f9d7951cc5c1b20e989d04471a73d491118b3dfe
                      body: ""
                      footer:
                        Closes: "#1256"
                        closes: "#1256"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                  version: balena-supervisor-11.1.9
                  date: 2020-04-22T21:42:29.017Z
                - commits:
                    - subject: Actually remove dbus-native dependency
                      hash: 508708aa32a56f23cc3a8df9e8071d340879a936
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.1.8
                  date: 2020-04-21T13:30:10.250Z
                - commits:
                    - subject: Fix livepush predicate for POSIX sh in entry.sh
                      hash: e2eba6280d19e5d74c9e3bb7bbfeea797378b08d
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.1.7
                  date: 2020-04-21T11:59:25.840Z
                - commits:
                    - subject: Remove double printing of API status error
                      hash: f599799950c9182cf97ef40dd894feb25c833e67
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.1.6
                  date: 2020-04-21T08:57:07.074Z
                - commits:
                    - subject:  Upgrade migrations to work with knex
                      hash: f79142482921bf925e8bbf879b04ea533b5e01cd
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject:  Upgrade knex to avoid CVE-2019-10757
                      hash: a43d71d1ac6d6d09b3fb6375a5ad97690fd979c1
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.1.5
                  date: 2020-04-15T12:40:19.254Z
                - commits:
                    - subject:  Also watch js files during livepush
                      hash: aa46be93d43540793245c0f6c2e895f32fb44e1e
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Clear changed files after successful livepush invocation
                      hash: 4f2a534075ae2c6037070ef90f38a3066d08c53e
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Use livepush commands for copying and running dev specific steps
                      hash: 67c3055fd4be341248a213828550b2b04ccc2677
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.1.4
                  date: 2020-04-14T09:53:51.068Z
                - commits:
                    - subject:  Update supervisor to node12
                      hash: 826eec2e4fe29860d23cf6c2276390b5c7f26a09
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.1.3
                  date: 2020-04-13T13:40:05.787Z
                - commits:
                    - subject: Move from dbus-native to dbus
                      hash: 37feb7e325ccf8639680e9a1f274b5755e5d35a2
                      body: ""
                      footer:
                        Closes: "#1049"
                        closes: "#1049"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.1.2
                  date: 2020-04-13T09:36:34.724Z
                - commits:
                    - subject: Update copy-webpack-plugin
                      hash: e5f1a6b6ed7473ebfaa9f67ec0d258e9edef38b7
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Update ts-loader to 6.x
                      hash: 59f300df629422284665b19b5cf9d931bfc30fcf
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Update fork-ts-checker-webpack-plugin to 4.x
                      hash: 9ed36ec00651199dc92afee1a41e6ef5bb8534c7
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-11.1.1
                  date: 2020-04-10T11:51:52.777Z
                - commits:
                    - subject: Support matching on device type within contracts
                      hash: c9c0e650cb0f6655ac5a6c545e6b009c6fe6fa1c
                      body: ""
                      footer:
                        Closes: "#1191"
                        closes: "#1191"
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.1.0
                  date: 2020-04-09T09:47:30.853Z
                - commits:
                    - subject: Workaround a circular dependency
                      hash: a59af6abe894000cd9cdc43d6963bdfc572e2f2b
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-11.0.9
                  date: 2020-04-08T16:43:14.411Z
                - commits:
                    - subject: Link sqlite with a system sqlite for quicker builds
                      hash: b6dde69c4f8b52fa4928242d5b04d9c203f64c65
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.0.8
                  date: 2020-04-08T13:06:43.833Z
                - commits:
                    - subject: Convert application-manager.coffee to javascript
                      hash: a2ec35456b8bc23641144fb0f7136d1d364f1fce
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-11.0.7
                  date: 2020-04-08T11:18:00.532Z
                - commits:
                    - subject: Don't sync test files with livepush
                      hash: 6dda0efa1fc54765450aac235393883f293b9bc5
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.0.6
                  date: 2020-04-08T07:44:13.444Z
                - commits:
                    - subject: Add newTargetState event and use it for backup loading
                      hash: 0a429f60a5dc93a428e5e88932e7d2bbcdb81b36
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.0.5
                  date: 2020-04-07T13:53:23.726Z
                - commits:
                    - subject: Don't wrap UpdatesLockedErrors with a detailed error
                      hash: dda627021991f45818ce723e0ee83c085b2c785d
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.0.4
                  date: 2020-04-07T12:15:24.426Z
                - commits:
                    - subject: Allow spaces in volume definitions
                      hash: 0950b66c52f2af10fcd44cb60f1b18007dd8aef0
                      body: ""
                      footer:
                        Closes: "#1247"
                        closes: "#1247"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.0.3
                  date: 2020-04-07T09:38:43.764Z
                - commits:
                    - subject: Update to balena-register-device 6.0.1
                      hash: 81927d78612aa5944aab8a1322735e32c311d927
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-11.0.2
                  date: 2020-04-06T16:47:10.397Z
                - commits:
                    - subject: Don't mangle names when minimising with webpack
                      hash: 6fe3bfa4f2668fd364a977ccf4830e91b07fd47a
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.0.1
                  date: 2020-04-06T12:39:03.990Z
                - commits:
                    - subject:  Update synchronisation scripts for supervisor development
                      hash: 8ab63656bd483645fe0238fee2a1824158f3f453
                      body: >
                        We move the old sync.js script to tools/, and delete the
                        now-broken

                        sync-debug.js.


                        We add a command `npm run sync`, which starts a livepush process

                        with the supervisor on a device.
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject:  Move to an alpine base image and drop i386-nlp support
                      hash: 3690acbd70df726030b648a1c32a9b2b21015232
                      body: >
                        We also remove the Makefile to go to a simpler build
                        system, as long with

                        the retry_docker_push.sh file. We remove the rest of the automation tools

                        as they're no longer used and update the circle.yml file.


                        We also remove debug builds, as these aren't needed moving forward, and were

                        only to enable livepush builds.
                      footer:
                        Change-type: major
                        change-type: major
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.0.0
                  date: 2020-04-06T12:07:51.757Z
                - commits:
                    - subject: Convert test/18-startup.coffee to typescript
                      hash: d3221ca235aa0bd22191516f3eeebcabdf32e94b
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Convert test/19-compose-utils.coffee to javascript
                      hash: 70b07055513f8948bf4c9867718ed4df3df61bc1
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Convert test/18-compose-network.coffee to javascript
                      hash: 98e956831a4f8dc9e7e08bc98b21c0f8dd89e263
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Convert test/17-config-utils.spec.coffee to javascript
                      hash: d3cf650ac48e94a1f7040b72b497e11945671015
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Convert test/16-ports.spec.coffee to typescript
                      hash: dcb01cb8632c6a438e3989e6cbcdf2639d0367ba
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Convert test/15-conversions.spec.coffee to javascript
                      hash: 515fb059f409ba33b0537c778e7d8191bf387a48
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Convert test/12-logger.spec.coffee to javascript
                      hash: fd4cec31e7473d53ffa6a8650b341e7dec49a2cf
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-10.11.3
                  date: 2020-04-02T13:29:44.498Z
                - commits:
                    - subject: Pass in deviceId when fetching device tags
                      hash: 3c59944ce126570cc814626f20a9d67d6e67ff4d
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Closes: "#1237"
                        closes: "#1237"
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-10.11.2
                  date: 2020-03-31T11:48:13.361Z
                - commits:
                    - subject:  Update resin-lint -> balena-lint in lintstaged
                      hash: 2433f9a343d26233fff3d5bed14a548feded23ad
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-10.11.1
                  date: 2020-03-30T17:41:43.882Z
            - subject: Update os-config from 1.1.1 to 1.1.3
              hash: 6119e57e24ecf30077da00d47057b688940e43ae
              body: >
                Updates for rust 1.36 and improvements related to getrandom on
                devices

                with lower entropy.


                Update os-config from 1.1.1 to 1.1.3
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update os-config from 1.1.1 to 1.1.3
                changelog-entry: Update os-config from 1.1.1 to 1.1.3
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
              nested:
                - version: os-config-1.1.3
                  date: 2020-03-24T17:32:02.000Z
                  commits:
                    - hash: ae2daf2a2005c5706ac65e0c6dd67283d35b0f2b
                      author: Zahari Petkov
                      footers:
                        change-type: patch
                        signed-off-by: Zahari Petkov <zahari@balena.io>
                      subject: Reorder module dependencies
                      body: null
                    - hash: b5947fea2b08a5daf87695b9347ad104e0e9160c
                      author: Zahari Petkov
                      footers:
                        change-type: patch
                        signed-off-by: Zahari Petkov <zahari@balena.io>
                      subject: Pin serde version to v1.0.94
                      body: >-
                        Needed since meta-rust is not configuring the
                        i686-poky-linux

                        target correctly for 64-bit atomics support.
                - version: os-config-1.1.2
                  date: 2020-02-04T12:37:15.000Z
                  commits:
                    - hash: 73593533237275c346987d6f70b776445e901829
                      author: Zahari Petkov
                      footers:
                        change-type: patch
                        signed-off-by: Zahari Petkov <zahari@balena.io>
                      subject: Block on random until success
                      body: >-
                        On Raspberry Pi Zero W sometimes getrandom is not ready
                        yet at the moment of

                        os-config launch:

                        ```

                        could not initialize thread_rng: All entropy sources failed (permanently unavailable);

                        cause: getrandom not ready (not ready yet);

                        cause: Resource temporarily unavailable;

                        ```

                        This change makes sure we are cycling until a random sequence is populated successfully.
                    - hash: 14a19bf24e258c01a294bd7adfa808fddee59096
                      author: Zubair Lutfullah Kakakhel
                      footers:
                        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                      subject: Use parse_filters instead of parse
                      body: parse_filters is deprecated
          version: meta-balena-2.50.0
          date: 2020-05-13T16:49:21.997Z
  version: 2.50.1+rev1
  date: 2020-05-25T15:13:05.492Z
- commits:
    - subject: Set private to false in .coffee files for the public device types
      hash: dc297bd399209cc08ac59176d2a759a822495948
      body: ""
      footer:
        Changelog-entry: Set private to false in .coffee files for the public device types
        changelog-entry: Set private to false in .coffee files for the public device types
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.49.0+rev2
  date: 2020-05-12T08:45:25.783Z
- commits:
    - subject: Update balena-yocto-scripts to v1.6.0
      hash: 2e0d6e18d2a62bfed0a4bc269c12d2dafb41e9d2
      body: ""
      footer:
        Changelog-entry: Update balena-yocto-scripts to v1.6.0
        changelog-entry: Update balena-yocto-scripts to v1.6.0
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: Use udev by-state symlinks
      hash: 72f2808561386f4bdf8674cf0e553ef11d7f70aa
      body: >
        Replace the use of hardcoded partition paths with udev by-state symlinks.
      footer:
        Changelog-entry: Use udev by-state symlinks
        changelog-entry: Use udev by-state symlinks
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Update meta-balena from v2.48.0 to v2.49.0
      hash: cf7ab7d3359aa5b785df8d6465b5ce3ce4226c28
      body: |
        Update meta-balena from 2.48.0 to 2.49.0
      footer:
        Changelog-entry: Update meta-balena from v2.48.0 to v2.49.0
        changelog-entry: Update meta-balena from v2.48.0 to v2.49.0
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "balena-host: Ignore environment file if it does not exist"
              hash: 692a06a70536b9fcda79d5a0b28b23f384b9bb78
              body: >
                Instruct the service to ignore the environment file if it does
                not exist.

                This avoids the service failing if the file does not exist.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: Bump balena-engine to 18.09.17
              hash: ab54fcc710e8a7ef1857dae40710f6d2972e2ef7
              body: >
                Fixes the bug in mobynit caused by the recent work on the
                graphdriver

                system
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
            - subject: "networkmanager: Use absolute path in drop-in"
              hash: 27f6f9467853b8308b5f27121878c61fc0d8dbf4
              body: >
                systemd requires executable paths to be absolute. This causes an
                error

                in the system journal.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Sven Schwermer <sven.schwermer@disruptive-technologies.com>
                signed-off-by: Sven Schwermer <sven.schwermer@disruptive-technologies.com>
              author: Sven Schwermer
            - subject: Update ModemManager to v1.12.8
              hash: 64685fe79eebc7b59ec4e11b32d9491085928334
              body: |
                Fixes #1859
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update ModemManager to v1.12.8
                changelog-entry: Update ModemManager to v1.12.8
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
            - subject: Update balena-engine to 18.09.16
              hash: 2d0d1b7f8f4ef93d0778ed3ab9c3c2d87d978113
              body: |
                which includes Roman's work to fix the layer leaking bugs
                Also switch to 18.09-balena branch to prepare for the release of
                balena-engine 19.03
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-engine to 18.09.16
                changelog-entry: Update balena-engine to 18.09.16
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
            - subject: Add support for using udev by-state links in balenaOS
              hash: d1a351cc574655be3079844263dbeeb62190d028
              body: |
                Fixes #1092
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add support for using udev by-state links in balenaOS
                changelog-entry: Add support for using udev by-state links in balenaOS
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: Add initramfs module to regenerate default filesystem UUIDs
              hash: b802528c7427f50e96b88665f53071f1408b0baa
              body: >
                This module is launched at early boot and regenerates filesystem
                UUIDs

                if required.


                This commit is a re-work of previous work by Andrei Gherzan.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add initramfs module to regenerate default filesystem UUIDs
                changelog-entry: Add initramfs module to regenerate default filesystem UUIDs
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: Create udev state symlinks for all partitions
              hash: b7f63b18bcebf663d4d4d366dc78abe08c15925d
              body: >
                When a partition filesystem label is detected, udev checks
                whether the

                device belongs to the same disk as the root partitition passed in the

                kernel command line by the bootloader. Only if it does, it creates a by-state

                link to it.


                By using this by-state links we avoid filesystem label clashes as the

                system will always use partitions in the same drive as root (as

                instructed by the bootloader who is the source of truth).
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Create udev state symlinks for all partitions
                changelog-entry: Create udev state symlinks for all partitions
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: "initramfs-framework: Add os-helpers to module prepare"
              hash: 291930ecd3fc7d02ae0b0f6a4012c34f0e697c10
              body: >
                The different initramfs modules make use of os-helpers so let
                the

                prepare module source them.


                Also, Store initramfs logs to a tmpfs location /run/initramfs


                This commit is a re-work of previous work by Andrei Gherzan.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: Fix initramfs fsck warnings for the boot partition
              hash: 67a59e09c3ae628b4a44828b9152050b9374c2c3
              body: >
                When running fsck, the tool will complain when needed gconv
                modules are

                missing. Include them in the initramfs where we fsck the boot partition.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix initramfs fsck warnings for the boot partition
                changelog-entry: Fix initramfs fsck warnings for the boot partition
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Switch to built-in FAT kernel configs
              hash: d892362e92f8af709aa000dfb328f2931aedfb85
              body: >
                balenaOS uses FAT as a fs type for the boot/first partition.
                This is

                currently hardcoded so let's have the related kernel configs built in

                the kernel image. In this way we don't have to handle kernel modules in

                the initramfs (when needed).
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Switch to built-in FAT kernel configs
                changelog-entry: Switch to built-in FAT kernel configs
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Update balena-supervisor from v10.8.0 to v10.11.0
              hash: 284f5198d7a6a2fba656af35dd7afb8e0091290f
              body: |
                Update balena-supervisor from v10.8.0 to v10.11.0
              footer:
                Changelog-entry: Update balena-supervisor from v10.8.0 to v10.11.0
                changelog-entry: Update balena-supervisor from v10.8.0 to v10.11.0
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested:
                - commits:
                    - subject: Add BALENA_DEVICE_ARCH environment variable for containers
                      hash: 3af89cd13fce04f43332c1d4502e2edf07a22141
                      body: ""
                      footer:
                        Closes: "#1232"
                        closes: "#1232"
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-10.11.0
                  date: 2020-03-30T15:42:53.398Z
                - commits:
                    - subject: Don't throw an error when getting an unhealthy state
                      hash: 6b827a3f57f242e36e2a008632a28199ba569f63
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-10.10.15
                  date: 2020-03-30T09:10:59.937Z
                - commits:
                    - subject: Convert src/device-api/common.coffee to javascript
                      hash: 15fca80d2ddb16b368f0d2c34fb56b5b9bb6217f
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-10.10.14
                  date: 2020-03-28T13:43:13.705Z
                - commits:
                    - subject: Switch to mz for the proxyvisor
                      hash: 6ab69e1a69cf839538812aff3b9dc72c5a7937ef
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Convert proxyvisor to javascript
                      hash: c1e5b98ae562851be61f74583743298803bf5195
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-10.10.13
                  date: 2020-03-27T17:53:13.782Z
                - commits:
                    - subject: Remove unnecessary code from application-manager
                      hash: 686f72ecf78d3f7a1b93102fd161cca8c562bfb7
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Switch to a named export for application-manager
                      hash: 968e2ba0fb1dc99b826e8f32a23d10945697f340
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-10.10.12
                  date: 2020-03-26T23:53:03.757Z
                - commits:
                    - subject: Convert device-api/v1 to javascript
                      hash: 56c13fb96346e9100a60f1da881f6cf670c2793f
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-10.10.11
                  date: 2020-03-25T12:19:20.194Z
                - commits:
                    - subject: Update livepush
                      hash: 2ff8fccb5e71a851634f8bd668f63526f48ea4c4
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-10.10.10
                  date: 2020-03-24T18:10:13.063Z
                - commits:
                    - subject: Add type checking for javascript files
                      hash: 9c3295c91248f125e20ccfb10a064f2a2def0431
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-10.10.9
                  date: 2020-03-24T16:40:43.161Z
                - commits:
                    - subject: Pin resin-cli-visuals to avoid build error of lzma-native
                      hash: 35e73941c57ff63164cf0876fbb9509107e5e3f2
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Update dependencies
                      hash: f2c606e1f9d37b6fefc345e42659b9ed364cba40
                      body: |
                        We also pin livepush in place while
                        https://github.com/balena-io-modules/livepush/issues/67
                        is fixed.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-10.10.8
                  date: 2020-03-24T14:54:44.950Z
                - commits:
                    - subject: Avoid any transpilation of node_modules
                      hash: 8fccc4a107fa965dfd60a861ba5e831c12632631
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-10.10.7
                  date: 2020-03-24T12:46:30.864Z
                - commits:
                    - subject: Add transpilation for javascript files to ease node 6 compatibility
                      hash: 8fc11df95912c6fd15d05c1cdc9fcdba854b2727
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Add a precheck that linting/tests work on node 10
                      hash: 7945bb5a77f29775233dea2695e1c20d79545f57
                      body: |
                        This allows us to avoid re-linting for every arch
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Update to balena-lint and enable javascript linting
                      hash: 81966446d97b3989e65be22b7d2dec379d3bcb32
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-10.10.6
                  date: 2020-03-24T09:31:13.247Z
                - commits:
                    - subject: "Tests: Add missing await"
                      hash: 7e6d32516de84dbaed222651e48895dc0136b2e7
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-10.10.5
                  date: 2020-03-23T19:05:23.280Z
                - commits:
                    - subject: "docs: Clarify update locks for multicontainer applications"
                      hash: a6b0c50d8effc9c63fe92d68cb4efbe397a1e05f
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Gareth Davies <gareth@balena.io>
                        signed-off-by: Gareth Davies <gareth@balena.io>
                      author: Gareth Davies
                  version: balena-supervisor-10.10.4
                  date: 2020-03-16T21:12:52.849Z
                - commits:
                    - subject: "logging: fix up some typos"
                      hash: ab7e8b55140cc3169e9337f8c29a77468b13be7c
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Matthew McGinn <matthew@balena.io>
                        signed-off-by: Matthew McGinn <matthew@balena.io>
                      author: Matthew McGinn
                  version: balena-supervisor-10.10.3
                  date: 2020-03-16T19:31:23.505Z
                - commits:
                    - subject: Bump acorn from 5.7.3 to 5.7.4
                      hash: f8363fc72b21386cc3561be576d8f21ec0463c89
                      body: >
                        Bumps [acorn](https://github.com/acornjs/acorn) from
                        5.7.3 to 5.7.4.

                        - [Release notes](https://github.com/acornjs/acorn/releases)

                        - [Commits](https://github.com/acornjs/acorn/compare/5.7.3...5.7.4)
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: dependabot[bot] <support@github.com>
                        signed-off-by: dependabot[bot] <support@github.com>
                      author: dependabot[bot]
                  version: balena-supervisor-10.10.2
                  date: 2020-03-16T15:05:54.513Z
                - commits:
                    - subject: Update dependencies
                      hash: 6e3db3bd602d30ae3d377a1526c9b904c90a6cf3
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-10.10.1
                  date: 2020-03-13T17:21:22.854Z
                - commits:
                    - subject: Allow semver comparison on l4t versions in contracts
                      hash: 5c50f656c33954de6f4c07f8b6c892b4bf9953cf
                      body: >
                        We add an implicit .0 to the end of l4t versions which
                        do not fulfill

                        semver, which allows us to always match using comparison operators, such

                        as < and <=.
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Allow l4t versions with three numbers as well as two
                      hash: 7d47661928288160c0a636cb630cb0ccc2292d91
                      body: ""
                      footer:
                        Closes: "#1210"
                        closes: "#1210"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-10.10.0
                  date: 2020-03-06T15:56:42.924Z
                - commits:
                    - subject: "config: Support loading SSDT via ConfigFS"
                      hash: e0d2bdfaa98fe8c8d56fe981e530e6c96aef92a6
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                  version: balena-supervisor-10.9.2
                  date: 2020-03-05T13:33:03.818Z
                - commits:
                    - subject: Convert device-state module to typescript
                      hash: c21da8f3dbafe965ad0fae12b027066208debd12
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Improve application-manager typings
                      hash: 23094425555f0d1ef9c04c2bc500c19f62984503
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Improve and extend internal typings
                      hash: e161888516e7f234154245cfc8c9f82b6e2b656b
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-10.9.1
                  date: 2020-02-25T07:53:23.189Z
                - commits:
                    - subject: Add a containerId request parameter for journal-logs api endpoint, and
                        pass it along to journalctl process options.
                      hash: b5772740ae3685fceceeda513fca4ff86a183d14
                      body: ""
                      footer:
                        Change-Type: minor
                        change-type: minor
                        Signed-off-by: Ivan <ivanign04.alt@gmail.com>
                        signed-off-by: Ivan <ivanign04.alt@gmail.com>
                      author: Ivan
                  version: balena-supervisor-10.9.0
                  date: 2020-02-24T00:17:42.799Z
          version: meta-balena-2.49.0
          date: 2020-05-01T11:04:38.074Z
  version: 2.49.0+rev1
  date: 2020-05-06T13:40:29.142Z
- commits:
    - subject: enable RGB LED for cti photon nano
      hash: 4bab31abc21f2dd706c41c55d99d0c13548b5132
      body: |
        Enable driver for the RGB LED controller on the photon nano
      footer:
        Changelog-entry: enable RGB LED for cti photon nano
        changelog-entry: enable RGB LED for cti photon nano
        Signed-off-by: Pelle van Gils <pelle@hwky.ai>
        signed-off-by: Pelle van Gils <pelle@hwky.ai>
      author: Pelle van Gils
    - subject: add mmc driver patch for cti photon nano
      hash: c56d3a6b5a3b023a4dc2addceb5788ade7e78184
      body: |
        Add a patch for the changes made to the mmc driver in
        CTI BSP NANO-32.3.1 V001
      footer:
        Changelog-entry: add mmc driver patch for cti photon nano
        changelog-entry: add mmc driver patch for cti photon nano
        Signed-off-by: Pelle van Gils <pelle@hwky.ai>
        signed-off-by: Pelle van Gils <pelle@hwky.ai>
      author: Pelle van Gils
  version: 2.48.0+rev5
  date: 2020-05-05T07:46:14.788Z
- commits:
    - subject: "photon-nano: Add photon-nano device tree"
      hash: c5a2f5e1f084d5949f02196750c536b09d721629
      body: ""
      footer:
        Changelog-entry: "photon-nano: Add photon-nano device tree"
        changelog-entry: "photon-nano: Add photon-nano device tree"
        Signed-off-by: Willem Remie <w.remie@drebble.io>
        signed-off-by: Willem Remie <w.remie@drebble.io>
      author: Willem Remie
  version: 2.48.0+rev4
  date: 2020-04-23T11:14:09.654Z
- commits:
    - subject: Make the linux-firmware integration bbappend apply to all recipe versions
      hash: bd30fd6d6ff5b083bae7a553cf7a8dd6907c7474
      body: ""
      footer:
        Changelog-entry: Make the linux-firmware integration bbappend apply to all
          recipe versions
        changelog-entry: Make the linux-firmware integration bbappend apply to all
          recipe versions
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.48.0+rev3
  date: 2020-03-26T10:18:55.422Z
- commits:
    - subject: "tegra186-flash-dry: Update for Aetina N510 and N310 boards"
      hash: d97056a2b9ddfceb13a1985724ce68f0f66d4790
      body: ""
      footer:
        Author: Raphael Durscheid
        author: Raphael Durscheid
        Changelog-entry: "tegra186-flash-dry: Update for Aetina N510 and N310 boards"
        changelog-entry: "tegra186-flash-dry: Update for Aetina N510 and N310 boards"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.48.0+rev2
  date: 2020-03-25T20:24:55.801Z
- commits:
    - subject: Update balena-yocto-scripts to v1.5.6
      hash: 8c84cfc4ce71a6a4667b6eb0014348b90f7ffbc7
      body: ""
      footer:
        Changelog-entry: Update balena-yocto-scripts to v1.5.6
        changelog-entry: Update balena-yocto-scripts to v1.5.6
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update meta-balena from v2.47.1 to v2.48.0
      hash: 8f2a2f1dee6e501652259f6254f6c2df190f6a9e
      body: |
        Update meta-balena from 2.47.1 to 2.48.0
      footer:
        Changelog-entry: Update meta-balena from v2.47.1 to v2.48.0
        changelog-entry: Update meta-balena from v2.47.1 to v2.48.0
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested:
        - commits:
            - subject: Add the linux-firmware recipe from the Poky zeus-22.0.1 release and
                package various iwlwifi firmware separately
              hash: bd9aff4b3bdfdfe9b5c8dd1bbee397154d6144fd
              body: >
                We also package separately the firmware for Intel Wireless-AC
                9260

                cards and also package separetely the wifi and bluetooth firmware for

                Intel Wireless-AX MAC which is found in the Intel NUC10I7FNH.
              footer:
                Changelog-entry: Add the linux-firmware recipe from the Poky zeus-22.0.1 release
                  and package various iwlwifi firmware separately
                changelog-entry: Add the linux-firmware recipe from the Poky zeus-22.0.1 release
                  and package various iwlwifi firmware separately
                Change-type: minor
                change-type: minor
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Add regulatory.db (Wireless Central Regulatory Domain Database) to
                rootfs so kernel versions >= v4.15 can load it (for Poky Thud
                and Warrior based board)
              hash: da7a018e680f24be5dcce92f04eac4804493cad8
              body: >
                This package adds to rootfs the regulatory database into

                /lib/firmware/regulatory.db which can be loaded by kernel versions

                >= v4.15 for Poky Thud and Warrior based boards.
              footer:
                Changelog-entry: Add regulatory.db (Wireless Central Regulatory Domain Database)
                  to rootfs so kernel versions >= v4.15 can load it (for Poky
                  Thud and Warrior based board)
                changelog-entry: Add regulatory.db (Wireless Central Regulatory Domain Database)
                  to rootfs so kernel versions >= v4.15 can load it (for Poky
                  Thud and Warrior based board)
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Do not send SIGKILL directly to user containers (set KillMode=process
                in balena.service)
              hash: f4df857f8fb2b811d9e23b0419c99894eaa5bb32
              body: >
                We need to allow user containers to do some clean-up if they
                wish to on

                reboot / shutdown through systemctl so let's add KillMode set to process

                so that systemd won't directly kill the user containers first.


                For reference see also upstream moby:

                https://github.com/moby/moby/pull/23636/commits/

                db435f526ac5703276ad1add28188c0c8c6e4c2a
              footer:
                Changelog-entry: Do not send SIGKILL directly to user containers (set
                  KillMode=process in balena.service)
                changelog-entry: Do not send SIGKILL directly to user containers (set
                  KillMode=process in balena.service)
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Update balena-supervisor from  to v10.8.0
              hash: 9df958be8693140f0358cc1527a2f3058df940f2
              body: |
                Update balena-supervisor from  to v10.8.0
              footer:
                Changelog-entry: Update balena-supervisor from  to v10.8.0
                changelog-entry: Update balena-supervisor from  to v10.8.0
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Update config.json documentation for disabling NM connectivity checks
              hash: 527d322eaaa3e9184d4b57c2aeb76337ec233457
              body: ""
              footer:
                Changelog-entry: Update config.json documentation for disabling NM connectivity
                  checks
                changelog-entry: Update config.json documentation for disabling NM connectivity
                  checks
                Change-type: patch
                change-type: patch
                Signed-off-by: Gareth Davies gareth@balena.io
                signed-off-by: Gareth Davies gareth@balena.io
              author: Gareth Davies
            - subject: Fix a typo in a NetworkManager plugin path
              hash: ebd97f14fbbb71663e24590e9f1a3c1b9d42d8bd
              body: >
                ppp version is 2.4.7. Without defining the right path, the path
                defaults

                to v2.4.5 in NM configure scripts.


                Lets pass it here to keep it correct.


                Should not have any actual affect. NM plugin was built with reference

                to the 2.4.7 headers. Just the directoy path would say 2.4.5 misleading

                some debug effort
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix a typo in a NetworkManager plugin path
                changelog-entry: Fix a typo in a NetworkManager plugin path
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Remove unnecessary openvpn v2.4.4 recipe in meta-resin-pyro.
              hash: bf3bacb6d44863687365129e1c282d36003ceaa9
              body: >
                This is an old version of openvpn. Devices still on pyro should
                be using

                the openvpn version from meta-balena-common and not this one. Removing

                this to prevent any accidents even and some cleanup.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Remove unnecessary openvpn v2.4.4 recipe in meta-resin-pyro.
                changelog-entry: Remove unnecessary openvpn v2.4.4 recipe in meta-resin-pyro.
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Use a weak default assignment in a recipe for customer trying to
                override a variable in his layer
              hash: 9c9a30845702cbda314a58efa2ff9349199cfcc6
              body: |
                Fixes #1828
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Use a weak default assignment in a recipe for customer trying
                  to override a variable in his layer
                changelog-entry: Use a weak default assignment in a recipe for customer trying
                  to override a variable in his layer
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
          version: meta-balena-2.48.0
          date: 2020-03-20T09:20:53.311Z
  version: 2.48.0+rev1
  date: 2020-03-25T20:06:15.562Z
- commits:
    - subject: "tegra210-flash: Update JN30B Nano dtb"
      hash: 51db2fe66a647961de57ed810d1fb9abb291571f
      body: ""
      footer:
        Changelog-entry: "tegra210-flash: Update JN30B Nano dtb"
        changelog-entry: "tegra210-flash: Update JN30B Nano dtb"
        Author: Willem Remie
        author: Willem Remie
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.47.1+rev3
  date: 2020-03-05T09:56:31.743Z
- commits:
    - subject: "u-boot: Adapt TX2 integration patch to 32.3.1 u-boot"
      hash: 163a1c42377e6baa3c54d52721a3d0494b5d3572
      body: |
        These sort of patches need rebasing whenever L4T changes.
      footer:
        Changelog-entry: "u-boot: Adapt TX2 integration patch to 32.3.1 u-boot"
        changelog-entry: "u-boot: Adapt TX2 integration patch to 32.3.1 u-boot"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.47.1+rev2
  date: 2020-03-03T19:56:45.018Z
- commits:
    - subject: Update balena-yocto-scripts to v1.5.4
      hash: c1888d022b8100f3b714fc105e5b69f0f5c08193
      body: ""
      footer:
        Changelog-entry: Update balena-yocto-scripts to v1.5.4
        changelog-entry: Update balena-yocto-scripts to v1.5.4
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: Update meta-balena from v2.47.0 to v2.47.1
      hash: f80b3d094b519b956fb3833397bf97805acce8f3
      body: |
        Update meta-balena from 2.47.0 to 2.47.1
      footer:
        Changelog-entry: Update meta-balena from v2.47.0 to v2.47.1
        changelog-entry: Update meta-balena from v2.47.0 to v2.47.1
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: Affects 2.45+ on all devices. Fix dangling sshd services on failed
                connections that would grow and cause cpu load to keep rising.
                See issue 1837 in meta-balena for more detail.
              hash: 0759f60bda559377bfb10361167222d4e0de6d01
              body: |
                This reverts commit 6d5de094c3f0d9f2f06a1c58abc5eb9dc256cf79.
                Fixes #1837
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Affects 2.45+ on all devices. Fix dangling sshd services on
                  failed connections that would grow and cause cpu load to keep
                  rising. See issue 1837 in meta-balena for more detail.
                changelog-entry: Affects 2.45+ on all devices. Fix dangling sshd services on
                  failed connections that would grow and cause cpu load to keep
                  rising. See issue 1837 in meta-balena for more detail.
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
          version: meta-balena-2.47.1
          date: 2020-02-13T11:54:53.438Z
  version: 2.47.1+rev1
  date: 2020-03-02T09:39:38.967Z
- commits:
    - subject: Add firmware for the Intel 9260 wifi adapter
      hash: ab20b26ad134dce0539edb4c08551265de15b72b
      body: |
        Customer request to add firmware for the Intel 9260 wifi
        adapter
      footer:
        Changelog-entry: Add firmware for the Intel 9260 wifi adapter
        changelog-entry: Add firmware for the Intel 9260 wifi adapter
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
  version: 2.47.0+rev7
  date: 2020-02-28T16:10:34.856Z
- commits:
    - subject: Update meta-rust to include 1.36
      hash: 2015fbe3154798ec2e976541930325eda34d02c9
      body: ""
      footer:
        Changelog-entry: Update meta-rust to include 1.36
        changelog-entry: Update meta-rust to include 1.36
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.47.0+rev6
  date: 2020-02-10T17:01:05.808Z
- commits:
    - subject: "linux-tegra: Update dtb for spacely-tx2 to 32.2"
      hash: 59b323b142f92e36d20adf1fe0b88387f8e20ea4
      body: |
        This dtb is taken directly from vendor's website,
        for TX2 on L4T 32.2.0 JP 4.2.1.
      footer:
        Changelog-entry: "linux-tegra: Update dtb for spacely-tx2 to 32.2"
        changelog-entry: "linux-tegra: Update dtb for spacely-tx2 to 32.2"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: "linux-tegra: Update orbitty tx2 dtb to 32.2"
      hash: ac4eaf21deec39e2ab900feaba5fec26d1305383
      body: |
        This dtb is taken directly from vendor's website,
        for TX2 on L4T 32.2.0 JP 4.2.1.
      footer:
        Changelog-entry: "linux-tegra: Update orbitty tx2 dtb to 32.2"
        changelog-entry: "linux-tegra: Update orbitty tx2 dtb to 32.2"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.47.0+rev5
  date: 2020-02-05T09:53:25.749Z
- commits:
    - subject: Update meta-rust to include 1.36
      hash: de3a9d8f189a88f0b9cb777df28977a9f5563548
      body: ""
      footer:
        Changelog-entry: Update meta-rust to include 1.36
        changelog-entry: Update meta-rust to include 1.36
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.47.0+rev4
  date: 2020-02-05T07:44:04.897Z
- commits:
    - subject: "jetson-nano: Fix typo in jetson nano coffee files"
      hash: b8f57a77a9bbcb5e38df5ec982167bf348bc05e1
      body: |
        This fixes a typo in the board flashing instructions.
      footer:
        Changelog-entry: "jetson-nano: Fix typo in jetson nano coffee files"
        changelog-entry: "jetson-nano: Fix typo in jetson nano coffee files"
        Signed-off-by: Matthew McGinn <mamcgi@gmail.com>
        signed-off-by: Matthew McGinn <mamcgi@gmail.com>
      author: Matthew McGinn
  version: 2.47.0+rev3
  date: 2020-02-04T10:30:45.088Z
- commits:
    - subject: Switch jetson-nano state to new
      hash: 0f3852bc946e92f953d624ca651a669cfcfb4870
      body: ""
      footer:
        Changelog-entry: Switch jetson-nano state to new
        changelog-entry: Switch jetson-nano state to new
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.47.0+rev2
  date: 2020-02-01T18:09:04.700Z
- commits:
    - subject: Update meta-balena from v2.45.1 to v2.47.0
      hash: b82dbac9956302ca2078637f3ae1c55c223c0379
      body: |
        Update meta-balena from 2.45.1 to 2.47.0
      footer:
        Changelog-entry: Update meta-balena from v2.45.1 to v2.47.0
        changelog-entry: Update meta-balena from v2.45.1 to v2.47.0
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: Update usb-modeswitch-data to version 20191128
              hash: d0c007e5b77cff3e3b78b7a5b91747b1c8662b4d
              body: |
                We also delete the patch that switched the 12d1:1f01 modems to
                NCM mode with that specific MessageContent because that made
                other Huawei modems that used the same vid:pid combination
                unusable in that mode. So now these modems will work in the old
                Hilink mode using cdc_ether instead.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update usb-modeswitch-data to version 20191128
                changelog-entry: Update usb-modeswitch-data to version 20191128
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Update usb-modeswitch to version 2.5.2
              hash: f74a51dc5cf969b4aab1ae3eff36e512cf78d1f0
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update usb-modeswitch to version 2.5.2
                changelog-entry: Update usb-modeswitch to version 2.5.2
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Update to ModemManager v1.12.4
              hash: fd45ee88dfa87b6e3b39dc8bf16acbb36c64328a
              body: |
                Fixes #1805
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update to ModemManager v1.12.4
                changelog-entry: Update to ModemManager v1.12.4
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Update libmbim to version 1.22.0
              hash: f765a2e2c586f29f7c18813947f860e19dc354e9
              body: |
                We also stop applying the clang.patch since we do not
                use clang at the moment but we keep it here for future
                reference in case we ever switch from gcc
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update libmbim to version 1.22.0
                changelog-entry: Update libmbim to version 1.22.0
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Update libqmi to version 1.24.4
              hash: 755c7cd7d5106e99256adc291a7c95db711b0ae8
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update libqmi to version 1.24.4
                changelog-entry: Update libqmi to version 1.24.4
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Add periodic vacuuming of journald log files
              hash: e45761e1e3b57a1f42075924741063ac94fc788c
              body: >
                Daily vacuuming of log files to avoid the partition filling up
                if

                corrupted files appear.


                Fixes #1792
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add periodic vacuuming of journald log files
                changelog-entry: Add periodic vacuuming of journald log files
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: No user impact. Increase limit for maximum initramfs size from 12MB to
                32MB. This helps reduce unnecessary overrides in integration
                layers.
              hash: ea2fdb68801d62f8126bb15e8e67d0a14709dd4a
              body: >
                Some devices have special tools in the initramfs that bloat it.

                e.g. Jetson family have tegra-firmware-xusb etc.


                IMAGE_ROOTFS_MAXSIZE triggers an error if the rootfs goes beyond this

                limit. This does not force the rootfs to an empty fixed size.


                We can comfortably increase the max size to 32MB to reduce unnecessary

                patches in the device integration layers.


                We'll still be covered by the full resin-rootA size limit.

                Fixes #1790
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: No user impact. Increase limit for maximum initramfs size from
                  12MB to 32MB. This helps reduce unnecessary overrides in
                  integration layers.
                changelog-entry: No user impact. Increase limit for maximum initramfs size from
                  12MB to 32MB. This helps reduce unnecessary overrides in
                  integration layers.
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Match licenses with license files.
              hash: d53ba3570daf05c8592220b2949a441f6e06e662
              body: |
                Apache 2.0 and MIT, though similar, are not the same license.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: Enable sixaxis support in bluez5
              hash: 74be7b20bf3a9eb71bf5318a96248e087b7ce441
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Enable sixaxis support in bluez5
                changelog-entry: Enable sixaxis support in bluez5
                Signed-off-by: Alexis Svinartchouk <alexis@balena.io>
                signed-off-by: Alexis Svinartchouk <alexis@balena.io>
              author: Alexis Svinartchouk
            - subject: Addressing review comments
              hash: 57047830db238a127c09f283870ecf3d0992578b
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Gareth Davies <gareth@balena.io>
                signed-off-by: Gareth Davies <gareth@balena.io>
              author: Gareth Davies
            - subject: Update config.json documentation
              hash: f294336c3c8d9d8c08075a299b6bb377eb95f922
              body: ""
              footer:
                Changelog-entry: Update config.json documentation
                changelog-entry: Update config.json documentation
                Change-type: patch
                change-type: patch
                Signed-off-by: Gareth Davies <gareth@balena.io>
                signed-off-by: Gareth Davies <gareth@balena.io>
              author: Gareth Davies
            - subject: Increase DNS clients timeout to 15 seconds
              hash: b4122eeea971dfc9325885cc7c896c733cf60920
              body: >
                The DNS clients (applications) resolver libraries use the
                timeout value in

                /etc/resolv.conf to set the time between DNS attempts. The default is 5

                secs which for slow networks like cellular mean lots of DNS requests on

                a bandwidth sensitive channel.


                This change modifies the default to 15 secs. This timeout only applies

                when DNS servers are unresponsive so it will not affect the normal

                functionality.


                Fixes #1800
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Increase DNS clients timeout to 15 seconds
                changelog-entry: Increase DNS clients timeout to 15 seconds
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: Fix supervisor nested changelogs
              hash: 6bbe46404f36ae9b2719750d9bfc9daf5b12c88c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix supervisor nested changelogs
                changelog-entry: Fix supervisor nested changelogs
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Enable memory overcommit
              hash: 20d9e3114dc28683ea2c15cecfcae6ff93d22bec
              body: >
                Move the memory overcommit settings from the Raspberry Pi
                integration

                layer to meta-balena so it applies to all device types.


                Fixes #1791
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Enable memory overcommit
                changelog-entry: Enable memory overcommit
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: Add uinput kernel module
              hash: 7ec6b796787fc0afb2234e8ddb654f1b4a761708
              body: |
                Add uinput user level driver support directly from meta-balena
                as this will benefit all our customers.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add uinput kernel module
                changelog-entry: Add uinput kernel module
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Make sure to add in rootfs the wifi firmware for wl18xx
              hash: 37b9f59d4c7521805883ef3bf8e0bbc21d26622e
              body: |
                Since poky thud, the linux-firmware recipe in poky is packaging
                the wl18xx firmware in its own package rather than add it in the
                linux-firmware-wl12xx package.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Make sure to add in rootfs the wifi firmware for wl18xx
                changelog-entry: Make sure to add in rootfs the wifi firmware for wl18xx
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Add supported USB WiFi dongle
              hash: b82982940548da60daa3d7a854316de96ec82e45
              body: |
                The RT5572 chipset based Panda PAU09 N600 was
                added as a supported dongle across all the
                Balena supported devices
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add supported USB WiFi dongle
                changelog-entry: Add supported USB WiFi dongle
                Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
                signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
              author: Vicentiu Galanopulo
          version: meta-balena-2.47.0
          date: 2020-01-29T17:30:33.484Z
        - commits:
            - subject: Americanize the README.md
              hash: 13b5397eb127f8626a45041b84be7aed9b149709
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
          version: meta-balena-2.46.2
          date: 2020-01-17T19:05:59.781Z
        - commits:
            - subject: Disable by default the option to stop u-boot autoboot by pressing
                CTRL+C in all OS versions
              hash: 621037371b3c272ecb6bfd50cfbdad4eca0a02ea
              body: >
                We do not want by default that any OS variants allow for
                stopping the

                autoboot in any way and letting users enter the u-boot shell. This can

                be overwritten by setting OS_DEV_UBOOT_DELAY to 1.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Disable by default the option to stop u-boot autoboot by
                  pressing CTRL+C in all OS versions
                changelog-entry: Disable by default the option to stop u-boot autoboot by
                  pressing CTRL+C in all OS versions
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Increase NTP polling time to around 4.5 hours.
              hash: 4a47b9297b37277a9aece0ea322e706dbe473f12
              body: >
                This commit increases the default NTP poll rate to around 4.5
                hours.


                BalenaOS uses chronyd for time synchronization, and it allows to specify

                a minpoll and maxpoll values per server with a power of two number of

                seconds for the minimum and maximum polling time respectively.


                With those constraints, the change set both limits to 2^14s (4.55h) for

                all servers.


                An architectural decision has been made not to make this configurable.


                Fixes #1780.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Increase NTP polling time to around 4.5 hours.
                changelog-entry: Increase NTP polling time to around 4.5 hours.
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: Disable the option to stop u-boot autoboot by pressing CTRL+C in
                production OS version
              hash: 2abb791f0df7c4936f0c6814b27291281dc922e0
              body: >
                We do not want that production OS variants allow for stopping

                the autoboot in any way and letting users enter the u-boot shell.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Disable the option to stop u-boot autoboot by pressing CTRL+C
                  in production OS version
                changelog-entry: Disable the option to stop u-boot autoboot by pressing CTRL+C
                  in production OS version
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
          version: meta-balena-2.46.1
          date: 2020-01-01T03:50:49.765Z
        - commits:
            - subject: Update to ModemManager v1.12.2
              hash: 2c4d223d90701b7dbe7ed42f2b5bdaab396db4d3
              body: |
                Fixes #1775

                Removed the two patches we included in favor of corresponding
                configure arguments since they had to be updated anyway.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update to ModemManager v1.12.2
                changelog-entry: Update to ModemManager v1.12.2
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
            - subject: Update libmbim to version 1.20.2
              hash: 01a15a047156c2491081e31a12c0a2a278a015d8
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update libmbim to version 1.20.2
                changelog-entry: Update libmbim to version 1.20.2
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
            - subject: Update libqmi to version 1.24.2
              hash: dad937f2a5ec8c894518f683e636c17a23a20869
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update libqmi to version 1.24.2
                changelog-entry: Update libqmi to version 1.24.2
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
            - subject: Update balena-supervisor to v10.6.27
              hash: 426dd85c0396f713e8f2571334bbd547b5a22642
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor to v10.6.27
                changelog-entry: Update balena-supervisor to v10.6.27
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Tweak how the flasher asserts that internal media is valid for being
                installed balena OS on
              hash: 4b50d967db309366865b791e39f84ab00c0e9330
              body: |
                It is better to use fdisk to check that an internal media
                is a suitable block device rather than using the shell
                internal block testing feature. This is because there is
                at least a case when the kernel lists an ASMT 2115 controller
                as /dev/sda but that is not an actual drive so it cannot be
                written to and the flashing procedure will error out.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Tweak how the flasher asserts that internal media is valid for
                  being installed balena OS on
                changelog-entry: Tweak how the flasher asserts that internal media is valid for
                  being installed balena OS on
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Remove networkmanager stale temporary files at startup
              hash: 1234b29d7a4b007fd25247d38d9027e4f6e9e709
              body: >
                Reports indicate that NetworkManager can leave stale temporary
                files on

                the state partition that over time can affect the device's operability.


                This commit removes the timestamps.XXXXXX and seen-bssids.XXXXXX files on

                startup to avoid this situation.


                Fixes #1747
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Remove networkmanager stale temporary files at startup
                changelog-entry: Remove networkmanager stale temporary files at startup
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: "networkmanager: Rework patches to remove fuzzing"
              hash: fbe8c83e8234c842d83c344243d2fe782c8ebb0a
              body: |
                This commit removes the build warning when applying patches.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: Update openvpn to v2.4.7
              hash: 5c7d3ae1296636dae7b0de67a9c0f8c66d996d1c
              body: >
                Fetched from:

                * https://git.openembedded.org/meta-openembedded/commit/meta-networking/recipes-support/openvpn/openvpn_2.4.7.bb?id=c1c8895609ae70a1b735e8625c19046c25184ee4

                * https://git.openembedded.org/meta-openembedded/commit/meta-networking/recipes-support/openvpn/openvpn/openvpn?id=910891d722085c56c474ac72788898b94c5ed193
              footer:
                Connects-to: "#1740"
                connects-to: "#1740"
                Change-type: patch
                change-type: patch
                Changelog-entry: Update openvpn to v2.4.7
                changelog-entry: Update openvpn to v2.4.7
                Signed-off-by: Will Boyce <will@balena.io>
                signed-off-by: Will Boyce <will@balena.io>
              author: Will Boyce
            - subject: Enable kernel configs for USB_SERIAL, USB_SERIAL_PL2303 and HFS for all
                devices
              hash: 03b95db4e073969718f0a60d8b0e80db4ce0680b
              body: |
                Fixes #1770
                Fixes #1761
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Enable kernel configs for USB_SERIAL, USB_SERIAL_PL2303 and HFS
                  for all devices
                changelog-entry: Enable kernel configs for USB_SERIAL, USB_SERIAL_PL2303 and HFS
                  for all devices
              author: Zubair Lutfullah Kakakhel
            - subject: "image-resin.bbclass: Mark do_populate_lic_deploy with nostamp"
              hash: 3004762e71383e6ed8134de526966c6dd660fca2
              body: >
                We inherit do_populate_lic_deploy from poky. It uses IMAGE_NAME

                which includes DATETIME


                DATETIME changes between runs so we can sometimes get into a state

                where the do_populate_lic_deploy task has its stamp file set.


                But when our subsequent deploy_image_license_manifest task runs, the

                DATETIME is different. Hence we get into a state where we have to

                run cleanall on the resin-image-flasher recipe to clean up directories.


                Lets mark do_populate_lic_deploy with nostamp. This should make it

                run every time we need to run deploy_image_license_manifest with the

                most up to date DATETIME variable to prevent any hiccups
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Namespace the hello-world healthcheck image
              hash: 4ec47419b97cf5ca6fe15436a32348e1dc7b5d9d
              body: >
                Fixes #1630


                Need to make the script go in the background in ExecStartPost=.

                Otherwise, the service status never gets to active/running resulting

                it in remaining stuck in an endless loop.


                If the health-check load fails for whatever reason, the subsequent

                engine healthcheck will fail retriggering the healthcheck load.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Namespace the hello-world healthcheck image
                changelog-entry: Namespace the hello-world healthcheck image
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update balena-supervisor to v10.6.17
              hash: 72100a55f62820b0cb8a48307a70d01633744e70
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor to v10.6.17
                changelog-entry: Update balena-supervisor to v10.6.17
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Update balena-supervisor to v10.6.13
              hash: 7ac91f9557f90417dc152c5621d4cff6d53c17e1
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor to v10.6.13
                changelog-entry: Update balena-supervisor to v10.6.13
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Update CODEOWNERS
              hash: bb8ac081d50893d9d0881b0f08c68cbb626c3590
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
          version: meta-balena-2.46.0
          date: 2019-12-23T17:06:33.086Z
  version: 2.47.0+rev1
  date: 2020-01-31T09:43:53.960Z
- commits:
    - subject: "linux-tegra: Fix hang on Nano during flash if SPI enabled"
      hash: c168d6642f03ef95599d178d21f15bdcebd6fda5
      body: |
        This patch fixes issues if SPI is enabled
        during flashing.
      footer:
        Changelog-entry: "linux-tegra: Fix hang on Nano during flash if SPI enabled"
        changelog-entry: "linux-tegra: Fix hang on Nano during flash if SPI enabled"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: Remove the usb-modeswitch patch that fixes crashes on 64 bits
        architectures
      hash: d33dba52d8b4b8f3e7abda89abd9f84bc833c103
      body: |
        We will be using usb-modeswitch version 2.5.2 in meta-balena
        and this patch is not needed anymore with this newer version.
      footer:
        Changelog-entry: Remove the usb-modeswitch patch that fixes crashes on 64 bits
          architectures
        changelog-entry: Remove the usb-modeswitch patch that fixes crashes on 64 bits
          architectures
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.45.1+rev4
  date: 2020-01-30T12:50:29.818Z
- commits:
    - subject: "u-boot: Use kernel extlinux.conf on Nano"
      hash: 674368963dcb1e4006b2978132537f9c49aaa508
      body: |
        meta-openembedded u-boot class deployed a
        generic extlinux.conf to the root partition.

        Remove that one and switch to the one provided
        by the kernel recipe.
      footer:
        Changelog-entry: "u-boot: Use kernel extlinux.conf on Nano"
        changelog-entry: "u-boot: Use kernel extlinux.conf on Nano"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.45.1+rev3
  date: 2019-12-18T12:19:38.387Z
- commits:
    - subject: "jn30b-nano: Update icon"
      hash: 799a0e6f0fe380e37cdb141e72a1e2928a55e191
      body: |
        Icon provided by board contributor
        resembled the jetson-nano one. Let's
        add a specific graphic for this device
        to avoid potential confusion in dashboard.
      footer:
        Changelog-entry: "jn30b-nano: Update icon"
        changelog-entry: "jn30b-nano: Update icon"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.45.1+rev2
  date: 2019-11-27T16:18:38.541Z
- commits:
    - subject: Update meta-balena from v2.45.0 to v2.45.1
      hash: 603f34f9f02731a5d0f560f983ab721276f736c9
      body: |
        Update meta-balena from 2.45.0 to 2.45.1
      footer:
        Changelog-entry: Update meta-balena from v2.45.0 to v2.45.1
        changelog-entry: Update meta-balena from v2.45.0 to v2.45.1
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: Fix for a race condition where occasionally the supervisor might not be
                able to come up during boot. Also can be caused by using
                io.balena.features.balena-socket and app container restart
                always policy. Affects meta-balena 2.44.0 and 2.45.0. To be
                fixed in 2.44.1 and 2.46.0
              hash: 7cf43d9f939b1d960cb677c48ca9f91b668d2dc3
              body: |
                Fixes #1748
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix for a race condition where occasionally the supervisor
                  might not be able to come up during boot. Also can be caused
                  by using io.balena.features.balena-socket and app container
                  restart always policy. Affects meta-balena 2.44.0 and 2.45.0.
                  To be fixed in 2.44.1 and 2.46.0
                changelog-entry: Fix for a race condition where occasionally the supervisor
                  might not be able to come up during boot. Also can be caused
                  by using io.balena.features.balena-socket and app container
                  restart always policy. Affects meta-balena 2.44.0 and 2.45.0.
                  To be fixed in 2.44.1 and 2.46.0
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Rename resin to balena where possible
              hash: 02a932405705ce28fca6137cfae16fab5bc952fb
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Add leading new line for PACKAGE_INSTALL variable
              hash: e79c470b3eaa8d6e763103fa20858fbed61ff292
              body: >
                Without the leading space, the last package name

                of the PACKAGE_INSTALL variable from other recipes,

                is concatenated with the one added in this recipe resulting

                in the following error

                opkg_prepare_url_for_install

                Couldn't find anything to satisfy

                'kernel-module-sdhci-pciinitramfs-module-console-null-workaround'
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add leading new line for PACKAGE_INSTALL variable
                changelog-entry: Add leading new line for PACKAGE_INSTALL variable
                Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
                signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
              author: Vicentiu Galanopulo
            - subject: Set `net.ipv4.ip_local_port_range` to recommended range (49152-65535)
              hash: 8ef6a5b56a2b7ba43081a0f30f99d6f736015533
              body: ""
              footer:
                Connects-to: "#1726"
                connects-to: "#1726"
                Change-type: patch
                change-type: patch
                Changelog-entry: Set `net.ipv4.ip_local_port_range` to recommended range
                  (49152-65535)
                changelog-entry: Set `net.ipv4.ip_local_port_range` to recommended range
                  (49152-65535)
                Signed-off-by: Will Boyce <will@balena.io>
                signed-off-by: Will Boyce <will@balena.io>
              author: Will Boyce
            - subject: No user impact, subtle fix in rollback version checks
              hash: 38717507b93962d199e07d9093382b8db4ec5d81
              body: >
                ESR releases have the VERSION string in /etc/os-release in a
                date

                format. 2019.10.0 etc.

                We added META_BALENA_VERSION in os-release from v2.38.0 via

                b0e0c77a26f3fad51e2923ab416fdd2af2a5a033


                Lets use META_BALENA_VERSION if available for our os version checks.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: No user impact, subtle fix in rollback version checks
                changelog-entry: No user impact, subtle fix in rollback version checks
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
          version: meta-balena-2.45.1
          date: 2019-11-21T16:48:38.743Z
  version: 2.45.1+rev1
  date: 2019-11-27T07:18:08.142Z
- commits:
    - subject: Update balena-yocto-scripts to v1.5.2
      hash: c142c6853e28f29405a4b0ed92be79b5a5c9ea53
      body: ""
      footer:
        Changelog-entry: Update balena-yocto-scripts to v1.5.2
        changelog-entry: Update balena-yocto-scripts to v1.5.2
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.45.0+rev3
  date: 2019-11-19T09:27:21.251Z
- commits:
    - subject: "jn30b-nano: Fix deploy artifact name"
      hash: 953f549603e8ea7b48323b3d6a7707bef6f885f4
      body: ""
      footer:
        Changelog-entry: "jn30b-nano: Fix deploy artifact name"
        changelog-entry: "jn30b-nano: Fix deploy artifact name"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.45.0+rev2
  date: 2019-11-14T11:31:33.134Z
- commits:
    - subject: Update meta-balena from v2.44.0 to v2.45.0
      hash: fbc5a230bd4a396c0008145cf3608690acc2c169
      body: |
        Update meta-balena from 2.44.0 to 2.45.0
      footer:
        Changelog-entry: Update meta-balena from v2.44.0 to v2.45.0
        changelog-entry: Update meta-balena from v2.44.0 to v2.45.0
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: Increase persistent journal size to 32M
              hash: ad77ca2402f41fec5b730d556006ef5e86bdacd5
              body: ""
              footer:
                Connects-to: "#1646"
                connects-to: "#1646"
                Change-type: patch
                change-type: patch
                Changelog-entry: Increase persistent journal size to 32M
                changelog-entry: Increase persistent journal size to 32M
                Signed-off-by: Will Boyce <will@balena.io>
                signed-off-by: Will Boyce <will@balena.io>
              author: Will Boyce
            - subject: Move persistent logs from state to data partition
              hash: f69ff379ffac39dffcc126ac374b50533dcdef31
              body: ""
              footer:
                Connects-to: "#1646"
                connects-to: "#1646"
                Change-type: minor
                change-type: minor
                Changelog-entry: Move persistent logs from state to data partition
                changelog-entry: Move persistent logs from state to data partition
                Signed-off-by: Will Boyce <will@balena.io>
                signed-off-by: Will Boyce <will@balena.io>
              author: Will Boyce
            - subject: Add wpa-supplicant recipe and update to v2.9
              hash: 139f76b73918e12aa8082896a7a017d2ad5df739
              body: >
                Fetched from
                http://cgit.openembedded.org/openembedded-core/commit/meta/recipes-connectivity/wpa-supplicant?id=95507898ad6a7b88c83ef376c1cb8b3b3a685c96
              footer:
                Connects-to: "#1711"
                connects-to: "#1711"
                Change-type: patch
                change-type: patch
                Changelog-entry: Add wpa-supplicant recipe and update to v2.9
                changelog-entry: Add wpa-supplicant recipe and update to v2.9
                Signed-off-by: Will Boyce <will@balena.io>
                signed-off-by: Will Boyce <will@balena.io>
              author: Will Boyce
            - subject: Improve robustness by making variou services restart if they stop for
                some reason
              hash: 074f42aeaf98d2ede68a29d7f7d97cd17dc61f15
              body: >
                The default behaviour is Restart=on-abort inherited from
                upstream.

                Lets make it Restart=always


                Fixes #1702
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Improve robustness by making variou services restart if they
                  stop for some reason
                changelog-entry: Improve robustness by making variou services restart if they
                  stop for some reason
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Build net/dummy as module
              hash: ffd5bd2183ca1ea4d3f62bae118b7269b8280002
              body: |
                Add dummy net driver support, which is used to
                check if a container is privileged during
                udev initialization.

                Building it as module ensures that dummy
                devices are not needlessly created during boot.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Build net/dummy as module
                changelog-entry: Build net/dummy as module
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
          version: meta-balena-2.45.0
          date: 2019-10-30T14:34:36.798Z
  version: 2.45.0+rev1
  date: 2019-11-12T09:56:44.520Z
- commits:
    - subject: "jn30b-nano: Add coffee file and icon"
      hash: 64a67a7acd7123595db01c0863afb4e9852d547e
      body: |
        Change submitted by Willem Remie
      footer:
        Author: Willem Remie
        author: Willem Remie
        Changelog-entry: "jn30b-nano: Add coffee file and icon"
        changelog-entry: "jn30b-nano: Add coffee file and icon"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.44.0+rev3
  date: 2019-11-11T14:44:45.134Z
- commits:
    - subject: Update balena-yocto-scripts to v1.4.0
      hash: ccdde950aac28dca1f22fb18ece3925bdab45f96
      body: ""
      footer:
        Changelog-entry: Update balena-yocto-scripts to v1.4.0
        changelog-entry: Update balena-yocto-scripts to v1.4.0
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.44.0+rev2
  date: 2019-10-22T12:12:04.508Z
- commits:
    - subject: Update meta-balena from v2.43.0 to v2.44.0
      hash: bb0861737e99caf7824c9b7b6e6a21e09480c5de
      body: |
        Update meta-balena from 2.43.0 to 2.44.0
      footer:
        Changelog-entry: Update meta-balena from v2.43.0 to v2.44.0
        changelog-entry: Update meta-balena from v2.43.0 to v2.44.0
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
      nested:
        - commits:
            - subject: Make uboot dev images autoboot delay build time configurable. Default
                is no delay
              hash: ff9e5c26ce7caa694725d7009943db0713655be6
              body: >
                Customers usually don't need this delay during u-boot. Also in
                some

                cases, hardware attached on the uart pins might pause uboot preventing

                customers from using dev images easily.


                But we do need this delay during our development work on bsps etc.


                Lets make this autoboot delay build time configurable


                Also make the BOOTDELAY -2 which is better than 0 as that completely

                prevents any char on serial from interrupting boot.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Make uboot dev images autoboot delay build time configurable.
                  Default is no delay
                changelog-entry: Make uboot dev images autoboot delay build time configurable.
                  Default is no delay
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Reduce systemd logging level from info to notice
              hash: 9e8f949c561b4e904f2e492e0267923b73782c4c
              body: |
                Reduces redundant logs.

                Fixes #1691
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Reduce systemd logging level from info to notice
                changelog-entry: Reduce systemd logging level from info to notice
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "resin-supervisor: Expose container ID via env variable"
              hash: 27d76cd9441ad427342f53b7e5b865129dd05557
              body: >
                The supervisor needs to know its container ID on the context of
                different

                engine objects cleanup tasks, so it can understand what objects are

                related to itself.


                Depends on gh-1679

                See also

                - balena-io/balena-supervisor#1038

                - balena-os/balena-engine#174

                - balena-os/balena-engine-cli#8
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Roman Mazur <roman@balena.io>
                signed-off-by: Roman Mazur <roman@balena.io>
              author: Roman Mazur
            - subject: "kernel-devsrc: Copy vdso.lds.S file in source archive if available"
              hash: 70bb9f53e5a50703050c45411c3a63906c17bf42
              body: >
                Necessary to avoid error:

                "No rule to make target 'arch/arm64/kernel/vdso/vdso.lds', needed

                by 'arch/arm64/kernel/vdso/vdso.so.dbg'"

                when doing "make  modules_prepare"
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "kernel-devsrc: Copy vdso.lds.S file in source archive if
                  available"
                changelog-entry: "kernel-devsrc: Copy vdso.lds.S file in source archive if
                  available"
                Signed-off-by: Sebastian Panceac <sebastian@balena.io>
                signed-off-by: Sebastian Panceac <sebastian@balena.io>
              author: Sebastian Panceac
            - subject: Disable PasswordAuthentication in sshd in production images as an extra
                precautionary measure.
              hash: 67bff0700e921a8adbceb4a3b77af2ed39415fa8
              body: >
                PasswordAuthentication defaults to yes. Make it no for
                production

                images.


                Fixes #1678


                Also some whitespace fixes.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Disable PasswordAuthentication in sshd in production images as
                  an extra precautionary measure.
                changelog-entry: Disable PasswordAuthentication in sshd in production images as
                  an extra precautionary measure.
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update balena-engine to 18.9.10
              hash: 9fa56fef4b2b34671951a09e241bb2623dd6d96c
              body: >
                Includes feature to populate container environment with
                container id

                variable and bug fix for tagging deltas on the fly.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-engine to 18.9.10
                changelog-entry: Update balena-engine to 18.9.10
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
            - subject: "hostapp-update-hooks: Filter out automount for inactive sysroot"
              hash: 894a3b1e2ae705efe9267bab226886c58ad646a7
              body: |
                'findmnt' returns both systemd-1 and the correct TARGET.
                No failure is currently observed because this two line output
                is filtered trough 'basename'.

                Use ext4 FSTYPE to filter out the automount with SOURCE
                "systemd-1" when determining the new parition label
                in the u-boot update hook, just like we do for grub.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
            - subject: Add support for hooks 2.0 enabling finer granularity during HostOS
                updates.
              hash: 0d33e5a82cab1fa58729d9a9ce7ea37be05cacc3
              body: |
                Add support for hooks 2.0
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add support for hooks 2.0 enabling finer granularity during
                  HostOS updates.
                changelog-entry: Add support for hooks 2.0 enabling finer granularity during
                  HostOS updates.
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update balena-supervisor to v10.3.7
              hash: 4562d35527c1b0087c7e55af30de8ab6eb1aa990
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor to v10.3.7
                changelog-entry: Update balena-supervisor to v10.3.7
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Add support for balena cloud SSH public keys
              hash: 76e774ff132d7cf23a729c3d587c9fd1354a969f
              body: >
                When we have an API endpoint and key, we can query the API to
                get the

                user public keys and use them to try to authenticate over SSH.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add support for balena cloud SSH public keys
                changelog-entry: Add support for balena cloud SSH public keys
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Map any user to root using libnss-ato
              hash: 55ba5767199205ee945a5e69152a28e023e35397
              body: >
                This module was included to be able to map any user to root.
                This

                is required by the balena-cloud backend.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Map any user to root using libnss-ato
                changelog-entry: Map any user to root using libnss-ato
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Add option to disable kernel headers from being built.
              hash: 1f5940898a654c770858f802ea978ddb986082f4
              body: >
                These can take quite a bit of build time. Add an option to
                disable

                the recipes from being built.


                Fixes #1659
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add option to disable kernel headers from being built.
                changelog-entry: Add option to disable kernel headers from being built.
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
          version: meta-balena-2.44.0
          date: 2019-10-03T06:28:45.031Z
  version: 2.44.0+rev1
  date: 2019-10-18T12:55:25.025Z
- commits:
    - subject: "jetson-xavier: Switch to BETA"
      hash: cae120b8c7a9d6748251a4535de23c9757b2738f
      body: |
        Currently the xavier is marked as community,
        but support for it was added by Balena.
        Switch this board to BETA.
      footer:
        Changelog-entry: "jetson-xavier: Switch to BETA"
        changelog-entry: "jetson-xavier: Switch to BETA"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.43.0+rev4
  date: 2019-10-10T06:59:13.993Z
- commits:
    - subject: Update balena-yocto-scripts to v1.3.8
      hash: 612eafbc2664bb54f841edb02b180a1de1b2e9f4
      body: ""
      footer:
        Changelog-entry: Update balena-yocto-scripts to v1.3.8
        changelog-entry: Update balena-yocto-scripts to v1.3.8
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.43.0+rev3
  date: 2019-10-01T07:30:15.140Z
- commits:
    - subject: "resin-image: Remove tegra udev drop-in"
      hash: 63b464918c409ad3f411e2a93767d6b7d6ea8fdf
      body: |
        Rollback-health was updated in meta balena,
        therefore the tegra drop-in is no longer necessary.

        Also install partitioning utilities that are useful
        for debugging issues with tegra devices that have
        many partitions.
      footer:
        Changelog-entry: "resin-image: Remove tegra udev drop-in"
        changelog-entry: "resin-image: Remove tegra udev drop-in"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.43.0+rev2
  date: 2019-09-30T12:33:51.830Z
- commits:
    - subject: "linux-tegra: Port patches from old TX2 repository"
      hash: 9ffdd3e19ca1cfe12dec91dfaed08233bdb292ab
      body: |
        Brought in kernel patches existing in the old repository
        and rebased the ones below to apply and work on kernel
        4.9 as some of the functions already exists here.

        Rebased or ported patches:
        - 0001-Expose-spidev-to-the-userspace.patch
        - 0001-Support-referencing-the-root-partition-label-from-GP.patch
        - 0001-mttcan_ivc-Fix-build-failure-with-kernel-4.9.patch
        - 0001-revert-random-fix-crng_ready-test.patch
        - 0002-mttcan-ivc-enable.patch
        - 0002-qmi_wwan-Update-from-4.14-kernel.patch
        - realsense_metadata_linux-yocto_4.4.patch
      footer:
        Changelog-entry: "linux-tegra: Port patches from old TX2 repository"
        changelog-entry: "linux-tegra: Port patches from old TX2 repository"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: Update the meta-balena submodule from v2.39.0 to v2.43.0
      hash: ad19ec5aae1c1337550be16daa0e557099186044
      body: |
        Update meta-balena from 2.39.0 to 2.43.0
      footer:
        Changelog-entry: Update the meta-balena submodule from v2.39.0 to v2.43.0
        changelog-entry: Update the meta-balena submodule from v2.39.0 to v2.43.0
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: Update NetworkManager to 1.20.2
              hash: bcb6d85cc3b75d2f41a64fc9a6e0e15b428040f1
              body: |
                Fixes #1660
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update NetworkManager to 1.20.2
                changelog-entry: Update NetworkManager to 1.20.2
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Update ModemManager to 1.10.6
              hash: f6c82203c1a8f0613a900ce9d8ce749087fab99d
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update ModemManager to 1.10.6
                changelog-entry: Update ModemManager to 1.10.6
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
          version: meta-balena-2.43.0
          date: 2019-09-13T15:33:28.973Z
        - commits:
            - subject: A small fix in initramfs when /dev/console is invalid due to whatever
                reason
              hash: b5574aeb86ea6b6763f1c25c4b53a45d3e207eb5
              body: >
                We would just check for the existence of console=null in kernel
                cmdline


                A better way would be to check the presence of a valid symlink for fd0,

                fd1 and fd2. And assign them to /dev/null if unavailable.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: A small fix in initramfs when /dev/console is invalid due to
                  whatever reason
                changelog-entry: A small fix in initramfs when /dev/console is invalid due to
                  whatever reason
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Add automated testing for external kernel module header tarballs
              hash: aef272d20b471308790bfa63426f73a3ce334884
              body: >
                We'd like to run a simple hello-world external module build test
                using

                the headers we have generated. This recipe does that in a docker

                container
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add automated testing for external kernel module header
                  tarballs
                changelog-entry: Add automated testing for external kernel module header
                  tarballs
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Make sure correct utsrelease.h is packaged
              hash: 5f9717081524d475009f5bf9277b30bf29c1c371
              body: >
                It was observed that on some machines (Variscite mx8m) the

                utsrelease.h header is regenerated with incomplete content when

                running "make prepare0" (utsrelease.h will not contain the short

                git revision although the kernel's abiversion includes it and

                as such the external modules built using this utsrelease.h header

                will fail to load because of this mismatch).
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Make sure correct utsrelease.h is packaged
                changelog-entry: Make sure correct utsrelease.h is packaged
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Fix a bug where application containers with new systemd versions were
                failing to start in cases. Switch to systemd cgroup driver in
                balenaEngine
              hash: a79f18a3e094721d1fc134afbae7a4773b697414
              body: >
                The default driver is cgroupfs. We switch to systemd so that
                there is

                one cgroup manager in our OS.


                Otherwise, systemd will have its own cgroup manager and cgroupfs will

                be another cgroup manager via balenaEngine daemon.


                Fixes #1645 which contains more information
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Fix a bug where application containers with new systemd
                  versions were failing to start in cases. Switch to systemd
                  cgroup driver in balenaEngine
                changelog-entry: Fix a bug where application containers with new systemd
                  versions were failing to start in cases. Switch to systemd
                  cgroup driver in balenaEngine
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
          version: meta-balena-2.42.0
          date: 2019-09-13T08:06:05.129Z
        - commits:
            - subject: Update ModemManager to version 1.10.4
              hash: 6f300a3fc01521ceadd3f8a50c9157d070525dde
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update ModemManager to version 1.10.4
                changelog-entry: Update ModemManager to version 1.10.4
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Fix for some innocous systemd tmpfile warnings /var/run -> /run ones
              hash: 25bb6364dfff2a65d7f53f71a35ef74f24f7d7a9
              body: >
                Otherwise systemd complains:

                localhost systemd-tmpfiles[525]: [/etc/tmpfiles.d/balena-tmpfiles.conf:1] Line references path below legacy directory /var/run/, updating /var/run/docker.pid  /run/docker.pid; please update the tmpfiles.d/ drop-in file accordingly.

                localhost systemd-tmpfiles[525]: [/etc/tmpfiles.d/balena-tmpfiles.conf:2] Line references path below legacy directory /var/run/, updating /var/run/balena.pid  /run/balena.pid; please update the tmpfiles.d/ drop-in file accordingly.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix for some innocous systemd tmpfile warnings /var/run -> /run
                  ones
                changelog-entry: Fix for some innocous systemd tmpfile warnings /var/run -> /run
                  ones
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Fix for rollbacks where the inactive partition mount was unavailable
                when altboot triggered
              hash: 856a3d1ad8dbf3b7a87689bbedac23c9148b3d79
              body: >
                PR #1441 changed mnt-sysroot-inactive to an automount. But there
                is no

                way to easily add a udev dependency to the automount. As a result,

                when rollbacks tries to access the inactive partition, it fails.

                Let's add systemd-udev-settle.service to the rollback services.


                This will only delay the first boot after a HUP which is reasonable.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix for rollbacks where the inactive partition mount was
                  unavailable when altboot triggered
                changelog-entry: Fix for rollbacks where the inactive partition mount was
                  unavailable when altboot triggered
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "kernel-resin: Enable FTDI USB-serial convertors driver"
              hash: 40616a274cd7f055397b5acda0fdd6540e797410
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Sebastian Panceac <sebastian@balena.io>
                signed-off-by: Sebastian Panceac <sebastian@balena.io>
              author: Sebastian Panceac
          version: meta-balena-2.41.1
          date: 2019-09-03T13:27:47.892Z
        - commits:
            - subject: Fix a hang in initramfs for warrior production images
              hash: 4c44265a7dd13760a89c235068500bf6f315f651
              body: >
                When `console=null` is passed in the kernel cmdline for
                production

                images, the system doesn't boot. Traced to initramfs not starting any

                process such as udev with the right file descripters for 0,1,2


                Add workaround for that issue. This got exposed with a systemd bump.

                More details here https://github.com/systemd/systemd/issues/13332
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix a hang in initramfs for warrior production images
                changelog-entry: Fix a hang in initramfs for warrior production images
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update balena-engine to 18.09.8
              hash: 9bcd0ffcc7d6efde45f2bc1eaeaafe1092374c40
              body: |
                Includes improvements and fixes to the journald logdriver
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update balena-engine to 18.09.8
                changelog-entry: Update balena-engine to 18.09.8
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
            - subject: Avoid overlayfs mounts in poky's volatile-binds
              hash: b7b6163d955a3bf76a1759b60ed82ccc5fcce6d0
              body: >
                Our root filesystem is overlayfs or aufs. When latter, the
                system

                crashes when reading a lower directory file. We avoid this by always

                falling back to copy and mount (as if overlayfs is not available).


                Fixes #1618
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Avoid overlayfs mounts in poky's volatile-binds
                changelog-entry: Avoid overlayfs mounts in poky's volatile-binds
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
          version: meta-balena-2.41.0
          date: 2019-08-22T14:25:04.139Z
        - commits:
            - subject: Update balena-supervisor to v10.2.2
              hash: 3afbe138f115fa15611cb823caa6664dbb093a8b
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor to v10.2.2
                changelog-entry: Update balena-supervisor to v10.2.2
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Workaround for a cornercase bug in PersistentLogging where journalctl
                filled the state partition. Vacuum the journal on boot.
              hash: 8284da08f245ed6da8308d558bb8dfcc66de9691
              body: >
                We have found a rare corner case bug where the journal bloats
                beyond

                its limit and fills the state partition. Triggering a vacuum on reboot

                helps a bit in case the device is restarted to recover its function.


                Fixes #1423
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Workaround for a cornercase bug in PersistentLogging where
                  journalctl filled the state partition. Vacuum the journal on
                  boot.
                changelog-entry: Workaround for a cornercase bug in PersistentLogging where
                  journalctl filled the state partition. Vacuum the journal on
                  boot.
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
          version: meta-balena-2.40.0
          date: 2019-08-14T09:40:49.562Z
  version: 2.43.0+rev1
  date: 2019-09-16T10:16:46.617Z
- commits:
    - subject: Update balena-yocto-scripts to v1.3.7
      hash: cf88a7761c806dc7801b14224beda1c81dad6b7d
      body: ""
      footer:
        Changelog-entry: Update balena-yocto-scripts to v1.3.7
        changelog-entry: Update balena-yocto-scripts to v1.3.7
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.39.0+rev2
  date: 2019-09-16T07:44:15.542Z
- commits:
    - subject: Add support for TX2 on l4t 32.2
      hash: d464801108d04206d5d3dbc7f4366285568f53b2
      body: |
        Install necessary files in each image type
        for jetson-tx2
      footer:
        Changelog-entry: Add support for TX2 on l4t 32.2
        changelog-entry: Add support for TX2 on l4t 32.2
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: Update the meta-balena submodule from v2.38.0 to v2.39.0
      hash: da9a9138ca951cb90539975ea303eea816ecc47d
      body: |
        Update meta-balena from 2.38.0 to 2.39.0
      footer:
        Changelog-entry: Update the meta-balena submodule from v2.38.0 to v2.39.0
        changelog-entry: Update the meta-balena submodule from v2.38.0 to v2.39.0
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "usb-modeswitch-data: Switch Huawei E3372 12d1:1f01 to mbim mode"
              hash: bb672725f4460402af64ecb7d74d33526f5ed7c1
              body: |
                Customer reported Huawei E3372 not working
                anymore starting with balenaOS v2.32.
                The fix for this appears to be switching the modem with
                vid and pid 12d1:1f01 from the cdc_ether legacy mode to
                the faster mbim mode and setting mtu=1460 in the modem
                connection file.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
            - subject: Fix rollback altboots to prevent good reboots by supervisor triggering
                rollback.
              hash: 7e5843d6542d13d278d2a42da2f787ada8bfa229
              body: >
                After a HUP, until rollbacks clears its state, the supervisor(or
                user)

                can trigger good reboots. These reboots might be seen by the bootloader

                as bad reboots.


                To prevent this from happening, add a service that clears the bootcount

                upon good reboots. This only runs if the rollback services have not

                cleared their flag files in the state partition.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Fix rollback altboots to prevent good reboots by supervisor
                  triggering rollback.
                changelog-entry: Fix rollback altboots to prevent good reboots by supervisor
                  triggering rollback.
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Devices using u-boot. Remove any BOOTDELAY for production images. Add a
                2 seconds delay for development images
              hash: f50952f6e91541f4c07ef14612a71174b9417124
              body: >
                We'd like to split dev and prod uboot config fragments. Dev
                images can

                have a 2 second u-boot delay to facilitate debugging. While prod images

                shouldn't really pause at this stage of the boot.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Devices using u-boot. Remove any BOOTDELAY for production
                  images. Add a 2 seconds delay for development images
                changelog-entry: Devices using u-boot. Remove any BOOTDELAY for production
                  images. Add a 2 seconds delay for development images
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Devices using u-boot. Enable CONFIG_CMD_SETEXPR for all devices.
                Required for rollbacks to work
              hash: 7051a1bda83d53e08148eea953ee2653fd915743
              body: >
                We'd like to enable some config options for all devices via
                meta-balena


                The support is mainline since warrior. Lets copy it in meta-balena

                to get it in the previous layers as well.


                We need CMD_SETEXPR to be enabled for rollbacks to work. So enable it

                via the config fragment
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Devices using u-boot. Enable CONFIG_CMD_SETEXPR for all
                  devices. Required for rollbacks to work
                changelog-entry: Devices using u-boot. Enable CONFIG_CMD_SETEXPR for all
                  devices. Required for rollbacks to work
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Devices using u-boot. Enable rollback-altboot by handling bootcount via
                meta-balena.
              hash: aa0a389ea92a71123813f291833fea61f4965164
              body: >
                U-boot has its own bootcount framework. However, that will
                require

                handling in each device type. We will use u-boot shell commands

                env import -t, env export -t, fatload, fatwrite

                to read/write/increment bootcount in env_resin.h.


                This will allow us to scale to lots of devices.


                A flag os_bootcount_skip is left for devices that are unable to support

                fatwrite in u-boot (in some rare cases). This will allow a device to

                not support rollback-altboot and still function.


                This patch requires that CMD_SETEXPR be enabled in u-boot config

                options.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Devices using u-boot. Enable rollback-altboot by handling
                  bootcount via meta-balena.
                changelog-entry: Devices using u-boot. Enable rollback-altboot by handling
                  bootcount via meta-balena.
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Production Devices using u-boot. Enable CONFIG_RESET_TO_RETRY to reset
                a device in case it drops into a u-boot shell
              hash: 1f7ead33c284f4dc8e2a3d78b2a922a9b778e05c
              body: >
                We'd like to enable some options in all boards header files via

                meta-balena. This patch adds a task to include config_resin.h into

                config_default.h (which is included in all board header files).

                We can then add a config option via meta-balena that will be enabled for

                all devices.


                This patch enables CONFIG_RESET_TO_RETRY. If for whatever strange reason

                (accidental fs issue in u-boot etc), this will trigger a u-boot reset

                command the device in 15 seconds.


                Note This requires that the device's u-boot supports the reset command

                which it probably should.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Production Devices using u-boot. Enable CONFIG_RESET_TO_RETRY
                  to reset a device in case it drops into a u-boot shell
                changelog-entry: Production Devices using u-boot. Enable CONFIG_RESET_TO_RETRY
                  to reset a device in case it drops into a u-boot shell
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Remove confusing networkmanager https connectivity warning
              hash: fbdf643988e4aea76507139b2fc59ef7ad0132af
              body: >
                Fixes #1597


                The warning doesn't apply for our use case and confuses customers
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Remove confusing networkmanager https connectivity warning
                changelog-entry: Remove confusing networkmanager https connectivity warning
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Increase fs.inotify.max_user_instances to 512
              hash: a4f6c8591af9793935a9981a0f0c25fb7b957312
              body: |
                This defaults to 128. BoB hit the limit. Increase to 512
                Fixes #1592
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Increase fs.inotify.max_user_instances to 512
                changelog-entry: Increase fs.inotify.max_user_instances to 512
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update balena-supervisor to v10.0.3
              hash: ad9bdc7236600eb4399761643b772eadd95df662
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor to v10.0.3
                changelog-entry: Update balena-supervisor to v10.0.3
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Fix balena hello-world healthcheck
              hash: e0826741f9a829f2af34afbc9bc1f9920f8ae4e6
              body: >
                We load the hello-world image after starting the balena daemon.

                ExecStartPost should run after the daemon is initialized but chaining a

                15 second sleep for good measure.


                We load the hello-world image here so that devices out in the field and

                on prem devices don't need to pull from dockerhub which would require

                external internet connectivity.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix balena hello-world healthcheck
                changelog-entry: Fix balena hello-world healthcheck
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Add nf_table kernel modules
              hash: 9bca94f29b29098c7177231ee3a9251f1d48dd32
              body: |
                Fixes #1589
                Also, debian buster defaults to requiring nf_tables
                rootfs size impact ~+310K
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add nf_table kernel modules
                changelog-entry: Add nf_table kernel modules
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "hostapp-update-hooks: Use correct source for inactive sysroot"
              hash: f13c837cdc9b1a106ea711785178fc397035ada7
              body: |
                Use ext4 FSTYPE to filter out automount with SOURCE
                "systemd-1" when determining the new parition label
                in the grub update hook.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
            - subject: Add extra healthcheck to balena service. It will spin up a hello-world
                container as well
              hash: 15169084fe9355e6be997712a614e383a71555c9
              body: >
                Occasionally balena ps and balena info work but the balena
                daemon is

                unable to start a new container. This is usually when something in runc

                or containerd is not functioning correctly.


                Add a healthcheck to spin up a simple hello-world container as well.


                The trade-off here is that there will be a few extra writes to disk

                every healthcheck timeout. But there will be a benefit that if runc

                or containerd is in a bad state, the healthcheck will fail and systemd

                will restart the balena daemon to recover the application container


                Fixes #1391
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add extra healthcheck to balena service. It will spin up a
                  hello-world container as well
                changelog-entry: Add extra healthcheck to balena service. It will spin up a
                  hello-world container as well
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update balena-supervisor to v9.18.8
              hash: 41af8ba6ef5b234b819aa0181b7e14e476f68c43
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor to v9.18.8
                changelog-entry: Update balena-supervisor to v9.18.8
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: "image-resin.bbclass: fixed a typo"
              hash: 64a4fc9a7cff18a6dced9f352317761ced7dc563
              body: |
                Fixing a typo in the image size sanity check to ensure the
                correct calculation of FAT overhead sectors.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kylemharding@gmail.com>
                signed-off-by: Kyle Harding <kylemharding@gmail.com>
              author: Kyle Harding
            - subject: "kernel-resin: Add support for CH340 family of usb-serial adapters"
              hash: 941aef5490cf4a120f74cb243c3fbbd8911bcc49
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "kernel-resin: Add support for CH340 family of usb-serial
                  adapters"
                changelog-entry: "kernel-resin: Add support for CH340 family of usb-serial
                  adapters"
                Signed-off-by: Sebastian Panceac <sebastian@balena.io>
                signed-off-by: Sebastian Panceac <sebastian@balena.io>
              author: Sebastian Panceac
            - subject: "resin-proxy-config: add missing reserved ip ranges to default noproxy"
              hash: 49ed2ea12d495defe033be6f2a9e155ff2fc7875
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Will Boyce <will@balena.io>
                signed-off-by: Will Boyce <will@balena.io>
              author: Will Boyce
            - subject: Reduce data partition size from 1G to 192M
              hash: 2270940edfd32a4dd3a3670aa1fb62eb2557f706
              body: >
                The data partition contains the supervisor which is only about
                61M on

                the pi3. We compress the data partition later on so don't notice these

                zeros. But lets reduce the size of the data partition to eat less

                space whenever an uncompressed image is used anywhere. e.g. when

                extracting the zip to dd or using balena-migrate etc.


                The partition expands on first boot to fill the rest of the disk

                anyways.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Reduce data partition size from 1G to 192M
                changelog-entry: Reduce data partition size from 1G to 192M
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
          version: meta-balena-2.39.0
          date: 2019-07-31T10:56:32.370Z
        - commits:
            - subject: "resin-proxy-config: fix up incorrect bash subshell command"
              hash: 0c8de756c22f635b2ef499848b724f1350f555b0
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
          version: meta-balena-2.38.3
          date: 2019-07-10T08:16:25.713Z
        - commits:
            - subject: Update to kernel-modules-headers v0.0.20 to fix missing target modpost
                binary on kernel 5.0.3
              hash: 13bea65dd8201e91b65121ffc2d7bce5d41eedab
              body: |
                This version fixes the missing target modpost binary
                on kernel version 5.0.3.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update to kernel-modules-headers v0.0.20 to fix missing target
                  modpost binary on kernel 5.0.3
                changelog-entry: Update to kernel-modules-headers v0.0.20 to fix missing target
                  modpost binary on kernel 5.0.3
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Update to kernel-modules-headers v0.0.19 to fix target objtool compile
                issue on kernel 5.0.3
              hash: 10846e50674185b7c3126e45ad42f3927c822415
              body: >
                This version fixes the use of wrong fixdep binary (the bug makes
                it use

                target fixdep binary instead of cross fixdep binary) used for compiling

                the target objtool binary on kernel version 5.0.3.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update to kernel-modules-headers v0.0.19 to fix target objtool
                  compile issue on kernel 5.0.3
                changelog-entry: Update to kernel-modules-headers v0.0.19 to fix target objtool
                  compile issue on kernel 5.0.3
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
          version: meta-balena-2.38.2
          date: 2019-06-27T12:37:01.764Z
        - commits:
            - subject: Add warrior to compatible layers for meta-balena-common
              hash: 0ba0bc35ceeb78e03baebf79b738885d532734fc
              body: |
                In addition we delete krogoth and morty from the supported list
                as we also removed the actual layers from the repository.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add warrior to compatible layers for meta-balena-common
                changelog-entry: Add warrior to compatible layers for meta-balena-common
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Fix image-resin.bbclass to be able to use deprecated layers
              hash: 9e8fed3a7170040d4ba887bfd8fc018b97de5d12
              body: >
                Fixes #1564


                This bbclass uses the common layer path advertised by BBLAYERS to find

                the paths to different resources in board repository. For example

                machine json - to get the slug and advertise it in os-release. After

                renaming the common layer (resin to balena) and because we support old

                references to the old common layer name (by including a dummy

                deprecation layer), we need to make sure this class can cope now with

                both cases.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix image-resin.bbclass to be able to use deprecated layers
                changelog-entry: Fix image-resin.bbclass to be able to use deprecated layers
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Fix kernel-devsrc on thud when kernel version < 4.10
              hash: c4cd6307ac3ae86a8d34b91d9dc82b6d3310db9b
              body: >
                Thud breaks when building against kernel version < 4.10. This is
                a known

                issue which is fixed in poky warrior[1]. This patch includes a

                workaround for thud.


                [1] http://lists.openembedded.org/pipermail/openembedded-core/2019-February/278695.html
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix kernel-devsrc on thud when kernel version < 4.10
                changelog-entry: Fix kernel-devsrc on thud when kernel version < 4.10
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
          version: meta-balena-2.38.1
          date: 2019-06-20T12:30:28.452Z
  version: 2.39.0+rev1
  date: 2019-08-12T15:43:02.621Z
- commits:
    - subject: Update the meta-balena submodule from v2.37.0 to v2.38.0
      hash: da6e5395eaa689dd5066293eaf9df3468dc5f6a7
      body: |
        Update meta-balena from 2.37.0 to 2.38.0
      footer:
        Changelog-entry: Update the meta-balena submodule from v2.37.0 to v2.38.0
        changelog-entry: Update the meta-balena submodule from v2.37.0 to v2.38.0
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: Fix VERSION_ID os-release to be semver complient
              hash: fecb50757c10e392d46dec6fd24360f778a87a43
              body: >
                Poky, following os-release(5), sanitizes VERSION_ID accordingly
                but in

                doing so it produces a nonisemver compliant version. For example:

                    VERSION="2.37.0+rev1"
                    VERSION_ID="2.37.0-rev1"

                This patch reverts that to make sure rev is a build tag.


                Fixes #1560
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix VERSION_ID os-release to be semver complient
                changelog-entry: Fix VERSION_ID os-release to be semver complient
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Introduce META_BALENA_VERSION in os-release
              hash: b0e0c77a26f3fad51e2923ab416fdd2af2a5a033
              body: >
                Since #1550, os-release doesn't reference meta-balena distro
                version anymore. Restore

                that by providing this information in a new variable called META_BALENA_VERSION.


                Fixes #1558
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Introduce META_BALENA_VERSION in os-release
                changelog-entry: Introduce META_BALENA_VERSION in os-release
              author: Andrei Gherzan
            - subject: Fix a case where changes to u-boot were not regenerating the config
                file at build time and using stale values.
              hash: b40271867c3249566775cfb870a6176bc47d503f
              body: >
                Currently once config_resin.h is generated, a change in these
                variables

                doesn't regenerate the file. Add vardeps so that bitbake can regenerate

                config_resin.h in case these variables are changed.


                Fixes #1530
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix a case where changes to u-boot were not regenerating the
                  config file at build time and using stale values.
                changelog-entry: Fix a case where changes to u-boot were not regenerating the
                  config file at build time and using stale values.
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Use all.rp_filter=2 as the default value in balenaOS
              hash: 2fe90f3316a9394db0a060ec976d23fa97d4f00a
              body: >
                This change backports a PR[1] that is already in systemd and
                will come

                included by default from the version in Yocto warrior.


                In summary, with this change we fix newer NM which stopped handling

                rp_filter when connected to multiple interfaces. See "device: disable

                rp_filter handling" commit from NM. Without this change, only the

                default route will me usable and binding to a specific interface will

                break connectivity if that interface is not also the default route for

                the target IP.


                [1]https://github.com/systemd/systemd/pull/10971/commits/6caa14f763c11630f28d587b3caa5f0e6dc96165
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Use all.rp_filter=2 as the default value in balenaOS
                changelog-entry: Use all.rp_filter=2 as the default value in balenaOS
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Persist bluetooth storage data over reboots
              hash: 3815e42f24167c0ce84a39cf0653434bacb0bd88
              body: >
                Currently, bluez's storage data is set to /var/lib/bluetooth
                which

                in turn is a tmpfs location. We want this location persistent so we can

                save paired devices over reboot. We do that by adding the corresponding

                bind mount to the state partition and setting bluez to depend on this

                mount unit.


                Fixes #1544
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Persist bluetooth storage data over reboots
                changelog-entry: Persist bluetooth storage data over reboots
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Drop support for morty and krogoth Yocto versions
              hash: 85c1eda1eeade2e5d5a1153d9c737225de0b3ee2
              body: >
                We have been deprecating these layers since v2.30.0. It's time
                to drop

                this support completely.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Drop support for morty and krogoth Yocto versions
                changelog-entry: Drop support for morty and krogoth Yocto versions
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Add Yocto Warrior support
              hash: b86ee8945ba71ccdae9d7d0d52b2822db39d4c6a
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add Yocto Warrior support
                changelog-entry: Add Yocto Warrior support
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Set both VERSION_ID and VERSION in os-release to host OS version
              hash: 40347f618b3b70ccc5f40e924990197ae9fa7e6b
              body: >
                VERSION and VERSION_ID had a slightly different semantics in
                balenaOS.

                VERSION was referring to the BalenaOS (host OS) version (which is coming from

                device repositories) while VERSION_ID was set to the DISTRO_VERSION.

                This brings confusion so we change it to adhere to

                https://www.freedesktop.org/software/systemd/man/os-release.html.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Set both VERSION_ID and VERSION in os-release to host OS
                  version
                changelog-entry: Set both VERSION_ID and VERSION in os-release to host OS
                  version
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Bump balena-engine to 18.9.6
              hash: 3af08fe6d30b5f0f8148c6820cda1cca3076bf00
              body: >
                In preparation for warrior. Bumps containerd which works with
                the newer

                systemd in warrior.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Bump balena-engine to 18.9.6
                changelog-entry: Bump balena-engine to 18.9.6
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Downgrade balena-supervisor to v9.15.7
              hash: c3616e19967e30726048018161fd4763d3d45773
              body: >
                This is done because a feature
                (RESIN_SUPERVISOR_MIXPANEL_REPORT) needs

                more work before releasing in production.
              footer:
                Changelog-entry: Downgrade balena-supervisor to v9.15.7
                changelog-entry: Downgrade balena-supervisor to v9.15.7
                Change-type: patch
                change-type: patch
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Switch from dropbear to openSSH
              hash: ef33f21cdb7283c6f62590b1fe3d37c7fbd4df99
              body: >
                This is done for the "AuthorizedKeysCommand" in openSSH which in
                turn is

                used by the balena backend.


                Fixes #1388
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Switch from dropbear to openSSH
                changelog-entry: Switch from dropbear to openSSH
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Rename meta-resin-common to meta-balena-common
              hash: db96dfc3864399a5029fa8e78bc7fe518f3ae63a
              body: |
                Follow the resin to balena rename on the common yocto layer.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Rename meta-resin-common to meta-balena-common
                changelog-entry: Rename meta-resin-common to meta-balena-common
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Add wifi firmware for rtl8192su
              hash: 875bd033eb400b6338c7c70417fcd78586a184cf
              body: |
                Fixes #1511
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add wifi firmware for rtl8192su
                changelog-entry: Add wifi firmware for rtl8192su
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
          version: meta-balena-2.38.0
          date: 2019-06-14T15:11:59.348Z
  version: 2.38.0+rev1
  date: 2019-06-17T12:54:32.511Z
- commits:
    - subject: "jetson-xavier.coffee: Add coffee file for Jetson Xavier"
      hash: 4a77d7706a9ed17e954fd7a24db72185927d28f8
      body: ""
      footer:
        Changelog-entry: "jetson-xavier.coffee: Add coffee file for Jetson Xavier"
        changelog-entry: "jetson-xavier.coffee: Add coffee file for Jetson Xavier"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.37.0+rev2
  date: 2019-06-14T08:29:58.519Z
- commits:
    - subject: Update meta-balena from v2.32.0 to v2.37.0
      hash: ec2471cf213e99a35e74de0db9a92c0be77ceb88
      body: ""
      footer:
        Changelog-entry: Update meta-balena from v2.32.0 to v2.37.0
        changelog-entry: Update meta-balena from v2.32.0 to v2.37.0
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: Update to trigger VersionBot with `meta-balena`
      hash: 76a52f99b784fe5063f9f771ddd226ce87425ab6
      body: ""
      footer:
        Changelog-entry: Update to trigger VersionBot with `meta-balena`
        changelog-entry: Update to trigger VersionBot with `meta-balena`
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.37.0+rev1
  date: 2019-06-05T11:03:35.196Z
- commits:
    - subject: Fix primary partition number
      hash: b32ae35396a62b6eae8cdda49bb5d2332dad5094
      body: |
        Otherwise the ImageMaker cannot get the right partition for the
        configuration.
      footer:
        Changelog-entry: Fix primary partition number
        changelog-entry: Fix primary partition number
        Signed-off-by: Gergely Imreh <gergely@balena.io>
        signed-off-by: Gergely Imreh <gergely@balena.io>
      author: Gergely Imreh
  version: 2.32.0+rev2
  date: 2019-04-25T12:29:30.461Z
- commits:
    - subject: "jetson-nano.svg: Add icon for Jetson Nano"
      hash: 0fde15621242c3d5ad43f354e94e5540e1b4f526
      body: ""
      footer:
        Changelog-entry: "jetson-nano.svg: Add icon for Jetson Nano"
        changelog-entry: "jetson-nano.svg: Add icon for Jetson Nano"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: "usb-modeswitch: Fix crash on 64 bit platforms"
      hash: 4c4951a9023e6d3f444952032f8b52394f6caf8d
      body: |
        Add patch needed to prevent crashes when using modems
      footer:
        Changelog-entry: "usb-modeswitch: Fix crash on 64 bit platforms"
        changelog-entry: "usb-modeswitch: Fix crash on 64 bit platforms"
        Author: Florin Sarbu <florin@balena.io>
        author: Florin Sarbu <florin@balena.io>
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: "jetson-nano.coffee: Added coffee file"
      hash: 0c47287eda62b0d2668bc46fa4588e52c6e5f6d2
      body: ""
      footer:
        Changelog-entry: "jetson-nano.coffee: Added coffee file"
        changelog-entry: "jetson-nano.coffee: Added coffee file"
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.32.0+rev1
  date: 2019-04-19T14:22:56.398Z
